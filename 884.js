/*! For license information please see 884.js.LICENSE.txt */
"use strict";(self.webpackChunkcontracts_ui=self.webpackChunkcontracts_ui||[]).push([[884],{72884:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{vo:()=>Database});var _textile_crypto__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(84553),_textile_threads_client__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(977),_textile_threads_id__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(38941),_textile_context__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(12117),Buffer=__webpack_require__(66755).Buffer,commonjsGlobal="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==__webpack_require__.g?__webpack_require__.g:"undefined"!=typeof self?self:{};function getDefaultExportFromCjs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function getAugmentedNamespace(e){if(e.__esModule)return e;var t=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(e).forEach((function(r){var o=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,o.get?o:{enumerable:!0,get:function(){return e[r]}})})),t}function createCommonjsModule(e){var t={exports:{}};return e(t,t.exports),t.exports}function __rest(e,t){var r={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(r[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(o=Object.getOwnPropertySymbols(e);n<o.length;n++)t.indexOf(o[n])<0&&Object.prototype.propertyIsEnumerable.call(e,o[n])&&(r[o[n]]=e[o[n]])}return r}function __awaiter(e,t,r,o){return new(r||(r=Promise))((function(n,i){function s(e){try{u(o.next(e))}catch(e){i(e)}}function a(e){try{u(o.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}u((o=o.apply(e,t||[])).next())}))}function createError(e){var t=new Error(e);return t.source="ulid",t}createCommonjsModule((function(e){var t=function(e){var t,r=Object.prototype,o=r.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},i=n.iterator||"@@iterator",s=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function l(e,t,r,o){var n=t&&t.prototype instanceof y?t:y,i=Object.create(n.prototype),s=new O(o||[]);return i._invoke=function(e,t,r){var o=p;return function(n,i){if(o===d)throw new Error("Generator is already running");if(o===f){if("throw"===n)throw i;return I()}for(r.method=n,r.arg=i;;){var s=r.delegate;if(s){var a=R(s,r);if(a){if(a===h)continue;return a}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===p)throw o=f,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=d;var u=c(e,t,r);if("normal"===u.type){if(o=r.done?f:g,u.arg===h)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=f,r.method="throw",r.arg=u.arg)}}}(e,r,s),i}function c(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var p="suspendedStart",g="suspendedYield",d="executing",f="completed",h={};function y(){}function b(){}function m(){}var _={};_[i]=function(){return this};var v=Object.getPrototypeOf,E=v&&v(v(P([])));E&&E!==r&&o.call(E,i)&&(_=E);var S=m.prototype=y.prototype=Object.create(_);function w(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function T(e,t){function r(n,i,s,a){var u=c(e[n],e,i);if("throw"!==u.type){var l=u.arg,p=l.value;return p&&"object"==typeof p&&o.call(p,"__await")?t.resolve(p.__await).then((function(e){r("next",e,s,a)}),(function(e){r("throw",e,s,a)})):t.resolve(p).then((function(e){l.value=e,s(l)}),(function(e){return r("throw",e,s,a)}))}a(u.arg)}var n;this._invoke=function(e,o){function i(){return new t((function(t,n){r(e,o,t,n)}))}return n=n?n.then(i,i):i()}}function R(e,r){var o=e.iterator[r.method];if(o===t){if(r.delegate=null,"throw"===r.method){if(e.iterator.return&&(r.method="return",r.arg=t,R(e,r),"throw"===r.method))return h;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var n=c(o,e.iterator,r.arg);if("throw"===n.type)return r.method="throw",r.arg=n.arg,r.delegate=null,h;var i=n.arg;return i?i.done?(r[e.resultName]=i.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,h):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,h)}function A(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function D(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(A,this),this.reset(!0)}function P(e){if(e){var r=e[i];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,s=function r(){for(;++n<e.length;)if(o.call(e,n))return r.value=e[n],r.done=!1,r;return r.value=t,r.done=!0,r};return s.next=s}}return{next:I}}function I(){return{value:t,done:!0}}return b.prototype=S.constructor=m,m.constructor=b,b.displayName=u(m,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,u(e,a,"GeneratorFunction")),e.prototype=Object.create(S),e},e.awrap=function(e){return{__await:e}},w(T.prototype),T.prototype[s]=function(){return this},e.AsyncIterator=T,e.async=function(t,r,o,n,i){void 0===i&&(i=Promise);var s=new T(l(t,r,o,n),i);return e.isGeneratorFunction(r)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},w(S),u(S,a,"Generator"),S[i]=function(){return this},S.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var o=t.pop();if(o in e)return r.value=o,r.done=!1,r}return r.done=!0,r}},e.values=P,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(D),!e)for(var r in this)"t"===r.charAt(0)&&o.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function n(o,n){return a.type="throw",a.arg=e,r.next=o,n&&(r.method="next",r.arg=t),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var s=this.tryEntries[i],a=s.completion;if("root"===s.tryLoc)return n("end");if(s.tryLoc<=this.prev){var u=o.call(s,"catchLoc"),l=o.call(s,"finallyLoc");if(u&&l){if(this.prev<s.catchLoc)return n(s.catchLoc,!0);if(this.prev<s.finallyLoc)return n(s.finallyLoc)}else if(u){if(this.prev<s.catchLoc)return n(s.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return n(s.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&o.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var i=n;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var s=i?i.completion:{};return s.type=e,s.arg=t,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),D(r),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var o=r.completion;if("throw"===o.type){var n=o.arg;D(r)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,o){return this.delegate={iterator:P(e),resultName:r,nextLoc:o},"next"===this.method&&(this.arg=t),h}},e}(e.exports);try{regeneratorRuntime=t}catch(e){Function("r","regeneratorRuntime = r")(t)}}));var ENCODING="0123456789ABCDEFGHJKMNPQRSTVWXYZ",ENCODING_LEN=ENCODING.length,TIME_MAX=Math.pow(2,48)-1,TIME_LEN=10,RANDOM_LEN=16;function randomChar(e){var t=Math.floor(e()*ENCODING_LEN);return t===ENCODING_LEN&&(t=ENCODING_LEN-1),ENCODING.charAt(t)}function encodeTime(e,t){if(isNaN(e))throw new Error(e+" must be a number");if(e>TIME_MAX)throw createError("cannot encode time greater than "+TIME_MAX);if(e<0)throw createError("time must be positive");if(!1===Number.isInteger(e))throw createError("time must be an integer");for(var r=void 0,o="";t>0;t--)r=e%ENCODING_LEN,o=ENCODING.charAt(r)+o,e=(e-r)/ENCODING_LEN;return o}function encodeRandom(e,t){for(var r="";e>0;e--)r=randomChar(t)+r;return r}function detectPrng(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments[1];t||(t="undefined"!=typeof window?window:null);var r=t&&(t.crypto||t.msCrypto);if(r)return function(){var e=new Uint8Array(1);return r.getRandomValues(e),e[0]/255};try{var o=__webpack_require__(55835);return function(){return o.randomBytes(1).readUInt8()/255}}catch(e){}if(e){try{console.error("secure crypto unusable, falling back to insecure Math.random()!")}catch(e){}return function(){return Math.random()}}throw createError("secure crypto unusable, insecure Math.random not allowed")}function factory(e){return e||(e=detectPrng()),function(t){return isNaN(t)&&(t=Date.now()),encodeTime(t,TIME_LEN)+encodeRandom(RANDOM_LEN,e)}}var ulid=factory();function DocumentInstanceClassFactory(e){return class{constructor(e={}){return Object.assign(this,Object.assign({_id:ulid()},e))}save(){return e.put(Object.assign({},this))}remove(){return e.delete(this._id)}exists(){return __awaiter(this,void 0,void 0,(function*(){return void 0!==(yield e.get(this._id))}))}toJSON(){return Object.assign({},this)}}}class Collection{constructor(e){this.table=e,this.table.mapToClass(DocumentInstanceClassFactory(e))}get name(){return this.table.name}clear(){return __awaiter(this,void 0,void 0,(function*(){const{result:e}=yield this.table.drop();return e.ok>0}))}readTransaction(e){return this.table.db.transaction("readonly",[this.table],e)}writeTransaction(e){return this.table.db.transaction("readwrite",[this.table],e)}findById(e){return this.table.get(e)}insert(...e){return __awaiter(this,void 0,void 0,(function*(){return this.table.bulkAdd(e,{allKeys:!0})}))}create(e){return new(0,this.table.schema.mappedClass)(e)}delete(...e){return __awaiter(this,void 0,void 0,(function*(){yield this.table.bulkDelete(e)}))}save(...e){return this.table.bulkPut(e,{allKeys:!0})}has(...e){return __awaiter(this,void 0,void 0,(function*(){const t=yield this.table.bulkGet(e);return Boolean(t.length)&&void 0!==t[0]}))}find(e){return this.table.find(e)}findOne(e){return this.table.findOne(e)}count(e){return this.table.count(e)}}var grpcWebClient_umd=createCommonjsModule((function(e,t){e.exports=function(){return e={84:function(e){var t;t=function(){return function(e){var t={};function r(o){if(t[o])return t[o].exports;var n=t[o]={i:o,l:!1,exports:{}};return e[o].call(n.exports,n,n.exports,r),n.l=!0,n.exports}return r.m=e,r.c=t,r.i=function(e){return e},r.d=function(e,t,o){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:o})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=1)}([function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var o=r(3),n=function(){function e(e,t){void 0===e&&(e={}),void 0===t&&(t={splitValues:!1});var r,n=this;this.headersMap={},e&&("undefined"!=typeof Headers&&e instanceof Headers?o.getHeaderKeys(e).forEach((function(r){o.getHeaderValues(e,r).forEach((function(e){t.splitValues?n.append(r,o.splitHeaderValue(e)):n.append(r,e)}))})):"object"==typeof(r=e)&&"object"==typeof r.headersMap&&"function"==typeof r.forEach?e.forEach((function(e,t){n.append(e,t)})):"undefined"!=typeof Map&&e instanceof Map?e.forEach((function(e,t){n.append(t,e)})):"string"==typeof e?this.appendFromString(e):"object"==typeof e&&Object.getOwnPropertyNames(e).forEach((function(t){var r=e[t];Array.isArray(r)?r.forEach((function(e){n.append(t,e)})):n.append(t,r)})))}return e.prototype.appendFromString=function(e){for(var t=e.split("\r\n"),r=0;r<t.length;r++){var o=t[r],n=o.indexOf(":");if(n>0){var i=o.substring(0,n).trim(),s=o.substring(n+1).trim();this.append(i,s)}}},e.prototype.delete=function(e,t){var r=o.normalizeName(e);if(void 0===t)delete this.headersMap[r];else{var n=this.headersMap[r];if(n){var i=n.indexOf(t);i>=0&&n.splice(i,1),0===n.length&&delete this.headersMap[r]}}},e.prototype.append=function(e,t){var r=this,n=o.normalizeName(e);Array.isArray(this.headersMap[n])||(this.headersMap[n]=[]),Array.isArray(t)?t.forEach((function(e){r.headersMap[n].push(o.normalizeValue(e))})):this.headersMap[n].push(o.normalizeValue(t))},e.prototype.set=function(e,t){var r=o.normalizeName(e);if(Array.isArray(t)){var n=[];t.forEach((function(e){n.push(o.normalizeValue(e))})),this.headersMap[r]=n}else this.headersMap[r]=[o.normalizeValue(t)]},e.prototype.has=function(e,t){var r=this.headersMap[o.normalizeName(e)];if(!Array.isArray(r))return!1;if(void 0!==t){var n=o.normalizeValue(t);return r.indexOf(n)>=0}return!0},e.prototype.get=function(e){var t=this.headersMap[o.normalizeName(e)];return void 0!==t?t.concat():[]},e.prototype.forEach=function(e){var t=this;Object.getOwnPropertyNames(this.headersMap).forEach((function(r){e(r,t.headersMap[r])}),this)},e.prototype.toHeaders=function(){if("undefined"!=typeof Headers){var e=new Headers;return this.forEach((function(t,r){r.forEach((function(r){e.append(t,r)}))})),e}throw new Error("Headers class is not defined")},e}();t.BrowserHeaders=n},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var o=r(0);t.BrowserHeaders=o.BrowserHeaders},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.iterateHeaders=function(e,t){for(var r=e[Symbol.iterator](),o=r.next();!o.done;)t(o.value[0]),o=r.next()},t.iterateHeadersKeys=function(e,t){for(var r=e.keys(),o=r.next();!o.done;)t(o.value),o=r.next()}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var o=r(2);t.normalizeName=function(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()},t.normalizeValue=function(e){return"string"!=typeof e&&(e=String(e)),e},t.getHeaderValues=function(e,t){var r=e;if(r instanceof Headers&&r.getAll)return r.getAll(t);var o=r.get(t);return o&&"string"==typeof o?[o]:o},t.getHeaderKeys=function(e){var t=e,r={},n=[];return t.keys?o.iterateHeadersKeys(t,(function(e){r[e]||(r[e]=!0,n.push(e))})):t.forEach?t.forEach((function(e,t){r[t]||(r[t]=!0,n.push(t))})):o.iterateHeaders(t,(function(e){var t=e[0];r[t]||(r[t]=!0,n.push(t))})),n},t.splitHeaderValue=function(e){var t=[];return e.split(", ").forEach((function(e){e.split(",").forEach((function(e){t.push(e)}))})),t}}])},e.exports=t()},617:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ChunkParser=t.ChunkType=t.encodeASCII=t.decodeASCII=void 0;var o,n=r(65);function i(e){return 9===(t=e)||10===t||13===t||e>=32&&e<=126;var t}function s(e){for(var t=0;t!==e.length;++t)if(!i(e[t]))throw new Error("Metadata is not valid (printable) ASCII");return String.fromCharCode.apply(String,Array.prototype.slice.call(e))}function a(e){return 128==(128&e.getUint8(0))}function u(e){return e.getUint32(1,!1)}function l(e,t,r){return e.byteLength-t>=r}function c(e,t,r){if(e.slice)return e.slice(t,r);var o=e.length;void 0!==r&&(o=r);for(var n=new Uint8Array(o-t),i=0,s=t;s<o;s++)n[i++]=e[s];return n}t.decodeASCII=s,t.encodeASCII=function(e){for(var t=new Uint8Array(e.length),r=0;r!==e.length;++r){var o=e.charCodeAt(r);if(!i(o))throw new Error("Metadata contains invalid ASCII");t[r]=o}return t},function(e){e[e.MESSAGE=1]="MESSAGE",e[e.TRAILERS=2]="TRAILERS"}(o=t.ChunkType||(t.ChunkType={}));var p=function(){function e(){this.buffer=null,this.position=0}return e.prototype.parse=function(e,t){if(0===e.length&&t)return[];var r,i=[];if(null==this.buffer)this.buffer=e,this.position=0;else if(this.position===this.buffer.byteLength)this.buffer=e,this.position=0;else{var p=this.buffer.byteLength-this.position,g=new Uint8Array(p+e.byteLength),d=c(this.buffer,this.position);g.set(d,0);var f=new Uint8Array(e);g.set(f,p),this.buffer=g,this.position=0}for(;;){if(!l(this.buffer,this.position,5))return i;var h=c(this.buffer,this.position,this.position+5),y=new DataView(h.buffer,h.byteOffset,h.byteLength),b=u(y);if(!l(this.buffer,this.position,5+b))return i;var m=c(this.buffer,this.position+5,this.position+5+b);if(this.position+=5+b,a(y))return i.push({chunkType:o.TRAILERS,trailers:(r=m,new n.Metadata(s(r)))}),i;i.push({chunkType:o.MESSAGE,data:m})}},e}();t.ChunkParser=p},8:(e,t)=>{var r;Object.defineProperty(t,"__esModule",{value:!0}),t.httpStatusToCode=t.Code=void 0,function(e){e[e.OK=0]="OK",e[e.Canceled=1]="Canceled",e[e.Unknown=2]="Unknown",e[e.InvalidArgument=3]="InvalidArgument",e[e.DeadlineExceeded=4]="DeadlineExceeded",e[e.NotFound=5]="NotFound",e[e.AlreadyExists=6]="AlreadyExists",e[e.PermissionDenied=7]="PermissionDenied",e[e.ResourceExhausted=8]="ResourceExhausted",e[e.FailedPrecondition=9]="FailedPrecondition",e[e.Aborted=10]="Aborted",e[e.OutOfRange=11]="OutOfRange",e[e.Unimplemented=12]="Unimplemented",e[e.Internal=13]="Internal",e[e.Unavailable=14]="Unavailable",e[e.DataLoss=15]="DataLoss",e[e.Unauthenticated=16]="Unauthenticated"}(r=t.Code||(t.Code={})),t.httpStatusToCode=function(e){switch(e){case 0:return r.Internal;case 200:return r.OK;case 400:return r.InvalidArgument;case 401:return r.Unauthenticated;case 403:return r.PermissionDenied;case 404:return r.NotFound;case 409:return r.Aborted;case 412:return r.FailedPrecondition;case 429:return r.ResourceExhausted;case 499:return r.Canceled;case 500:default:return r.Unknown;case 501:return r.Unimplemented;case 503:return r.Unavailable;case 504:return r.DeadlineExceeded}}},934:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.client=void 0;var o=r(65),n=r(617),i=r(8),s=r(346),a=r(57),u=r(882);t.client=function(e,t){return new l(e,t)};var l=function(){function e(e,t){this.started=!1,this.sentFirstMessage=!1,this.completed=!1,this.closed=!1,this.finishedSending=!1,this.onHeadersCallbacks=[],this.onMessageCallbacks=[],this.onEndCallbacks=[],this.parser=new n.ChunkParser,this.methodDefinition=e,this.props=t,this.createTransport()}return e.prototype.createTransport=function(){var e=this.props.host+"/"+this.methodDefinition.service.serviceName+"/"+this.methodDefinition.methodName,t={methodDefinition:this.methodDefinition,debug:this.props.debug||!1,url:e,onHeaders:this.onTransportHeaders.bind(this),onChunk:this.onTransportChunk.bind(this),onEnd:this.onTransportEnd.bind(this)};this.props.transport?this.transport=this.props.transport(t):this.transport=a.makeDefaultTransport(t)},e.prototype.onTransportHeaders=function(e,t){if(this.props.debug&&s.debug("onHeaders",e,t),this.closed)this.props.debug&&s.debug("grpc.onHeaders received after request was closed - ignoring");else if(0===t);else{this.responseHeaders=e,this.props.debug&&s.debug("onHeaders.responseHeaders",JSON.stringify(this.responseHeaders,null,2));var r=c(e);this.props.debug&&s.debug("onHeaders.gRPCStatus",r);var o=r&&r>=0?r:i.httpStatusToCode(t);this.props.debug&&s.debug("onHeaders.code",o);var n=e.get("grpc-message")||[];if(this.props.debug&&s.debug("onHeaders.gRPCMessage",n),this.rawOnHeaders(e),o!==i.Code.OK){var a=this.decodeGRPCStatus(n[0]);this.rawOnError(o,a,e)}}},e.prototype.onTransportChunk=function(e){var t=this;if(this.closed)this.props.debug&&s.debug("grpc.onChunk received after request was closed - ignoring");else{var r=[];try{r=this.parser.parse(e)}catch(e){return this.props.debug&&s.debug("onChunk.parsing error",e,e.message),void this.rawOnError(i.Code.Internal,"parsing error: "+e.message)}r.forEach((function(e){if(e.chunkType===n.ChunkType.MESSAGE){var r=t.methodDefinition.responseType.deserializeBinary(e.data);t.rawOnMessage(r)}else e.chunkType===n.ChunkType.TRAILERS&&(t.responseHeaders?(t.responseTrailers=new o.Metadata(e.trailers),t.props.debug&&s.debug("onChunk.trailers",t.responseTrailers)):(t.responseHeaders=new o.Metadata(e.trailers),t.rawOnHeaders(t.responseHeaders)))}))}},e.prototype.onTransportEnd=function(){if(this.props.debug&&s.debug("grpc.onEnd"),this.closed)this.props.debug&&s.debug("grpc.onEnd received after request was closed - ignoring");else if(void 0!==this.responseTrailers){var e=c(this.responseTrailers);if(null!==e){var t=this.responseTrailers.get("grpc-message"),r=this.decodeGRPCStatus(t[0]);this.rawOnEnd(e,r,this.responseTrailers)}else this.rawOnError(i.Code.Internal,"Response closed without grpc-status (Trailers provided)")}else{if(void 0===this.responseHeaders)return void this.rawOnError(i.Code.Unknown,"Response closed without headers");var o=c(this.responseHeaders),n=this.responseHeaders.get("grpc-message");if(this.props.debug&&s.debug("grpc.headers only response ",o,n),null===o)return void this.rawOnEnd(i.Code.Unknown,"Response closed without grpc-status (Headers only)",this.responseHeaders);var a=this.decodeGRPCStatus(n[0]);this.rawOnEnd(o,a,this.responseHeaders)}},e.prototype.decodeGRPCStatus=function(e){if(!e)return"";try{return decodeURIComponent(e)}catch(t){return e}},e.prototype.rawOnEnd=function(e,t,r){var o=this;this.props.debug&&s.debug("rawOnEnd",e,t,r),this.completed||(this.completed=!0,this.onEndCallbacks.forEach((function(n){if(!o.closed)try{n(e,t,r)}catch(e){setTimeout((function(){throw e}))}})))},e.prototype.rawOnHeaders=function(e){this.props.debug&&s.debug("rawOnHeaders",e),this.completed||this.onHeadersCallbacks.forEach((function(t){try{t(e)}catch(e){setTimeout((function(){throw e}))}}))},e.prototype.rawOnError=function(e,t,r){var n=this;void 0===r&&(r=new o.Metadata),this.props.debug&&s.debug("rawOnError",e,t),this.completed||(this.completed=!0,this.onEndCallbacks.forEach((function(o){if(!n.closed)try{o(e,t,r)}catch(e){setTimeout((function(){throw e}))}})))},e.prototype.rawOnMessage=function(e){var t=this;this.props.debug&&s.debug("rawOnMessage",e.toObject()),this.completed||this.closed||this.onMessageCallbacks.forEach((function(r){if(!t.closed)try{r(e)}catch(e){setTimeout((function(){throw e}))}}))},e.prototype.onHeaders=function(e){this.onHeadersCallbacks.push(e)},e.prototype.onMessage=function(e){this.onMessageCallbacks.push(e)},e.prototype.onEnd=function(e){this.onEndCallbacks.push(e)},e.prototype.start=function(e){if(this.started)throw new Error("Client already started - cannot .start()");this.started=!0;var t=new o.Metadata(e||{});t.set("content-type","application/grpc-web+proto"),t.set("x-grpc-web","1"),this.transport.start(t)},e.prototype.send=function(e){if(!this.started)throw new Error("Client not started - .start() must be called before .send()");if(this.closed)throw new Error("Client already closed - cannot .send()");if(this.finishedSending)throw new Error("Client already finished sending - cannot .send()");if(!this.methodDefinition.requestStream&&this.sentFirstMessage)throw new Error("Message already sent for non-client-streaming method - cannot .send()");this.sentFirstMessage=!0;var t=u.frameRequest(e);this.transport.sendMessage(t)},e.prototype.finishSend=function(){if(!this.started)throw new Error("Client not started - .finishSend() must be called before .close()");if(this.closed)throw new Error("Client already closed - cannot .send()");if(this.finishedSending)throw new Error("Client already finished sending - cannot .finishSend()");this.finishedSending=!0,this.transport.finishSend()},e.prototype.close=function(){if(!this.started)throw new Error("Client not started - .start() must be called before .close()");if(this.closed)throw new Error("Client already closed - cannot .close()");this.closed=!0,this.props.debug&&s.debug("request.abort aborting request"),this.transport.cancel()},e}();function c(e){var t=e.get("grpc-status")||[];if(t.length>0)try{var r=t[0];return parseInt(r,10)}catch(e){return null}return null}},346:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.debug=void 0,t.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.debug?console.debug.apply(null,e):console.log.apply(null,e)}},607:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.grpc=void 0;var o,n=r(84),i=r(57),s=r(229),a=r(540),u=r(210),l=r(859),c=r(8),p=r(938),g=r(35),d=r(934);(o=t.grpc||(t.grpc={})).setDefaultTransport=i.setDefaultTransportFactory,o.CrossBrowserHttpTransport=l.CrossBrowserHttpTransport,o.FetchReadableStreamTransport=s.FetchReadableStreamTransport,o.XhrTransport=u.XhrTransport,o.WebsocketTransport=a.WebsocketTransport,o.Code=c.Code,o.Metadata=n.BrowserHeaders,o.client=function(e,t){return d.client(e,t)},o.invoke=p.invoke,o.unary=g.unary},938:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.invoke=void 0;var o=r(934);t.invoke=function(e,t){if(e.requestStream)throw new Error(".invoke cannot be used with client-streaming methods. Use .client instead.");var r=o.client(e,{host:t.host,transport:t.transport,debug:t.debug});return t.onHeaders&&r.onHeaders(t.onHeaders),t.onMessage&&r.onMessage(t.onMessage),t.onEnd&&r.onEnd(t.onEnd),r.start(t.metadata),r.send(t.request),r.finishSend(),{close:function(){r.close()}}}},65:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Metadata=void 0;var o=r(84);Object.defineProperty(t,"Metadata",{enumerable:!0,get:function(){return o.BrowserHeaders}})},57:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.makeDefaultTransport=t.setDefaultTransportFactory=void 0;var o=r(859),n=function(e){return o.CrossBrowserHttpTransport({withCredentials:!1})(e)};t.setDefaultTransportFactory=function(e){n=e},t.makeDefaultTransport=function(e){return n(e)}},229:function(e,t,r){var o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,r=1,o=arguments.length;r<o;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.detectFetchSupport=t.FetchReadableStreamTransport=void 0;var n=r(65),i=r(346);t.FetchReadableStreamTransport=function(e){return function(t){return function(e,t){return e.debug&&i.debug("fetchRequest",e),new s(e,t)}(t,e)}};var s=function(){function e(e,t){this.cancelled=!1,this.controller=self.AbortController&&new AbortController,this.options=e,this.init=t}return e.prototype.pump=function(e,t){var r=this;if(this.reader=e,this.cancelled)return this.options.debug&&i.debug("Fetch.pump.cancel at first pump"),void this.reader.cancel().catch((function(e){r.options.debug&&i.debug("Fetch.pump.reader.cancel exception",e)}));this.reader.read().then((function(e){if(e.done)return r.options.onEnd(),t;r.options.onChunk(e.value),r.pump(r.reader,t)})).catch((function(e){r.cancelled?r.options.debug&&i.debug("Fetch.catch - request cancelled"):(r.cancelled=!0,r.options.debug&&i.debug("Fetch.catch",e.message),r.options.onEnd(e))}))},e.prototype.send=function(e){var t=this;fetch(this.options.url,o(o({},this.init),{headers:this.metadata.toHeaders(),method:"POST",body:e,signal:this.controller&&this.controller.signal})).then((function(e){if(t.options.debug&&i.debug("Fetch.response",e),t.options.onHeaders(new n.Metadata(e.headers),e.status),!e.body)return e;t.pump(e.body.getReader(),e)})).catch((function(e){t.cancelled?t.options.debug&&i.debug("Fetch.catch - request cancelled"):(t.cancelled=!0,t.options.debug&&i.debug("Fetch.catch",e.message),t.options.onEnd(e))}))},e.prototype.sendMessage=function(e){this.send(e)},e.prototype.finishSend=function(){},e.prototype.start=function(e){this.metadata=e},e.prototype.cancel=function(){var e=this;this.cancelled?this.options.debug&&i.debug("Fetch.cancel already cancelled"):(this.cancelled=!0,this.controller?(this.options.debug&&i.debug("Fetch.cancel.controller.abort"),this.controller.abort()):this.options.debug&&i.debug("Fetch.cancel.missing abort controller"),this.reader?(this.options.debug&&i.debug("Fetch.cancel.reader.cancel"),this.reader.cancel().catch((function(t){e.options.debug&&i.debug("Fetch.cancel.reader.cancel exception",t)}))):this.options.debug&&i.debug("Fetch.cancel before reader"))},e}();t.detectFetchSupport=function(){return"undefined"!=typeof Response&&Response.prototype.hasOwnProperty("body")&&"function"==typeof Headers}},859:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CrossBrowserHttpTransport=void 0;var o=r(229),n=r(210);t.CrossBrowserHttpTransport=function(e){if(o.detectFetchSupport()){var t={credentials:e.withCredentials?"include":"same-origin"};return o.FetchReadableStreamTransport(t)}return n.XhrTransport({withCredentials:e.withCredentials})}},210:function(e,t,r){var o,n=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.stringToArrayBuffer=t.MozChunkedArrayBufferXHR=t.XHR=t.XhrTransport=void 0;var i=r(65),s=r(346),a=r(849);t.XhrTransport=function(e){return function(t){if(a.detectMozXHRSupport())return new l(t,e);if(a.detectXHROverrideMimeTypeSupport())return new u(t,e);throw new Error("This environment's XHR implementation cannot support binary transfer.")}};var u=function(){function e(e,t){this.options=e,this.init=t}return e.prototype.onProgressEvent=function(){this.options.debug&&s.debug("XHR.onProgressEvent.length: ",this.xhr.response.length);var e=this.xhr.response.substr(this.index);this.index=this.xhr.response.length;var t=p(e);this.options.onChunk(t)},e.prototype.onLoadEvent=function(){this.options.debug&&s.debug("XHR.onLoadEvent"),this.options.onEnd()},e.prototype.onStateChange=function(){this.options.debug&&s.debug("XHR.onStateChange",this.xhr.readyState),this.xhr.readyState===XMLHttpRequest.HEADERS_RECEIVED&&this.options.onHeaders(new i.Metadata(this.xhr.getAllResponseHeaders()),this.xhr.status)},e.prototype.sendMessage=function(e){this.xhr.send(e)},e.prototype.finishSend=function(){},e.prototype.start=function(e){var t=this;this.metadata=e;var r=new XMLHttpRequest;this.xhr=r,r.open("POST",this.options.url),this.configureXhr(),this.metadata.forEach((function(e,t){r.setRequestHeader(e,t.join(", "))})),r.withCredentials=Boolean(this.init.withCredentials),r.addEventListener("readystatechange",this.onStateChange.bind(this)),r.addEventListener("progress",this.onProgressEvent.bind(this)),r.addEventListener("loadend",this.onLoadEvent.bind(this)),r.addEventListener("error",(function(e){t.options.debug&&s.debug("XHR.error",e),t.options.onEnd(e.error)}))},e.prototype.configureXhr=function(){this.xhr.responseType="text",this.xhr.overrideMimeType("text/plain; charset=x-user-defined")},e.prototype.cancel=function(){this.options.debug&&s.debug("XHR.abort"),this.xhr.abort()},e}();t.XHR=u;var l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.configureXhr=function(){this.options.debug&&s.debug("MozXHR.configureXhr: setting responseType to 'moz-chunked-arraybuffer'"),this.xhr.responseType="moz-chunked-arraybuffer"},t.prototype.onProgressEvent=function(){var e=this.xhr.response;this.options.debug&&s.debug("MozXHR.onProgressEvent: ",new Uint8Array(e)),this.options.onChunk(new Uint8Array(e))},t}(u);function c(e,t){var r=e.charCodeAt(t);if(r>=55296&&r<=56319){var o=e.charCodeAt(t+1);o>=56320&&o<=57343&&(r=65536+(r-55296<<10)+(o-56320))}return r}function p(e){for(var t=new Uint8Array(e.length),r=0,o=0;o<e.length;o++){var n=String.prototype.codePointAt?e.codePointAt(o):c(e,o);t[r++]=255&n}return t}t.MozChunkedArrayBufferXHR=l,t.stringToArrayBuffer=p},849:(e,t)=>{var r;function o(e){var t=function(){if(void 0!==r)return r;if(XMLHttpRequest){r=new XMLHttpRequest;try{r.open("GET","https://localhost")}catch(e){}}return r}();if(!t)return!1;try{return t.responseType=e,t.responseType===e}catch(e){}return!1}Object.defineProperty(t,"__esModule",{value:!0}),t.detectXHROverrideMimeTypeSupport=t.detectMozXHRSupport=t.xhrSupportsResponseType=void 0,t.xhrSupportsResponseType=o,t.detectMozXHRSupport=function(){return"undefined"!=typeof XMLHttpRequest&&o("moz-chunked-arraybuffer")},t.detectXHROverrideMimeTypeSupport=function(){return"undefined"!=typeof XMLHttpRequest&&XMLHttpRequest.prototype.hasOwnProperty("overrideMimeType")}},540:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.WebsocketTransport=void 0;var o,n=r(346),i=r(617);!function(e){e[e.FINISH_SEND=1]="FINISH_SEND"}(o||(o={}));var s=new Uint8Array([1]);t.WebsocketTransport=function(){return function(e){return function(e){e.debug&&n.debug("websocketRequest",e);var t,r=function(e){if("https://"===e.substr(0,8))return"wss://"+e.substr(8);if("http://"===e.substr(0,7))return"ws://"+e.substr(7);throw new Error("Websocket transport constructed with non-https:// or http:// host.")}(e.url),a=[];function u(e){if(e===o.FINISH_SEND)t.send(s);else{var r=e,n=new Int8Array(r.byteLength+1);n.set(new Uint8Array([0])),n.set(r,1),t.send(n)}}return{sendMessage:function(e){t&&t.readyState!==t.CONNECTING?u(e):a.push(e)},finishSend:function(){t&&t.readyState!==t.CONNECTING?u(o.FINISH_SEND):a.push(o.FINISH_SEND)},start:function(o){(t=new WebSocket(r,["grpc-websockets"])).binaryType="arraybuffer",t.onopen=function(){var r;e.debug&&n.debug("websocketRequest.onopen"),t.send((r="",o.forEach((function(e,t){r+=e+": "+t.join(", ")+"\r\n"})),i.encodeASCII(r))),a.forEach((function(e){u(e)}))},t.onclose=function(t){e.debug&&n.debug("websocketRequest.onclose",t),e.onEnd()},t.onerror=function(t){e.debug&&n.debug("websocketRequest.onerror",t)},t.onmessage=function(t){e.onChunk(new Uint8Array(t.data))}},cancel:function(){e.debug&&n.debug("websocket.abort"),t.close()}}}(e)}}},35:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.unary=void 0;var o=r(65),n=r(934);t.unary=function(e,t){if(e.responseStream)throw new Error(".unary cannot be used with server-streaming methods. Use .invoke or .client instead.");if(e.requestStream)throw new Error(".unary cannot be used with client-streaming methods. Use .client instead.");var r=null,i=null,s=n.client(e,{host:t.host,transport:t.transport,debug:t.debug});return s.onHeaders((function(e){r=e})),s.onMessage((function(e){i=e})),s.onEnd((function(e,n,s){t.onEnd({status:e,statusMessage:n,headers:r||new o.Metadata,message:i,trailers:s})})),s.start(t.metadata),s.send(t.request),s.finishSend(),{close:function(){s.close()}}}},882:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.frameRequest=void 0,t.frameRequest=function(e){var t=e.serializeBinary(),r=new ArrayBuffer(t.byteLength+5);return new DataView(r,1,4).setUint32(0,t.length,!1),new Uint8Array(r,5).set(t),new Uint8Array(r)}}},t={},function r(o){if(t[o])return t[o].exports;var n=t[o]={exports:{}};return e[o].call(n.exports,n,n.exports,r),n.exports}(607);var e,t}()})),__extends=(extendStatics=function(e,t){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),extendStatics,_hasOwnProperty=Object.prototype.hasOwnProperty;function hasOwnProperty(e,t){return _hasOwnProperty.call(e,t)}function _objectKeys(e){if(Array.isArray(e)){for(var t=new Array(e.length),r=0;r<t.length;r++)t[r]=""+r;return t}if(Object.keys)return Object.keys(e);for(var o in t=[],e)hasOwnProperty(e,o)&&t.push(o);return t}function _deepClone(e){switch(typeof e){case"object":return JSON.parse(JSON.stringify(e));case"undefined":return null;default:return e}}function isInteger(e){for(var t,r=0,o=e.length;r<o;){if(!((t=e.charCodeAt(r))>=48&&t<=57))return!1;r++}return!0}function escapePathComponent(e){return-1===e.indexOf("/")&&-1===e.indexOf("~")?e:e.replace(/~/g,"~0").replace(/\//g,"~1")}function unescapePathComponent(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function hasUndefined(e){if(void 0===e)return!0;if(e)if(Array.isArray(e)){for(var t=0,r=e.length;t<r;t++)if(hasUndefined(e[t]))return!0}else if("object"==typeof e){var o=_objectKeys(e),n=o.length;for(t=0;t<n;t++)if(hasUndefined(e[o[t]]))return!0}return!1}function patchErrorMessageFormatter(e,t){var r=[e];for(var o in t){var n="object"==typeof t[o]?JSON.stringify(t[o],null,2):t[o];void 0!==n&&r.push(o+": "+n)}return r.join("\n")}var PatchError=function(e){function t(t,r,o,n,i){var s=this.constructor,a=e.call(this,patchErrorMessageFormatter(t,{name:r,index:o,operation:n,tree:i}))||this;return a.name=r,a.index=o,a.operation=n,a.tree=i,Object.setPrototypeOf(a,s.prototype),a.message=patchErrorMessageFormatter(t,{name:r,index:o,operation:n,tree:i}),a}return __extends(t,e),t}(Error),JsonPatchError=PatchError,deepClone=_deepClone,objOps={add:function(e,t,r){return e[t]=this.value,{newDocument:r}},remove:function(e,t,r){var o=e[t];return delete e[t],{newDocument:r,removed:o}},replace:function(e,t,r){var o=e[t];return e[t]=this.value,{newDocument:r,removed:o}},move:function(e,t,r){var o=getValueByPointer(r,this.path);o&&(o=_deepClone(o));var n=applyOperation(r,{op:"remove",path:this.from}).removed;return applyOperation(r,{op:"add",path:this.path,value:n}),{newDocument:r,removed:o}},copy:function(e,t,r){var o=getValueByPointer(r,this.from);return applyOperation(r,{op:"add",path:this.path,value:_deepClone(o)}),{newDocument:r}},test:function(e,t,r){return{newDocument:r,test:_areEquals(e[t],this.value)}},_get:function(e,t,r){return this.value=e[t],{newDocument:r}}},arrOps={add:function(e,t,r){return isInteger(t)?e.splice(t,0,this.value):e[t]=this.value,{newDocument:r,index:t}},remove:function(e,t,r){return{newDocument:r,removed:e.splice(t,1)[0]}},replace:function(e,t,r){var o=e[t];return e[t]=this.value,{newDocument:r,removed:o}},move:objOps.move,copy:objOps.copy,test:objOps.test,_get:objOps._get};function getValueByPointer(e,t){if(""==t)return e;var r={op:"_get",path:t};return applyOperation(e,r),r.value}function applyOperation(e,t,r,o,n,i){if(void 0===r&&(r=!1),void 0===o&&(o=!0),void 0===n&&(n=!0),void 0===i&&(i=0),r&&("function"==typeof r?r(t,0,e,t.path):validator(t,0)),""===t.path){var s={newDocument:e};if("add"===t.op)return s.newDocument=t.value,s;if("replace"===t.op)return s.newDocument=t.value,s.removed=e,s;if("move"===t.op||"copy"===t.op)return s.newDocument=getValueByPointer(e,t.from),"move"===t.op&&(s.removed=e),s;if("test"===t.op){if(s.test=_areEquals(e,t.value),!1===s.test)throw new JsonPatchError("Test operation failed","TEST_OPERATION_FAILED",i,t,e);return s.newDocument=e,s}if("remove"===t.op)return s.removed=e,s.newDocument=null,s;if("_get"===t.op)return t.value=e,s;if(r)throw new JsonPatchError("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",i,t,e);return s}o||(e=_deepClone(e));var a=(t.path||"").split("/"),u=e,l=1,c=a.length,p=void 0,g=void 0,d=void 0;for(d="function"==typeof r?r:validator;;){if(g=a[l],n&&"__proto__"==g)throw new TypeError("JSON-Patch: modifying `__proto__` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(r&&void 0===p&&(void 0===u[g]?p=a.slice(0,l).join("/"):l==c-1&&(p=t.path),void 0!==p&&d(t,0,e,p)),l++,Array.isArray(u)){if("-"===g)g=u.length;else{if(r&&!isInteger(g))throw new JsonPatchError("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",i,t,e);isInteger(g)&&(g=~~g)}if(l>=c){if(r&&"add"===t.op&&g>u.length)throw new JsonPatchError("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",i,t,e);if(!1===(s=arrOps[t.op].call(t,u,g,e)).test)throw new JsonPatchError("Test operation failed","TEST_OPERATION_FAILED",i,t,e);return s}}else if(g&&-1!=g.indexOf("~")&&(g=unescapePathComponent(g)),l>=c){if(!1===(s=objOps[t.op].call(t,u,g,e)).test)throw new JsonPatchError("Test operation failed","TEST_OPERATION_FAILED",i,t,e);return s}u=u[g]}}function applyPatch(e,t,r,o,n){if(void 0===o&&(o=!0),void 0===n&&(n=!0),r&&!Array.isArray(t))throw new JsonPatchError("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");o||(e=_deepClone(e));for(var i=new Array(t.length),s=0,a=t.length;s<a;s++)i[s]=applyOperation(e,t[s],r,!0,n,s),e=i[s].newDocument;return i.newDocument=e,i}function applyReducer(e,t,r){var o=applyOperation(e,t);if(!1===o.test)throw new JsonPatchError("Test operation failed","TEST_OPERATION_FAILED",r,t,e);return o.newDocument}function validator(e,t,r,o){if("object"!=typeof e||null===e||Array.isArray(e))throw new JsonPatchError("Operation is not an object","OPERATION_NOT_AN_OBJECT",t,e,r);if(!objOps[e.op])throw new JsonPatchError("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",t,e,r);if("string"!=typeof e.path)throw new JsonPatchError("Operation `path` property is not a string","OPERATION_PATH_INVALID",t,e,r);if(0!==e.path.indexOf("/")&&e.path.length>0)throw new JsonPatchError('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",t,e,r);if(("move"===e.op||"copy"===e.op)&&"string"!=typeof e.from)throw new JsonPatchError("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",t,e,r);if(("add"===e.op||"replace"===e.op||"test"===e.op)&&void 0===e.value)throw new JsonPatchError("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",t,e,r);if(("add"===e.op||"replace"===e.op||"test"===e.op)&&hasUndefined(e.value))throw new JsonPatchError("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",t,e,r);if(r)if("add"==e.op){var n=e.path.split("/").length,i=o.split("/").length;if(n!==i+1&&n!==i)throw new JsonPatchError("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",t,e,r)}else if("replace"===e.op||"remove"===e.op||"_get"===e.op){if(e.path!==o)throw new JsonPatchError("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",t,e,r)}else if("move"===e.op||"copy"===e.op){var s=validate([{op:"_get",path:e.from,value:void 0}],r);if(s&&"OPERATION_PATH_UNRESOLVABLE"===s.name)throw new JsonPatchError("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",t,e,r)}}function validate(e,t,r){try{if(!Array.isArray(e))throw new JsonPatchError("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(t)applyPatch(_deepClone(t),_deepClone(e),r||!0);else{r=r||validator;for(var o=0;o<e.length;o++)r(e[o],o,t,void 0)}}catch(e){if(e instanceof JsonPatchError)return e;throw e}}function _areEquals(e,t){if(e===t)return!0;if(e&&t&&"object"==typeof e&&"object"==typeof t){var r,o,n,i=Array.isArray(e),s=Array.isArray(t);if(i&&s){if((o=e.length)!=t.length)return!1;for(r=o;0!=r--;)if(!_areEquals(e[r],t[r]))return!1;return!0}if(i!=s)return!1;var a=Object.keys(e);if((o=a.length)!==Object.keys(t).length)return!1;for(r=o;0!=r--;)if(!t.hasOwnProperty(a[r]))return!1;for(r=o;0!=r--;)if(!_areEquals(e[n=a[r]],t[n]))return!1;return!0}return e!=e&&t!=t}var core=Object.freeze({__proto__:null,JsonPatchError,deepClone,getValueByPointer,applyOperation,applyPatch,applyReducer,validator,validate,_areEquals}),beforeDict=new WeakMap,Mirror=function(e){this.observers=new Map,this.obj=e},ObserverInfo=function(e,t){this.callback=e,this.observer=t};function getMirror(e){return beforeDict.get(e)}function getObserverFromMirror(e,t){return e.observers.get(t)}function removeObserverFromMirror(e,t){e.observers.delete(t.callback)}function unobserve(e,t){t.unobserve()}function observe(e,t){var r,o=getMirror(e);if(o){var n=getObserverFromMirror(o,t);r=n&&n.observer}else o=new Mirror(e),beforeDict.set(e,o);if(r)return r;if(r={},o.value=_deepClone(e),t){r.callback=t,r.next=null;var i=function(){generate(r)},s=function(){clearTimeout(r.next),r.next=setTimeout(i)};"undefined"!=typeof window&&(window.addEventListener("mouseup",s),window.addEventListener("keyup",s),window.addEventListener("mousedown",s),window.addEventListener("keydown",s),window.addEventListener("change",s))}return r.patches=[],r.object=e,r.unobserve=function(){generate(r),clearTimeout(r.next),removeObserverFromMirror(o,r),"undefined"!=typeof window&&(window.removeEventListener("mouseup",s),window.removeEventListener("keyup",s),window.removeEventListener("mousedown",s),window.removeEventListener("keydown",s),window.removeEventListener("change",s))},o.observers.set(t,new ObserverInfo(t,r)),r}function generate(e,t){void 0===t&&(t=!1);var r=beforeDict.get(e.object);_generate(r.value,e.object,e.patches,"",t),e.patches.length&&applyPatch(r.value,e.patches);var o=e.patches;return o.length>0&&(e.patches=[],e.callback&&e.callback(o)),o}function _generate(e,t,r,o,n){if(t!==e){"function"==typeof t.toJSON&&(t=t.toJSON());for(var i=_objectKeys(t),s=_objectKeys(e),a=!1,u=s.length-1;u>=0;u--){var l=e[p=s[u]];if(!hasOwnProperty(t,p)||void 0===t[p]&&void 0!==l&&!1===Array.isArray(t))Array.isArray(e)===Array.isArray(t)?(n&&r.push({op:"test",path:o+"/"+escapePathComponent(p),value:_deepClone(l)}),r.push({op:"remove",path:o+"/"+escapePathComponent(p)}),a=!0):(n&&r.push({op:"test",path:o,value:e}),r.push({op:"replace",path:o,value:t}));else{var c=t[p];"object"==typeof l&&null!=l&&"object"==typeof c&&null!=c?_generate(l,c,r,o+"/"+escapePathComponent(p),n):l!==c&&(n&&r.push({op:"test",path:o+"/"+escapePathComponent(p),value:_deepClone(l)}),r.push({op:"replace",path:o+"/"+escapePathComponent(p),value:_deepClone(c)}))}}if(a||i.length!=s.length)for(u=0;u<i.length;u++){var p;hasOwnProperty(e,p=i[u])||void 0===t[p]||r.push({op:"add",path:o+"/"+escapePathComponent(p),value:_deepClone(t[p])})}}}function compare(e,t,r){void 0===r&&(r=!1);var o=[];return _generate(e,t,o,"",r),o}var duplex=Object.freeze({__proto__:null,unobserve,observe,generate,compare}),jsonpatch=Object.assign({},core,duplex,{JsonPatchError:PatchError,deepClone:_deepClone,escapePathComponent,unescapePathComponent}),__assign=function(){return(__assign=Object.assign||function(e){for(var t,r=1,o=arguments.length;r<o;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)};function __spreadArrays(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var o=Array(e),n=0;for(t=0;t<r;t++)for(var i=arguments[t],s=0,a=i.length;s<a;s++,n++)o[n]=i[s];return o}var keys=Object.keys,isArray=Array.isArray,_global="undefined"!=typeof self?self:"undefined"!=typeof window?window:__webpack_require__.g;function extend(e,t){return"object"!=typeof t||keys(t).forEach((function(r){e[r]=t[r]})),e}"undefined"==typeof Promise||_global.Promise||(_global.Promise=Promise);var getProto=Object.getPrototypeOf,_hasOwn={}.hasOwnProperty;function hasOwn(e,t){return _hasOwn.call(e,t)}function props(e,t){"function"==typeof t&&(t=t(getProto(e))),keys(t).forEach((function(r){setProp(e,r,t[r])}))}var defineProperty=Object.defineProperty;function setProp(e,t,r,o){defineProperty(e,t,extend(r&&hasOwn(r,"get")&&"function"==typeof r.get?{get:r.get,set:r.set,configurable:!0}:{value:r,configurable:!0,writable:!0},o))}function derive(e){return{from:function(t){return e.prototype=Object.create(t.prototype),setProp(e.prototype,"constructor",e),{extend:props.bind(null,e.prototype)}}}}var getOwnPropertyDescriptor=Object.getOwnPropertyDescriptor;function getPropertyDescriptor(e,t){var r;return getOwnPropertyDescriptor(e,t)||(r=getProto(e))&&getPropertyDescriptor(r,t)}var _slice=[].slice;function slice(e,t,r){return _slice.call(e,t,r)}function override(e,t){return t(e)}function assert(e){if(!e)throw new Error("Assertion Failed")}function asap(e){_global.setImmediate?setImmediate(e):setTimeout(e,0)}function arrayToObject(e,t){return e.reduce((function(e,r,o){var n=t(r,o);return n&&(e[n[0]]=n[1]),e}),{})}function tryCatch(e,t,r){try{e.apply(null,r)}catch(e){t&&t(e)}}function getByKeyPath(e,t){if(hasOwn(e,t))return e[t];if(!t)return e;if("string"!=typeof t){for(var r=[],o=0,n=t.length;o<n;++o){var i=getByKeyPath(e,t[o]);r.push(i)}return r}var s=t.indexOf(".");if(-1!==s){var a=e[t.substr(0,s)];return void 0===a?void 0:getByKeyPath(a,t.substr(s+1))}}function setByKeyPath(e,t,r){if(e&&void 0!==t&&(!("isFrozen"in Object)||!Object.isFrozen(e)))if("string"!=typeof t&&"length"in t){assert("string"!=typeof r&&"length"in r);for(var o=0,n=t.length;o<n;++o)setByKeyPath(e,t[o],r[o])}else{var i=t.indexOf(".");if(-1!==i){var s=t.substr(0,i),a=t.substr(i+1);if(""===a)void 0===r?isArray(e)&&!isNaN(parseInt(s))?e.splice(s,1):delete e[s]:e[s]=r;else{var u=e[s];u||(u=e[s]={}),setByKeyPath(u,a,r)}}else void 0===r?isArray(e)&&!isNaN(parseInt(t))?e.splice(t,1):delete e[t]:e[t]=r}}function delByKeyPath(e,t){"string"==typeof t?setByKeyPath(e,t,void 0):"length"in t&&[].map.call(t,(function(t){setByKeyPath(e,t,void 0)}))}function shallowClone(e){var t={};for(var r in e)hasOwn(e,r)&&(t[r]=e[r]);return t}var concat=[].concat;function flatten(e){return concat.apply([],e)}var intrinsicTypeNames="Boolean,String,Date,RegExp,Blob,File,FileList,ArrayBuffer,DataView,Uint8ClampedArray,ImageData,Map,Set".split(",").concat(flatten([8,16,32,64].map((function(e){return["Int","Uint","Float"].map((function(t){return t+e+"Array"}))})))).filter((function(e){return _global[e]})),intrinsicTypes=intrinsicTypeNames.map((function(e){return _global[e]})),intrinsicTypeNameSet=arrayToObject(intrinsicTypeNames,(function(e){return[e,!0]}));function deepClone$1(e){if(!e||"object"!=typeof e)return e;var t;if(isArray(e)){t=[];for(var r=0,o=e.length;r<o;++r)t.push(deepClone$1(e[r]))}else if(intrinsicTypes.indexOf(e.constructor)>=0)t=e;else for(var n in t=e.constructor?Object.create(e.constructor.prototype):{},e)hasOwn(e,n)&&(t[n]=deepClone$1(e[n]));return t}var toString={}.toString;function toStringTag(e){return toString.call(e).slice(8,-1)}var getValueOf=function(e,t){return"Array"===t?""+e.map((function(e){return getValueOf(e,toStringTag(e))})):"ArrayBuffer"===t?""+new Uint8Array(e):"Date"===t?e.getTime():ArrayBuffer.isView(e)?""+new Uint8Array(e.buffer):e};function getObjectDiff(e,t,r,o){return r=r||{},o=o||"",keys(e).forEach((function(n){if(hasOwn(t,n)){var i=e[n],s=t[n];if("object"==typeof i&&"object"==typeof s&&i&&s){var a=toStringTag(i),u=toStringTag(s);a===u?intrinsicTypeNameSet[a]?getValueOf(i,a)!==getValueOf(s,u)&&(r[o+n]=t[n]):getObjectDiff(i,s,r,o+n+"."):r[o+n]=t[n]}else i!==s&&(r[o+n]=t[n])}else r[o+n]=void 0})),keys(t).forEach((function(n){hasOwn(e,n)||(r[o+n]=t[n])})),r}var iteratorSymbol="undefined"!=typeof Symbol&&Symbol.iterator,getIteratorOf=iteratorSymbol?function(e){var t;return null!=e&&(t=e[iteratorSymbol])&&t.apply(e)}:function(){return null},NO_CHAR_ARRAY={};function getArrayOf(e){var t,r,o,n;if(1===arguments.length){if(isArray(e))return e.slice();if(this===NO_CHAR_ARRAY&&"string"==typeof e)return[e];if(n=getIteratorOf(e)){for(r=[];!(o=n.next()).done;)r.push(o.value);return r}if(null==e)return[e];if("number"==typeof(t=e.length)){for(r=new Array(t);t--;)r[t]=e[t];return r}return[e]}for(t=arguments.length,r=new Array(t);t--;)r[t]=arguments[t];return r}var isAsyncFunction="undefined"!=typeof Symbol?function(e){return"AsyncFunction"===e[Symbol.toStringTag]}:function(){return!1},debug="undefined"!=typeof location&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function setDebug(e,t){debug=e,libraryFilter=t}var libraryFilter=function(){return!0},NEEDS_THROW_FOR_STACK=!new Error("").stack;function getErrorWithStack(){if(NEEDS_THROW_FOR_STACK)try{throw new Error}catch(e){return e}return new Error}function prettyStack(e,t){var r=e.stack;return r?(t=t||0,0===r.indexOf(e.name)&&(t+=(e.name+e.message).split("\n").length),r.split("\n").slice(t).filter(libraryFilter).map((function(e){return"\n"+e})).join("")):""}var dexieErrorNames=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"],idbDomErrorNames=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],errorList=dexieErrorNames.concat(idbDomErrorNames),defaultTexts={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed"};function DexieError(e,t){this._e=getErrorWithStack(),this.name=e,this.message=t}function getMultiErrorMessage(e,t){return e+". Errors: "+Object.keys(t).map((function(e){return t[e].toString()})).filter((function(e,t,r){return r.indexOf(e)===t})).join("\n")}function ModifyError(e,t,r,o){this._e=getErrorWithStack(),this.failures=t,this.failedKeys=o,this.successCount=r,this.message=getMultiErrorMessage(e,t)}function BulkError(e,t){this._e=getErrorWithStack(),this.name="BulkError",this.failures=t,this.message=getMultiErrorMessage(e,t)}derive(DexieError).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+prettyStack(this._e,2))}},toString:function(){return this.name+": "+this.message}}),derive(ModifyError).from(DexieError),derive(BulkError).from(DexieError);var errnames=errorList.reduce((function(e,t){return e[t]=t+"Error",e}),{}),BaseException=DexieError,exceptions=errorList.reduce((function(e,t){var r=t+"Error";function o(e,o){this._e=getErrorWithStack(),this.name=r,e?"string"==typeof e?(this.message=e+(o?"\n "+o:""),this.inner=o||null):"object"==typeof e&&(this.message=e.name+" "+e.message,this.inner=e):(this.message=defaultTexts[t]||r,this.inner=null)}return derive(o).from(BaseException),e[t]=o,e}),{});exceptions.Syntax=SyntaxError,exceptions.Type=TypeError,exceptions.Range=RangeError;var exceptionMap=idbDomErrorNames.reduce((function(e,t){return e[t+"Error"]=exceptions[t],e}),{});function mapError(e,t){if(!e||e instanceof DexieError||e instanceof TypeError||e instanceof SyntaxError||!e.name||!exceptionMap[e.name])return e;var r=new exceptionMap[e.name](t||e.message,e);return"stack"in e&&setProp(r,"stack",{get:function(){return this.inner.stack}}),r}var fullNameExceptions=errorList.reduce((function(e,t){return-1===["Syntax","Type","Range"].indexOf(t)&&(e[t+"Error"]=exceptions[t]),e}),{});function nop(){}function mirror(e){return e}function pureFunctionChain(e,t){return null==e||e===mirror?t:function(r){return t(e(r))}}function callBoth(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function hookCreatingChain(e,t){return e===nop?t:function(){var r=e.apply(this,arguments);void 0!==r&&(arguments[0]=r);var o=this.onsuccess,n=this.onerror;this.onsuccess=null,this.onerror=null;var i=t.apply(this,arguments);return o&&(this.onsuccess=this.onsuccess?callBoth(o,this.onsuccess):o),n&&(this.onerror=this.onerror?callBoth(n,this.onerror):n),void 0!==i?i:r}}function hookDeletingChain(e,t){return e===nop?t:function(){e.apply(this,arguments);var r=this.onsuccess,o=this.onerror;this.onsuccess=this.onerror=null,t.apply(this,arguments),r&&(this.onsuccess=this.onsuccess?callBoth(r,this.onsuccess):r),o&&(this.onerror=this.onerror?callBoth(o,this.onerror):o)}}function hookUpdatingChain(e,t){return e===nop?t:function(r){var o=e.apply(this,arguments);extend(r,o);var n=this.onsuccess,i=this.onerror;this.onsuccess=null,this.onerror=null;var s=t.apply(this,arguments);return n&&(this.onsuccess=this.onsuccess?callBoth(n,this.onsuccess):n),i&&(this.onerror=this.onerror?callBoth(i,this.onerror):i),void 0===o?void 0===s?void 0:s:extend(o,s)}}function reverseStoppableEventChain(e,t){return e===nop?t:function(){return!1!==t.apply(this,arguments)&&e.apply(this,arguments)}}function promisableChain(e,t){return e===nop?t:function(){var r=e.apply(this,arguments);if(r&&"function"==typeof r.then){for(var o=this,n=arguments.length,i=new Array(n);n--;)i[n]=arguments[n];return r.then((function(){return t.apply(o,i)}))}return t.apply(this,arguments)}}fullNameExceptions.ModifyError=ModifyError,fullNameExceptions.DexieError=DexieError,fullNameExceptions.BulkError=BulkError;var INTERNAL={},LONG_STACKS_CLIP_LIMIT=100,MAX_LONG_STACKS=20,ZONE_ECHO_LIMIT=100,_a="undefined"==typeof Promise?[]:function(){var e=Promise.resolve();if("undefined"==typeof crypto||!crypto.subtle)return[e,e.__proto__,e];var t=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[t,t.__proto__,e]}(),resolvedNativePromise=_a[0],nativePromiseProto=_a[1],resolvedGlobalPromise=_a[2],nativePromiseThen=nativePromiseProto&&nativePromiseProto.then,NativePromise=resolvedNativePromise&&resolvedNativePromise.constructor,patchGlobalPromise=!!resolvedGlobalPromise,stack_being_generated=!1,schedulePhysicalTick=resolvedGlobalPromise?function(){resolvedGlobalPromise.then(physicalTick)}:_global.setImmediate?setImmediate.bind(null,physicalTick):_global.MutationObserver?function(){var e=document.createElement("div");new MutationObserver((function(){physicalTick(),e=null})).observe(e,{attributes:!0}),e.setAttribute("i","1")}:function(){setTimeout(physicalTick,0)},asap$1=function(e,t){microtickQueue.push([e,t]),needsNewPhysicalTick&&(schedulePhysicalTick(),needsNewPhysicalTick=!1)},isOutsideMicroTick=!0,needsNewPhysicalTick=!0,unhandledErrors=[],rejectingErrors=[],currentFulfiller=null,rejectionMapper=mirror,globalPSD={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:globalError,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach((function(e){try{globalError(e[0],e[1])}catch(e){}}))}},PSD=globalPSD,microtickQueue=[],numScheduledCalls=0,tickFinalizers=[];function DexiePromise(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=nop,this._lib=!1;var t=this._PSD=PSD;if(debug&&(this._stackHolder=getErrorWithStack(),this._prev=null,this._numPrev=0),"function"!=typeof e){if(e!==INTERNAL)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(!1===this._state&&handleRejection(this,this._value))}this._state=null,this._value=null,++t.ref,executePromiseTask(this,e)}var thenProp={get:function(){var e=PSD,t=totalEchoes;function r(r,o){var n=this,i=!e.global&&(e!==PSD||t!==totalEchoes);i&&decrementExpectedAwaits();var s=new DexiePromise((function(t,s){propagateToListener(n,new Listener(nativeAwaitCompatibleWrap(r,e,i),nativeAwaitCompatibleWrap(o,e,i),t,s,e))}));return debug&&linkToPreviousPromise(s,this),s}return r.prototype=INTERNAL,r},set:function(e){setProp(this,"then",e&&e.prototype===INTERNAL?thenProp:{get:function(){return e},set:thenProp.set})}};function Listener(e,t,r,o,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.resolve=r,this.reject=o,this.psd=n}function executePromiseTask(e,t){try{t((function(t){if(null===e._state){if(t===e)throw new TypeError("A promise cannot be resolved with itself.");var r=e._lib&&beginMicroTickScope();t&&"function"==typeof t.then?executePromiseTask(e,(function(e,r){t instanceof DexiePromise?t._then(e,r):t.then(e,r)})):(e._state=!0,e._value=t,propagateAllListeners(e)),r&&endMicroTickScope()}}),handleRejection.bind(null,e))}catch(t){handleRejection(e,t)}}function handleRejection(e,t){if(rejectingErrors.push(t),null===e._state){var r=e._lib&&beginMicroTickScope();t=rejectionMapper(t),e._state=!1,e._value=t,debug&&null!==t&&"object"==typeof t&&!t._promise&&tryCatch((function(){var r=getPropertyDescriptor(t,"stack");t._promise=e,setProp(t,"stack",{get:function(){return stack_being_generated?r&&(r.get?r.get.apply(t):r.value):e.stack}})})),addPossiblyUnhandledError(e),propagateAllListeners(e),r&&endMicroTickScope()}}function propagateAllListeners(e){var t=e._listeners;e._listeners=[];for(var r=0,o=t.length;r<o;++r)propagateToListener(e,t[r]);var n=e._PSD;--n.ref||n.finalize(),0===numScheduledCalls&&(++numScheduledCalls,asap$1((function(){0==--numScheduledCalls&&finalizePhysicalTick()}),[]))}function propagateToListener(e,t){if(null!==e._state){var r=e._state?t.onFulfilled:t.onRejected;if(null===r)return(e._state?t.resolve:t.reject)(e._value);++t.psd.ref,++numScheduledCalls,asap$1(callListener,[r,e,t])}else e._listeners.push(t)}function callListener(e,t,r){try{currentFulfiller=t;var o,n=t._value;t._state?o=e(n):(rejectingErrors.length&&(rejectingErrors=[]),o=e(n),-1===rejectingErrors.indexOf(n)&&markErrorAsHandled(t)),r.resolve(o)}catch(e){r.reject(e)}finally{currentFulfiller=null,0==--numScheduledCalls&&finalizePhysicalTick(),--r.psd.ref||r.psd.finalize()}}function getStack(e,t,r){if(t.length===r)return t;var o="";if(!1===e._state){var n,i,s=e._value;null!=s?(n=s.name||"Error",i=s.message||s,o=prettyStack(s,0)):(n=s,i=""),t.push(n+(i?": "+i:"")+o)}return debug&&((o=prettyStack(e._stackHolder,2))&&-1===t.indexOf(o)&&t.push(o),e._prev&&getStack(e._prev,t,r)),t}function linkToPreviousPromise(e,t){var r=t?t._numPrev+1:0;r<LONG_STACKS_CLIP_LIMIT&&(e._prev=t,e._numPrev=r)}function physicalTick(){beginMicroTickScope()&&endMicroTickScope()}function beginMicroTickScope(){var e=isOutsideMicroTick;return isOutsideMicroTick=!1,needsNewPhysicalTick=!1,e}function endMicroTickScope(){var e,t,r;do{for(;microtickQueue.length>0;)for(e=microtickQueue,microtickQueue=[],r=e.length,t=0;t<r;++t){var o=e[t];o[0].apply(null,o[1])}}while(microtickQueue.length>0);isOutsideMicroTick=!0,needsNewPhysicalTick=!0}function finalizePhysicalTick(){var e=unhandledErrors;unhandledErrors=[],e.forEach((function(e){e._PSD.onunhandled.call(null,e._value,e)}));for(var t=tickFinalizers.slice(0),r=t.length;r;)t[--r]()}function run_at_end_of_this_or_next_physical_tick(e){tickFinalizers.push((function t(){e(),tickFinalizers.splice(tickFinalizers.indexOf(t),1)})),++numScheduledCalls,asap$1((function(){0==--numScheduledCalls&&finalizePhysicalTick()}),[])}function addPossiblyUnhandledError(e){unhandledErrors.some((function(t){return t._value===e._value}))||unhandledErrors.push(e)}function markErrorAsHandled(e){for(var t=unhandledErrors.length;t;)if(unhandledErrors[--t]._value===e._value)return void unhandledErrors.splice(t,1)}function PromiseReject(e){return new DexiePromise(INTERNAL,!1,e)}function wrap(e,t){var r=PSD;return function(){var o=beginMicroTickScope(),n=PSD;try{return switchToZone(r,!0),e.apply(this,arguments)}catch(e){t&&t(e)}finally{switchToZone(n,!1),o&&endMicroTickScope()}}}props(DexiePromise.prototype,{then:thenProp,_then:function(e,t){propagateToListener(this,new Listener(null,null,e,t,PSD))},catch:function(e){if(1===arguments.length)return this.then(null,e);var t=arguments[0],r=arguments[1];return"function"==typeof t?this.then(null,(function(e){return e instanceof t?r(e):PromiseReject(e)})):this.then(null,(function(e){return e&&e.name===t?r(e):PromiseReject(e)}))},finally:function(e){return this.then((function(t){return e(),t}),(function(t){return e(),PromiseReject(t)}))},stack:{get:function(){if(this._stack)return this._stack;try{stack_being_generated=!0;var e=getStack(this,[],MAX_LONG_STACKS).join("\nFrom previous: ");return null!==this._state&&(this._stack=e),e}finally{stack_being_generated=!1}}},timeout:function(e,t){var r=this;return e<1/0?new DexiePromise((function(o,n){var i=setTimeout((function(){return n(new exceptions.Timeout(t))}),e);r.then(o,n).finally(clearTimeout.bind(null,i))})):this}}),"undefined"!=typeof Symbol&&Symbol.toStringTag&&setProp(DexiePromise.prototype,Symbol.toStringTag,"Dexie.Promise"),globalPSD.env=snapShot(),props(DexiePromise,{all:function(){var e=getArrayOf.apply(null,arguments).map(onPossibleParallellAsync);return new DexiePromise((function(t,r){0===e.length&&t([]);var o=e.length;e.forEach((function(n,i){return DexiePromise.resolve(n).then((function(r){e[i]=r,--o||t(e)}),r)}))}))},resolve:function(e){if(e instanceof DexiePromise)return e;if(e&&"function"==typeof e.then)return new DexiePromise((function(t,r){e.then(t,r)}));var t=new DexiePromise(INTERNAL,!0,e);return linkToPreviousPromise(t,currentFulfiller),t},reject:PromiseReject,race:function(){var e=getArrayOf.apply(null,arguments).map(onPossibleParallellAsync);return new DexiePromise((function(t,r){e.map((function(e){return DexiePromise.resolve(e).then(t,r)}))}))},PSD:{get:function(){return PSD},set:function(e){return PSD=e}},newPSD:newScope,usePSD,scheduler:{get:function(){return asap$1},set:function(e){asap$1=e}},rejectionMapper:{get:function(){return rejectionMapper},set:function(e){rejectionMapper=e}},follow:function(e,t){return new DexiePromise((function(r,o){return newScope((function(t,r){var o=PSD;o.unhandleds=[],o.onunhandled=r,o.finalize=callBoth((function(){var e=this;run_at_end_of_this_or_next_physical_tick((function(){0===e.unhandleds.length?t():r(e.unhandleds[0])}))}),o.finalize),e()}),t,r,o)}))}}),NativePromise&&(NativePromise.allSettled&&setProp(DexiePromise,"allSettled",(function(){var e=getArrayOf.apply(null,arguments).map(onPossibleParallellAsync);return new DexiePromise((function(t){0===e.length&&t([]);var r=e.length,o=new Array(r);e.forEach((function(e,n){return DexiePromise.resolve(e).then((function(e){return o[n]={status:"fulfilled",value:e}}),(function(e){return o[n]={status:"rejected",reason:e}})).then((function(){return--r||t(o)}))}))}))})),NativePromise.any&&"undefined"!=typeof AggregateError&&setProp(DexiePromise,"any",(function(){var e=getArrayOf.apply(null,arguments).map(onPossibleParallellAsync);return new DexiePromise((function(t,r){0===e.length&&r(new AggregateError([]));var o=e.length,n=new Array(o);e.forEach((function(e,i){return DexiePromise.resolve(e).then((function(e){return t(e)}),(function(e){n[i]=e,--o||r(new AggregateError(n))}))}))}))})));var task={awaits:0,echoes:0,id:0},taskCounter=0,zoneStack=[],zoneEchoes=0,totalEchoes=0,zone_id_counter=0;function newScope(e,t,r,o){var n=PSD,i=Object.create(n);i.parent=n,i.ref=0,i.global=!1,i.id=++zone_id_counter;var s=globalPSD.env;i.env=patchGlobalPromise?{Promise:DexiePromise,PromiseProp:{value:DexiePromise,configurable:!0,writable:!0},all:DexiePromise.all,race:DexiePromise.race,allSettled:DexiePromise.allSettled,any:DexiePromise.any,resolve:DexiePromise.resolve,reject:DexiePromise.reject,nthen:getPatchedPromiseThen(s.nthen,i),gthen:getPatchedPromiseThen(s.gthen,i)}:{},t&&extend(i,t),++n.ref,i.finalize=function(){--this.parent.ref||this.parent.finalize()};var a=usePSD(i,e,r,o);return 0===i.ref&&i.finalize(),a}function incrementExpectedAwaits(){return task.id||(task.id=++taskCounter),++task.awaits,task.echoes+=ZONE_ECHO_LIMIT,task.id}function decrementExpectedAwaits(e){!task.awaits||e&&e!==task.id||(0==--task.awaits&&(task.id=0),task.echoes=task.awaits*ZONE_ECHO_LIMIT)}function onPossibleParallellAsync(e){return task.echoes&&e&&e.constructor===NativePromise?(incrementExpectedAwaits(),e.then((function(e){return decrementExpectedAwaits(),e}),(function(e){return decrementExpectedAwaits(),rejection(e)}))):e}function zoneEnterEcho(e){++totalEchoes,task.echoes&&0!=--task.echoes||(task.echoes=task.id=0),zoneStack.push(PSD),switchToZone(e,!0)}function zoneLeaveEcho(){var e=zoneStack[zoneStack.length-1];zoneStack.pop(),switchToZone(e,!1)}function switchToZone(e,t){var r=PSD;if((t?!task.echoes||zoneEchoes++&&e===PSD:!zoneEchoes||--zoneEchoes&&e===PSD)||enqueueNativeMicroTask(t?zoneEnterEcho.bind(null,e):zoneLeaveEcho),e!==PSD&&(PSD=e,r===globalPSD&&(globalPSD.env=snapShot()),patchGlobalPromise)){var o=globalPSD.env.Promise,n=e.env;nativePromiseProto.then=n.nthen,o.prototype.then=n.gthen,(r.global||e.global)&&(Object.defineProperty(_global,"Promise",n.PromiseProp),o.all=n.all,o.race=n.race,o.resolve=n.resolve,o.reject=n.reject,n.allSettled&&(o.allSettled=n.allSettled),n.any&&(o.any=n.any))}}function snapShot(){var e=_global.Promise;return patchGlobalPromise?{Promise:e,PromiseProp:Object.getOwnPropertyDescriptor(_global,"Promise"),all:e.all,race:e.race,allSettled:e.allSettled,any:e.any,resolve:e.resolve,reject:e.reject,nthen:nativePromiseProto.then,gthen:e.prototype.then}:{}}function usePSD(e,t,r,o,n){var i=PSD;try{return switchToZone(e,!0),t(r,o,n)}finally{switchToZone(i,!1)}}function enqueueNativeMicroTask(e){nativePromiseThen.call(resolvedNativePromise,e)}function nativeAwaitCompatibleWrap(e,t,r){return"function"!=typeof e?e:function(){var o=PSD;r&&incrementExpectedAwaits(),switchToZone(t,!0);try{return e.apply(this,arguments)}finally{switchToZone(o,!1)}}}function getPatchedPromiseThen(e,t){return function(r,o){return e.call(this,nativeAwaitCompatibleWrap(r,t,!1),nativeAwaitCompatibleWrap(o,t,!1))}}-1===(""+nativePromiseThen).indexOf("[native code]")&&(incrementExpectedAwaits=decrementExpectedAwaits=nop);var UNHANDLEDREJECTION="unhandledrejection";function globalError(e,t){var r;try{r=t.onuncatched(e)}catch(e){}if(!1!==r)try{var o,n={promise:t,reason:e};if(_global.document&&document.createEvent?((o=document.createEvent("Event")).initEvent(UNHANDLEDREJECTION,!0,!0),extend(o,n)):_global.CustomEvent&&extend(o=new CustomEvent(UNHANDLEDREJECTION,{detail:n}),n),o&&_global.dispatchEvent&&(dispatchEvent(o),!_global.PromiseRejectionEvent&&_global.onunhandledrejection))try{_global.onunhandledrejection(o)}catch(e){}debug&&o&&!o.defaultPrevented&&console.warn("Unhandled rejection: "+(e.stack||e))}catch(e){}}var rejection=DexiePromise.reject;function tempTransaction(e,t,r,o){if(e._state.openComplete||PSD.letThrough){var n=e._createTransaction(t,r,e._dbSchema);try{n.create()}catch(e){return rejection(e)}return n._promise(t,(function(e,t){return newScope((function(){return PSD.trans=n,o(e,t,n)}))})).then((function(e){return n._completion.then((function(){return e}))}))}if(!e._state.isBeingOpened){if(!e._options.autoOpen)return rejection(new exceptions.DatabaseClosed);e.open().catch(nop)}return e._state.dbReadyPromise.then((function(){return tempTransaction(e,t,r,o)}))}var DEXIE_VERSION="3.0.2",maxString=String.fromCharCode(65535),minKey=-1/0,INVALID_KEY_ARGUMENT="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",STRING_EXPECTED="String expected.",connections=[],isIEOrEdge="undefined"!=typeof navigator&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),hasIEDeleteObjectStoreBug=isIEOrEdge,hangsOnDeleteLargeKeyRange=isIEOrEdge,dexieStackFrameFilter=function(e){return!/(dexie\.js|dexie\.min\.js)/.test(e)},DBNAMES_DB="__dbnames",READONLY="readonly",READWRITE="readwrite";function combine(e,t){return e?t?function(){return e.apply(this,arguments)&&t.apply(this,arguments)}:e:t}var AnyRange={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1},Table=function(){function e(){}return e.prototype._trans=function(e,t,r){var o=this._tx||PSD.trans,n=this.name;function i(e,r,o){if(!o.schema[n])throw new exceptions.NotFound("Table "+n+" not part of transaction");return t(o.idbtrans,o)}var s=beginMicroTickScope();try{return o&&o.db===this.db?o===PSD.trans?o._promise(e,i,r):newScope((function(){return o._promise(e,i,r)}),{trans:o,transless:PSD.transless||PSD}):tempTransaction(this.db,e,[this.name],i)}finally{s&&endMicroTickScope()}},e.prototype.get=function(e,t){var r=this;return e&&e.constructor===Object?this.where(e).first(t):this._trans("readonly",(function(t){return r.core.get({trans:t,key:e}).then((function(e){return r.hook.reading.fire(e)}))})).then(t)},e.prototype.where=function(e){if("string"==typeof e)return new this.db.WhereClause(this,e);if(isArray(e))return new this.db.WhereClause(this,"["+e.join("+")+"]");var t=keys(e);if(1===t.length)return this.where(t[0]).equals(e[t[0]]);var r=this.schema.indexes.concat(this.schema.primKey).filter((function(e){return e.compound&&t.every((function(t){return e.keyPath.indexOf(t)>=0}))&&e.keyPath.every((function(e){return t.indexOf(e)>=0}))}))[0];if(r&&this.db._maxKey!==maxString)return this.where(r.name).equals(r.keyPath.map((function(t){return e[t]})));!r&&debug&&console.warn("The query "+JSON.stringify(e)+" on "+this.name+" would benefit of a compound index ["+t.join("+")+"]");var o=this.schema.idxByName,n=this.db._deps.indexedDB;function i(e,t){try{return 0===n.cmp(e,t)}catch(e){return!1}}var s=t.reduce((function(t,r){var n=t[0],s=t[1],a=o[r],u=e[r];return[n||a,n||!a?combine(s,a&&a.multi?function(e){var t=getByKeyPath(e,r);return isArray(t)&&t.some((function(e){return i(u,e)}))}:function(e){return i(u,getByKeyPath(e,r))}):s]}),[null,null]),a=s[0],u=s[1];return a?this.where(a.name).equals(e[a.keyPath]).filter(u):r?this.filter(u):this.where(t).equals("")},e.prototype.filter=function(e){return this.toCollection().and(e)},e.prototype.count=function(e){return this.toCollection().count(e)},e.prototype.offset=function(e){return this.toCollection().offset(e)},e.prototype.limit=function(e){return this.toCollection().limit(e)},e.prototype.each=function(e){return this.toCollection().each(e)},e.prototype.toArray=function(e){return this.toCollection().toArray(e)},e.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},e.prototype.orderBy=function(e){return new this.db.Collection(new this.db.WhereClause(this,isArray(e)?"["+e.join("+")+"]":e))},e.prototype.reverse=function(){return this.toCollection().reverse()},e.prototype.mapToClass=function(e){this.schema.mappedClass=e;var t=function(t){if(!t)return t;var r=Object.create(e.prototype);for(var o in t)if(hasOwn(t,o))try{r[o]=t[o]}catch(e){}return r};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=t,this.hook("reading",t),e},e.prototype.defineClass=function(){return this.mapToClass((function(e){extend(this,e)}))},e.prototype.add=function(e,t){var r=this;return this._trans("readwrite",(function(o){return r.core.mutate({trans:o,type:"add",keys:null!=t?[t]:null,values:[e]})})).then((function(e){return e.numFailures?DexiePromise.reject(e.failures[0]):e.lastResult})).then((function(t){if(!r.core.schema.primaryKey.outbound)try{setByKeyPath(e,r.core.schema.primaryKey.keyPath,t)}catch(e){}return t}))},e.prototype.update=function(e,t){if("object"!=typeof t||isArray(t))throw new exceptions.InvalidArgument("Modifications must be an object.");if("object"!=typeof e||isArray(e))return this.where(":id").equals(e).modify(t);keys(t).forEach((function(r){setByKeyPath(e,r,t[r])}));var r=getByKeyPath(e,this.schema.primKey.keyPath);return void 0===r?rejection(new exceptions.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(r).modify(t)},e.prototype.put=function(e,t){var r=this;return this._trans("readwrite",(function(o){return r.core.mutate({trans:o,type:"put",values:[e],keys:null!=t?[t]:null})})).then((function(e){return e.numFailures?DexiePromise.reject(e.failures[0]):e.lastResult})).then((function(t){if(!r.core.schema.primaryKey.outbound)try{setByKeyPath(e,r.core.schema.primaryKey.keyPath,t)}catch(e){}return t}))},e.prototype.delete=function(e){var t=this;return this._trans("readwrite",(function(r){return t.core.mutate({trans:r,type:"delete",keys:[e]})})).then((function(e){return e.numFailures?DexiePromise.reject(e.failures[0]):void 0}))},e.prototype.clear=function(){var e=this;return this._trans("readwrite",(function(t){return e.core.mutate({trans:t,type:"deleteRange",range:AnyRange})})).then((function(e){return e.numFailures?DexiePromise.reject(e.failures[0]):void 0}))},e.prototype.bulkGet=function(e){var t=this;return this._trans("readonly",(function(r){return t.core.getMany({keys:e,trans:r}).then((function(e){return e.map((function(e){return t.hook.reading.fire(e)}))}))}))},e.prototype.bulkAdd=function(e,t,r){var o=this,n=Array.isArray(t)?t:void 0,i=(r=r||(n?void 0:t))?r.allKeys:void 0;return this._trans("readwrite",(function(t){if(!o.core.schema.primaryKey.outbound&&n)throw new exceptions.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(n&&n.length!==e.length)throw new exceptions.InvalidArgument("Arguments objects and keys must have the same length");var r=e.length;return o.core.mutate({trans:t,type:"add",keys:n,values:e,wantResults:i}).then((function(e){var t=e.numFailures,n=e.results,s=e.lastResult,a=e.failures;if(0===t)return i?n:s;throw new BulkError(o.name+".bulkAdd(): "+t+" of "+r+" operations failed",Object.keys(a).map((function(e){return a[e]})))}))}))},e.prototype.bulkPut=function(e,t,r){var o=this,n=Array.isArray(t)?t:void 0,i=(r=r||(n?void 0:t))?r.allKeys:void 0;return this._trans("readwrite",(function(t){if(!o.core.schema.primaryKey.outbound&&n)throw new exceptions.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(n&&n.length!==e.length)throw new exceptions.InvalidArgument("Arguments objects and keys must have the same length");var r=e.length;return o.core.mutate({trans:t,type:"put",keys:n,values:e,wantResults:i}).then((function(e){var t=e.numFailures,n=e.results,s=e.lastResult,a=e.failures;if(0===t)return i?n:s;throw new BulkError(o.name+".bulkPut(): "+t+" of "+r+" operations failed",Object.keys(a).map((function(e){return a[e]})))}))}))},e.prototype.bulkDelete=function(e){var t=this,r=e.length;return this._trans("readwrite",(function(r){return t.core.mutate({trans:r,type:"delete",keys:e})})).then((function(e){var o=e.numFailures,n=e.lastResult,i=e.failures;if(0===o)return n;throw new BulkError(t.name+".bulkDelete(): "+o+" of "+r+" operations failed",i)}))},e}();function Events(e){var t={},r=function(r,o){if(o){for(var n=arguments.length,i=new Array(n-1);--n;)i[n-1]=arguments[n];return t[r].subscribe.apply(null,i),e}if("string"==typeof r)return t[r]};r.addEventType=i;for(var o=1,n=arguments.length;o<n;++o)i(arguments[o]);return r;function i(e,o,n){if("object"==typeof e)return s(e);o||(o=reverseStoppableEventChain),n||(n=nop);var i={subscribers:[],fire:n,subscribe:function(e){-1===i.subscribers.indexOf(e)&&(i.subscribers.push(e),i.fire=o(i.fire,e))},unsubscribe:function(e){i.subscribers=i.subscribers.filter((function(t){return t!==e})),i.fire=i.subscribers.reduce(o,n)}};return t[e]=r[e]=i,i}function s(e){keys(e).forEach((function(t){var r=e[t];if(isArray(r))i(t,e[t][0],e[t][1]);else{if("asap"!==r)throw new exceptions.InvalidArgument("Invalid event config");var o=i(t,mirror,(function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];o.subscribers.forEach((function(e){asap((function(){e.apply(null,t)}))}))}))}}))}}function makeClassConstructor(e,t){return derive(t).from({prototype:e}),t}function createTableConstructor(e){return makeClassConstructor(Table.prototype,(function(t,r,o){this.db=e,this._tx=o,this.name=t,this.schema=r,this.hook=e._allTables[t]?e._allTables[t].hook:Events(null,{creating:[hookCreatingChain,nop],reading:[pureFunctionChain,mirror],updating:[hookUpdatingChain,nop],deleting:[hookDeletingChain,nop]})}))}function isPlainKeyRange(e,t){return!(e.filter||e.algorithm||e.or)&&(t?e.justLimit:!e.replayFilter)}function addFilter(e,t){e.filter=combine(e.filter,t)}function addReplayFilter(e,t,r){var o=e.replayFilter;e.replayFilter=o?function(){return combine(o(),t())}:t,e.justLimit=r&&!o}function addMatchFilter(e,t){e.isMatch=combine(e.isMatch,t)}function getIndexOrStore(e,t){if(e.isPrimKey)return t.primaryKey;var r=t.getIndexByKeyPath(e.index);if(!r)throw new exceptions.Schema("KeyPath "+e.index+" on object store "+t.name+" is not indexed");return r}function openCursor(e,t,r){var o=getIndexOrStore(e,t.schema);return t.openCursor({trans:r,values:!e.keysOnly,reverse:"prev"===e.dir,unique:!!e.unique,query:{index:o,range:e.range}})}function iter(e,t,r,o){var n=e.replayFilter?combine(e.filter,e.replayFilter()):e.filter;if(e.or){var i={},s=function(e,r,o){if(!n||n(r,o,(function(e){return r.stop(e)}),(function(e){return r.fail(e)}))){var s=r.primaryKey,a=""+s;"[object ArrayBuffer]"===a&&(a=""+new Uint8Array(s)),hasOwn(i,a)||(i[a]=!0,t(e,r,o))}};return Promise.all([e.or._iterate(s,r),iterate(openCursor(e,o,r),e.algorithm,s,!e.keysOnly&&e.valueMapper)])}return iterate(openCursor(e,o,r),combine(e.algorithm,n),t,!e.keysOnly&&e.valueMapper)}function iterate(e,t,r,o){var n=wrap(o?function(e,t,n){return r(o(e),t,n)}:r);return e.then((function(e){if(e)return e.start((function(){var r=function(){return e.continue()};t&&!t(e,(function(e){return r=e}),(function(t){e.stop(t),r=nop}),(function(t){e.fail(t),r=nop}))||n(e.value,e,(function(e){return r=e})),r()}))}))}var Collection$1=function(){function e(){}return e.prototype._read=function(e,t){var r=this._ctx;return r.error?r.table._trans(null,rejection.bind(null,r.error)):r.table._trans("readonly",e).then(t)},e.prototype._write=function(e){var t=this._ctx;return t.error?t.table._trans(null,rejection.bind(null,t.error)):t.table._trans("readwrite",e,"locked")},e.prototype._addAlgorithm=function(e){var t=this._ctx;t.algorithm=combine(t.algorithm,e)},e.prototype._iterate=function(e,t){return iter(this._ctx,e,t,this._ctx.table.core)},e.prototype.clone=function(e){var t=Object.create(this.constructor.prototype),r=Object.create(this._ctx);return e&&extend(r,e),t._ctx=r,t},e.prototype.raw=function(){return this._ctx.valueMapper=null,this},e.prototype.each=function(e){var t=this._ctx;return this._read((function(r){return iter(t,e,r,t.table.core)}))},e.prototype.count=function(e){var t=this;return this._read((function(e){var r=t._ctx,o=r.table.core;if(isPlainKeyRange(r,!0))return o.count({trans:e,query:{index:getIndexOrStore(r,o.schema),range:r.range}}).then((function(e){return Math.min(e,r.limit)}));var n=0;return iter(r,(function(){return++n,!1}),e,o).then((function(){return n}))})).then(e)},e.prototype.sortBy=function(e,t){var r=e.split(".").reverse(),o=r[0],n=r.length-1;function i(e,t){return t?i(e[r[t]],t-1):e[o]}var s="next"===this._ctx.dir?1:-1;function a(e,t){var r=i(e,n),o=i(t,n);return r<o?-s:r>o?s:0}return this.toArray((function(e){return e.sort(a)})).then(t)},e.prototype.toArray=function(e){var t=this;return this._read((function(e){var r=t._ctx;if("next"===r.dir&&isPlainKeyRange(r,!0)&&r.limit>0){var o=r.valueMapper,n=getIndexOrStore(r,r.table.core.schema);return r.table.core.query({trans:e,limit:r.limit,values:!0,query:{index:n,range:r.range}}).then((function(e){var t=e.result;return o?t.map(o):t}))}var i=[];return iter(r,(function(e){return i.push(e)}),e,r.table.core).then((function(){return i}))}),e)},e.prototype.offset=function(e){var t=this._ctx;return e<=0||(t.offset+=e,isPlainKeyRange(t)?addReplayFilter(t,(function(){var t=e;return function(e,r){return 0===t||(1===t?(--t,!1):(r((function(){e.advance(t),t=0})),!1))}})):addReplayFilter(t,(function(){var t=e;return function(){return--t<0}}))),this},e.prototype.limit=function(e){return this._ctx.limit=Math.min(this._ctx.limit,e),addReplayFilter(this._ctx,(function(){var t=e;return function(e,r,o){return--t<=0&&r(o),t>=0}}),!0),this},e.prototype.until=function(e,t){return addFilter(this._ctx,(function(r,o,n){return!e(r.value)||(o(n),t)})),this},e.prototype.first=function(e){return this.limit(1).toArray((function(e){return e[0]})).then(e)},e.prototype.last=function(e){return this.reverse().first(e)},e.prototype.filter=function(e){return addFilter(this._ctx,(function(t){return e(t.value)})),addMatchFilter(this._ctx,e),this},e.prototype.and=function(e){return this.filter(e)},e.prototype.or=function(e){return new this.db.WhereClause(this._ctx.table,e,this)},e.prototype.reverse=function(){return this._ctx.dir="prev"===this._ctx.dir?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},e.prototype.desc=function(){return this.reverse()},e.prototype.eachKey=function(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each((function(t,r){e(r.key,r)}))},e.prototype.eachUniqueKey=function(e){return this._ctx.unique="unique",this.eachKey(e)},e.prototype.eachPrimaryKey=function(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each((function(t,r){e(r.primaryKey,r)}))},e.prototype.keys=function(e){var t=this._ctx;t.keysOnly=!t.isMatch;var r=[];return this.each((function(e,t){r.push(t.key)})).then((function(){return r})).then(e)},e.prototype.primaryKeys=function(e){var t=this._ctx;if("next"===t.dir&&isPlainKeyRange(t,!0)&&t.limit>0)return this._read((function(e){var r=getIndexOrStore(t,t.table.core.schema);return t.table.core.query({trans:e,values:!1,limit:t.limit,query:{index:r,range:t.range}})})).then((function(e){return e.result})).then(e);t.keysOnly=!t.isMatch;var r=[];return this.each((function(e,t){r.push(t.primaryKey)})).then((function(){return r})).then(e)},e.prototype.uniqueKeys=function(e){return this._ctx.unique="unique",this.keys(e)},e.prototype.firstKey=function(e){return this.limit(1).keys((function(e){return e[0]})).then(e)},e.prototype.lastKey=function(e){return this.reverse().firstKey(e)},e.prototype.distinct=function(){var e=this._ctx,t=e.index&&e.table.schema.idxByName[e.index];if(!t||!t.multi)return this;var r={};return addFilter(this._ctx,(function(e){var t=e.primaryKey.toString(),o=hasOwn(r,t);return r[t]=!0,!o})),this},e.prototype.modify=function(e){var t=this,r=this._ctx;return this._write((function(o){var n;if("function"==typeof e)n=e;else{var i=keys(e),s=i.length;n=function(t){for(var r=!1,o=0;o<s;++o){var n=i[o],a=e[n];getByKeyPath(t,n)!==a&&(setByKeyPath(t,n,a),r=!0)}return r}}var a=r.table.core,u=a.schema.primaryKey,l=u.outbound,c=u.extractKey,p="testmode"in Dexie?1:2e3,g=t.db.core.cmp,d=[],f=0,h=[],y=function(e,t){var r=t.failures,o=t.numFailures;f+=e-o;for(var n=0,i=keys(r);n<i.length;n++){var s=i[n];d.push(r[s])}};return t.clone().primaryKeys().then((function(e){var t=function(r){var i=Math.min(p,e.length-r);return a.getMany({trans:o,keys:e.slice(r,r+i)}).then((function(s){for(var u=[],d=[],f=l?[]:null,h=[],b=0;b<i;++b){var m=s[b],_={value:deepClone$1(m),primKey:e[r+b]};!1!==n.call(_,_.value,_)&&(null==_.value?h.push(e[r+b]):l||0===g(c(m),c(_.value))?(d.push(_.value),l&&f.push(e[r+b])):(h.push(e[r+b]),u.push(_.value)))}return Promise.resolve(u.length>0&&a.mutate({trans:o,type:"add",values:u}).then((function(e){for(var t in e.failures)h.splice(parseInt(t),1);y(u.length,e)}))).then((function(e){return d.length>0&&a.mutate({trans:o,type:"put",keys:f,values:d}).then((function(e){return y(d.length,e)}))})).then((function(){return h.length>0&&a.mutate({trans:o,type:"delete",keys:h}).then((function(e){return y(h.length,e)}))})).then((function(){return e.length>r+i&&t(r+p)}))}))};return t(0).then((function(){if(d.length>0)throw new ModifyError("Error modifying one or more objects",d,f,h);return e.length}))}))}))},e.prototype.delete=function(){var e=this._ctx,t=e.range;return isPlainKeyRange(e)&&(e.isPrimKey&&!hangsOnDeleteLargeKeyRange||3===t.type)?this._write((function(r){var o=e.table.core.schema.primaryKey,n=t;return e.table.core.count({trans:r,query:{index:o,range:n}}).then((function(t){return e.table.core.mutate({trans:r,type:"deleteRange",range:n}).then((function(e){var r=e.failures;e.lastResult,e.results;var o=e.numFailures;if(o)throw new ModifyError("Could not delete some values",Object.keys(r).map((function(e){return r[e]})),t-o);return t-o}))}))})):this.modify((function(e,t){return t.value=null}))},e}();function createCollectionConstructor(e){return makeClassConstructor(Collection$1.prototype,(function(t,r){this.db=e;var o=AnyRange,n=null;if(r)try{o=r()}catch(e){n=e}var i=t._ctx,s=i.table,a=s.hook.reading.fire;this._ctx={table:s,index:i.index,isPrimKey:!i.index||s.schema.primKey.keyPath&&i.index===s.schema.primKey.name,range:o,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:n,or:i.or,valueMapper:a!==mirror?a:null}}))}function simpleCompare(e,t){return e<t?-1:e===t?0:1}function simpleCompareReverse(e,t){return e>t?-1:e===t?0:1}function fail(e,t,r){var o=e instanceof WhereClause?new e.Collection(e):e;return o._ctx.error=r?new r(t):new TypeError(t),o}function emptyCollection(e){return new e.Collection(e,(function(){return rangeEqual("")})).limit(0)}function upperFactory(e){return"next"===e?function(e){return e.toUpperCase()}:function(e){return e.toLowerCase()}}function lowerFactory(e){return"next"===e?function(e){return e.toLowerCase()}:function(e){return e.toUpperCase()}}function nextCasing(e,t,r,o,n,i){for(var s=Math.min(e.length,o.length),a=-1,u=0;u<s;++u){var l=t[u];if(l!==o[u])return n(e[u],r[u])<0?e.substr(0,u)+r[u]+r.substr(u+1):n(e[u],o[u])<0?e.substr(0,u)+o[u]+r.substr(u+1):a>=0?e.substr(0,a)+t[a]+r.substr(a+1):null;n(e[u],l)<0&&(a=u)}return s<o.length&&"next"===i?e+r.substr(e.length):s<e.length&&"prev"===i?e.substr(0,r.length):a<0?null:e.substr(0,a)+o[a]+r.substr(a+1)}function addIgnoreCaseAlgorithm(e,t,r,o){var n,i,s,a,u,l,c,p=r.length;if(!r.every((function(e){return"string"==typeof e})))return fail(e,STRING_EXPECTED);function g(e){n=upperFactory(e),i=lowerFactory(e),s="next"===e?simpleCompare:simpleCompareReverse;var t=r.map((function(e){return{lower:i(e),upper:n(e)}})).sort((function(e,t){return s(e.lower,t.lower)}));a=t.map((function(e){return e.upper})),u=t.map((function(e){return e.lower})),l=e,c="next"===e?"":o}g("next");var d=new e.Collection(e,(function(){return createRange(a[0],u[p-1]+o)}));d._ondirectionchange=function(e){g(e)};var f=0;return d._addAlgorithm((function(e,r,o){var n=e.key;if("string"!=typeof n)return!1;var g=i(n);if(t(g,u,f))return!0;for(var d=null,h=f;h<p;++h){var y=nextCasing(n,g,a[h],u[h],s,l);null===y&&null===d?f=h+1:(null===d||s(d,y)>0)&&(d=y)}return r(null!==d?function(){e.continue(d+c)}:o),!1})),d}function createRange(e,t,r,o){return{type:2,lower:e,upper:t,lowerOpen:r,upperOpen:o}}function rangeEqual(e){return{type:1,lower:e,upper:e}}var WhereClause=function(){function e(){}return Object.defineProperty(e.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!0,configurable:!0}),e.prototype.between=function(e,t,r,o){r=!1!==r,o=!0===o;try{return this._cmp(e,t)>0||0===this._cmp(e,t)&&(r||o)&&(!r||!o)?emptyCollection(this):new this.Collection(this,(function(){return createRange(e,t,!r,!o)}))}catch(e){return fail(this,INVALID_KEY_ARGUMENT)}},e.prototype.equals=function(e){return new this.Collection(this,(function(){return rangeEqual(e)}))},e.prototype.above=function(e){return null==e?fail(this,INVALID_KEY_ARGUMENT):new this.Collection(this,(function(){return createRange(e,void 0,!0)}))},e.prototype.aboveOrEqual=function(e){return null==e?fail(this,INVALID_KEY_ARGUMENT):new this.Collection(this,(function(){return createRange(e,void 0,!1)}))},e.prototype.below=function(e){return null==e?fail(this,INVALID_KEY_ARGUMENT):new this.Collection(this,(function(){return createRange(void 0,e,!1,!0)}))},e.prototype.belowOrEqual=function(e){return null==e?fail(this,INVALID_KEY_ARGUMENT):new this.Collection(this,(function(){return createRange(void 0,e)}))},e.prototype.startsWith=function(e){return"string"!=typeof e?fail(this,STRING_EXPECTED):this.between(e,e+maxString,!0,!0)},e.prototype.startsWithIgnoreCase=function(e){return""===e?this.startsWith(e):addIgnoreCaseAlgorithm(this,(function(e,t){return 0===e.indexOf(t[0])}),[e],maxString)},e.prototype.equalsIgnoreCase=function(e){return addIgnoreCaseAlgorithm(this,(function(e,t){return e===t[0]}),[e],"")},e.prototype.anyOfIgnoreCase=function(){var e=getArrayOf.apply(NO_CHAR_ARRAY,arguments);return 0===e.length?emptyCollection(this):addIgnoreCaseAlgorithm(this,(function(e,t){return-1!==t.indexOf(e)}),e,"")},e.prototype.startsWithAnyOfIgnoreCase=function(){var e=getArrayOf.apply(NO_CHAR_ARRAY,arguments);return 0===e.length?emptyCollection(this):addIgnoreCaseAlgorithm(this,(function(e,t){return t.some((function(t){return 0===e.indexOf(t)}))}),e,maxString)},e.prototype.anyOf=function(){var e=this,t=getArrayOf.apply(NO_CHAR_ARRAY,arguments),r=this._cmp;try{t.sort(r)}catch(e){return fail(this,INVALID_KEY_ARGUMENT)}if(0===t.length)return emptyCollection(this);var o=new this.Collection(this,(function(){return createRange(t[0],t[t.length-1])}));o._ondirectionchange=function(o){r="next"===o?e._ascending:e._descending,t.sort(r)};var n=0;return o._addAlgorithm((function(e,o,i){for(var s=e.key;r(s,t[n])>0;)if(++n===t.length)return o(i),!1;return 0===r(s,t[n])||(o((function(){e.continue(t[n])})),!1)})),o},e.prototype.notEqual=function(e){return this.inAnyRange([[minKey,e],[e,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},e.prototype.noneOf=function(){var e=getArrayOf.apply(NO_CHAR_ARRAY,arguments);if(0===e.length)return new this.Collection(this);try{e.sort(this._ascending)}catch(e){return fail(this,INVALID_KEY_ARGUMENT)}var t=e.reduce((function(e,t){return e?e.concat([[e[e.length-1][1],t]]):[[minKey,t]]}),null);return t.push([e[e.length-1],this.db._maxKey]),this.inAnyRange(t,{includeLowers:!1,includeUppers:!1})},e.prototype.inAnyRange=function(e,t){var r=this,o=this._cmp,n=this._ascending,i=this._descending,s=this._min,a=this._max;if(0===e.length)return emptyCollection(this);if(!e.every((function(e){return void 0!==e[0]&&void 0!==e[1]&&n(e[0],e[1])<=0})))return fail(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",exceptions.InvalidArgument);var u,l=!t||!1!==t.includeLowers,c=t&&!0===t.includeUppers,p=n;function g(e,t){return p(e[0],t[0])}try{(u=e.reduce((function(e,t){for(var r=0,n=e.length;r<n;++r){var i=e[r];if(o(t[0],i[1])<0&&o(t[1],i[0])>0){i[0]=s(i[0],t[0]),i[1]=a(i[1],t[1]);break}}return r===n&&e.push(t),e}),[])).sort(g)}catch(e){return fail(this,INVALID_KEY_ARGUMENT)}var d=0,f=c?function(e){return n(e,u[d][1])>0}:function(e){return n(e,u[d][1])>=0},h=l?function(e){return i(e,u[d][0])>0}:function(e){return i(e,u[d][0])>=0},y=f,b=new this.Collection(this,(function(){return createRange(u[0][0],u[u.length-1][1],!l,!c)}));return b._ondirectionchange=function(e){"next"===e?(y=f,p=n):(y=h,p=i),u.sort(g)},b._addAlgorithm((function(e,t,o){for(var i=e.key;y(i);)if(++d===u.length)return t(o),!1;return!!function(e){return!f(e)&&!h(e)}(i)||(0===r._cmp(i,u[d][1])||0===r._cmp(i,u[d][0])||t((function(){p===n?e.continue(u[d][0]):e.continue(u[d][1])})),!1)})),b},e.prototype.startsWithAnyOf=function(){var e=getArrayOf.apply(NO_CHAR_ARRAY,arguments);return e.every((function(e){return"string"==typeof e}))?0===e.length?emptyCollection(this):this.inAnyRange(e.map((function(e){return[e,e+maxString]}))):fail(this,"startsWithAnyOf() only works with strings")},e}();function createWhereClauseConstructor(e){return makeClassConstructor(WhereClause.prototype,(function(t,r,o){this.db=e,this._ctx={table:t,index:":id"===r?null:r,or:o};var n=e._deps.indexedDB;if(!n)throw new exceptions.MissingAPI("indexedDB API missing");this._cmp=this._ascending=n.cmp.bind(n),this._descending=function(e,t){return n.cmp(t,e)},this._max=function(e,t){return n.cmp(e,t)>0?e:t},this._min=function(e,t){return n.cmp(e,t)<0?e:t},this._IDBKeyRange=e._deps.IDBKeyRange}))}function safariMultiStoreFix(e){return 1===e.length?e[0]:e}function getMaxKey(e){try{return e.only([[]]),[[]]}catch(e){return maxString}}function eventRejectHandler(e){return wrap((function(t){return preventDefault(t),e(t.target.error),!1}))}function preventDefault(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault()}var Transaction=function(){function e(){}return e.prototype._lock=function(){return assert(!PSD.global),++this._reculock,1!==this._reculock||PSD.global||(PSD.lockOwnerFor=this),this},e.prototype._unlock=function(){if(assert(!PSD.global),0==--this._reculock)for(PSD.global||(PSD.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var e=this._blockedFuncs.shift();try{usePSD(e[1],e[0])}catch(e){}}return this},e.prototype._locked=function(){return this._reculock&&PSD.lockOwnerFor!==this},e.prototype.create=function(e){var t=this;if(!this.mode)return this;var r=this.db.idbdb,o=this.db._state.dbOpenError;if(assert(!this.idbtrans),!e&&!r)switch(o&&o.name){case"DatabaseClosedError":throw new exceptions.DatabaseClosed(o);case"MissingAPIError":throw new exceptions.MissingAPI(o.message,o);default:throw new exceptions.OpenFailed(o)}if(!this.active)throw new exceptions.TransactionInactive;return assert(null===this._completion._state),(e=this.idbtrans=e||r.transaction(safariMultiStoreFix(this.storeNames),this.mode)).onerror=wrap((function(r){preventDefault(r),t._reject(e.error)})),e.onabort=wrap((function(r){preventDefault(r),t.active&&t._reject(new exceptions.Abort(e.error)),t.active=!1,t.on("abort").fire(r)})),e.oncomplete=wrap((function(){t.active=!1,t._resolve()})),this},e.prototype._promise=function(e,t,r){var o=this;if("readwrite"===e&&"readwrite"!==this.mode)return rejection(new exceptions.ReadOnly("Transaction is readonly"));if(!this.active)return rejection(new exceptions.TransactionInactive);if(this._locked())return new DexiePromise((function(n,i){o._blockedFuncs.push([function(){o._promise(e,t,r).then(n,i)},PSD])}));if(r)return newScope((function(){var e=new DexiePromise((function(e,r){o._lock();var n=t(e,r,o);n&&n.then&&n.then(e,r)}));return e.finally((function(){return o._unlock()})),e._lib=!0,e}));var n=new DexiePromise((function(e,r){var n=t(e,r,o);n&&n.then&&n.then(e,r)}));return n._lib=!0,n},e.prototype._root=function(){return this.parent?this.parent._root():this},e.prototype.waitFor=function(e){var t=this._root(),r=DexiePromise.resolve(e);if(t._waitingFor)t._waitingFor=t._waitingFor.then((function(){return r}));else{t._waitingFor=r,t._waitingQueue=[];var o=t.idbtrans.objectStore(t.storeNames[0]);!function e(){for(++t._spinCount;t._waitingQueue.length;)t._waitingQueue.shift()();t._waitingFor&&(o.get(-1/0).onsuccess=e)}()}var n=t._waitingFor;return new DexiePromise((function(e,o){r.then((function(r){return t._waitingQueue.push(wrap(e.bind(null,r)))}),(function(e){return t._waitingQueue.push(wrap(o.bind(null,e)))})).finally((function(){t._waitingFor===n&&(t._waitingFor=null)}))}))},e.prototype.abort=function(){this.active&&this._reject(new exceptions.Abort),this.active=!1},e.prototype.table=function(e){var t=this._memoizedTables||(this._memoizedTables={});if(hasOwn(t,e))return t[e];var r=this.schema[e];if(!r)throw new exceptions.NotFound("Table "+e+" not part of transaction");var o=new this.db.Table(e,r,this);return o.core=this.db.core.table(e),t[e]=o,o},e}();function createTransactionConstructor(e){return makeClassConstructor(Transaction.prototype,(function(t,r,o,n){var i=this;this.db=e,this.mode=t,this.storeNames=r,this.schema=o,this.idbtrans=null,this.on=Events(this,"complete","error","abort"),this.parent=n||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new DexiePromise((function(e,t){i._resolve=e,i._reject=t})),this._completion.then((function(){i.active=!1,i.on.complete.fire()}),(function(e){var t=i.active;return i.active=!1,i.on.error.fire(e),i.parent?i.parent._reject(e):t&&i.idbtrans&&i.idbtrans.abort(),rejection(e)}))}))}function createIndexSpec(e,t,r,o,n,i,s){return{name:e,keyPath:t,unique:r,multi:o,auto:n,compound:i,src:(r&&!s?"&":"")+(o?"*":"")+(n?"++":"")+nameFromKeyPath(t)}}function nameFromKeyPath(e){return"string"==typeof e?e:e?"["+[].join.call(e,"+")+"]":""}function createTableSchema(e,t,r){return{name:e,primKey:t,indexes:r,mappedClass:null,idxByName:arrayToObject(r,(function(e){return[e.name,e]}))}}function getKeyExtractor(e){return null==e?function(){}:"string"==typeof e?getSinglePathKeyExtractor(e):function(t){return getByKeyPath(t,e)}}function getSinglePathKeyExtractor(e){return 1===e.split(".").length?function(t){return t[e]}:function(t){return getByKeyPath(t,e)}}function getEffectiveKeys(e,t){return"delete"===t.type?t.keys:t.keys||t.values.map(e.extractKey)}function getExistingValues(e,t,r){return"add"===t.type?Promise.resolve(new Array(t.values.length)):e.getMany({trans:t.trans,keys:r})}function arrayify(e){return[].slice.call(e)}var _id_counter=0;function getKeyPathAlias(e){return null==e?":id":"string"==typeof e?e:"["+e.join("+")+"]"}function createDBCore(e,t,r,o){var n=t.cmp.bind(t);function i(e){if(3===e.type)return null;if(4===e.type)throw new Error("Cannot convert never type to IDBKeyRange");var t=e.lower,o=e.upper,n=e.lowerOpen,i=e.upperOpen;return void 0===t?void 0===o?null:r.upperBound(o,!!i):void 0===o?r.lowerBound(t,!!n):r.bound(t,o,!!n,!!i)}var s=function(e,t){var r=arrayify(e.objectStoreNames);return{schema:{name:e.name,tables:r.map((function(e){return t.objectStore(e)})).map((function(e){var t=e.keyPath,r=e.autoIncrement,o=isArray(t),n=null==t,i={},s={name:e.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:n,compound:o,keyPath:t,autoIncrement:r,unique:!0,extractKey:getKeyExtractor(t)},indexes:arrayify(e.indexNames).map((function(t){return e.index(t)})).map((function(e){var t=e.name,r=e.unique,o=e.multiEntry,n=e.keyPath,s={name:t,compound:isArray(n),keyPath:n,unique:r,multiEntry:o,extractKey:getKeyExtractor(n)};return i[getKeyPathAlias(n)]=s,s})),getIndexByKeyPath:function(e){return i[getKeyPathAlias(e)]}};return i[":id"]=s.primaryKey,null!=t&&(i[getKeyPathAlias(t)]=s.primaryKey),s}))},hasGetAll:r.length>0&&"getAll"in t.objectStore(r[0])&&!("undefined"!=typeof navigator&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}(e,o),a=s.schema,u=s.hasGetAll,l=a.tables.map((function(e){return function(e){var t=e.name;return{name:t,schema:e,mutate:function(r){var o=r.trans,n=r.type,s=r.keys,a=r.values,u=r.range,l=r.wantResults;return new Promise((function(r,c){r=wrap(r);var p=o.objectStore(t),g=null==p.keyPath,d="put"===n||"add"===n;if(!d&&"delete"!==n&&"deleteRange"!==n)throw new Error("Invalid operation type: "+n);var f=(s||a||{length:1}).length;if(s&&a&&s.length!==a.length)throw new Error("Given keys array must have same length as given values array.");if(0===f)return r({numFailures:0,failures:{},results:[],lastResult:void 0});var h,y=l&&__spreadArrays(s||getEffectiveKeys(e.primaryKey,{type:n,keys:s,values:a})),b=[],m=0,_=function(e){++m,preventDefault(e),y&&(y[e.target._reqno]=void 0),b[e.target._reqno]=e.target.error},v=function(e){var t=e.target;y[t._reqno]=t.result};if("deleteRange"===n){if(4===u.type)return r({numFailures:m,failures:b,results:y,lastResult:void 0});h=3===u.type?p.clear():p.delete(i(u))}else{var E=d?g?[a,s]:[a,null]:[s,null],S=E[0],w=E[1];if(d)for(var T=0;T<f;++T)(h=w&&void 0!==w[T]?p[n](S[T],w[T]):p[n](S[T]))._reqno=T,y&&void 0===y[T]&&(h.onsuccess=v),h.onerror=_;else for(T=0;T<f;++T)(h=p[n](S[T]))._reqno=T,h.onerror=_}var R=function(e){var t=e.target.result;y&&(y[f-1]=t),r({numFailures:m,failures:b,results:y,lastResult:t})};h.onerror=function(e){_(e),R(e)},h.onsuccess=R}))},getMany:function(e){var r=e.trans,o=e.keys;return new Promise((function(e,n){e=wrap(e);for(var i,s=r.objectStore(t),a=o.length,u=new Array(a),l=0,c=0,p=function(t){var r=t.target;u[r._pos]=r.result,++c===l&&e(u)},g=eventRejectHandler(n),d=0;d<a;++d)null!=o[d]&&((i=s.get(o[d]))._pos=d,i.onsuccess=p,i.onerror=g,++l);0===l&&e(u)}))},get:function(e){var r=e.trans,o=e.key;return new Promise((function(e,n){e=wrap(e);var i=r.objectStore(t).get(o);i.onsuccess=function(t){return e(t.target.result)},i.onerror=eventRejectHandler(n)}))},query:function(e){return function(r){return new Promise((function(o,n){o=wrap(o);var s=r.trans,a=r.values,u=r.limit,l=r.query,c=u===1/0?void 0:u,p=l.index,g=l.range,d=s.objectStore(t),f=p.isPrimaryKey?d:d.index(p.name),h=i(g);if(0===u)return o({result:[]});if(e){var y=a?f.getAll(h,c):f.getAllKeys(h,c);y.onsuccess=function(e){return o({result:e.target.result})},y.onerror=eventRejectHandler(n)}else{var b=0,m=a||!("openKeyCursor"in f)?f.openCursor(h):f.openKeyCursor(h),_=[];m.onsuccess=function(e){var t=m.result;return t?(_.push(a?t.value:t.primaryKey),++b===u?o({result:_}):void t.continue()):o({result:_})},m.onerror=eventRejectHandler(n)}}))}}(u),openCursor:function(e){var r=e.trans,o=e.values,n=e.query,s=e.reverse,a=e.unique;return new Promise((function(e,u){e=wrap(e);var l=n.index,c=n.range,p=r.objectStore(t),g=l.isPrimaryKey?p:p.index(l.name),d=s?a?"prevunique":"prev":a?"nextunique":"next",f=o||!("openKeyCursor"in g)?g.openCursor(i(c),d):g.openKeyCursor(i(c),d);f.onerror=eventRejectHandler(u),f.onsuccess=wrap((function(t){var o=f.result;if(o){o.___id=++_id_counter,o.done=!1;var n=o.continue.bind(o),i=o.continuePrimaryKey;i&&(i=i.bind(o));var s=o.advance.bind(o),a=function(){throw new Error("Cursor not stopped")};o.trans=r,o.stop=o.continue=o.continuePrimaryKey=o.advance=function(){throw new Error("Cursor not started")},o.fail=wrap(u),o.next=function(){var e=this,t=1;return this.start((function(){return t--?e.continue():e.stop()})).then((function(){return e}))},o.start=function(e){var t=new Promise((function(e,t){e=wrap(e),f.onerror=eventRejectHandler(t),o.fail=t,o.stop=function(t){o.stop=o.continue=o.continuePrimaryKey=o.advance=a,e(t)}})),r=function(){if(f.result)try{e()}catch(e){o.fail(e)}else o.done=!0,o.start=function(){throw new Error("Cursor behind last entry")},o.stop()};return f.onsuccess=wrap((function(e){f.onsuccess=r,r()})),o.continue=n,o.continuePrimaryKey=i,o.advance=s,r(),t},e(o)}else e(null)}),u)}))},count:function(e){var r=e.query,o=e.trans,n=r.index,s=r.range;return new Promise((function(e,r){var a=o.objectStore(t),u=n.isPrimaryKey?a:a.index(n.name),l=i(s),c=l?u.count(l):u.count();c.onsuccess=wrap((function(t){return e(t.target.result)})),c.onerror=eventRejectHandler(r)}))}}}(e)})),c={};return l.forEach((function(e){return c[e.name]=e})),{stack:"dbcore",transaction:e.transaction.bind(e),table:function(e){if(!c[e])throw new Error("Table '"+e+"' not found");return c[e]},cmp:n,MIN_KEY:-1/0,MAX_KEY:getMaxKey(r),schema:a}}function createMiddlewareStack(e,t){return t.reduce((function(e,t){var r=t.create;return __assign(__assign({},e),r(e))}),e)}function createMiddlewareStacks(e,t,r,o){var n=r.IDBKeyRange;return{dbcore:createMiddlewareStack(createDBCore(t,r.indexedDB,n,o),e.dbcore)}}function generateMiddlewareStacks(e,t){var r=t.db,o=createMiddlewareStacks(e._middlewares,r,e._deps,t);e.core=o.dbcore,e.tables.forEach((function(t){var r=t.name;e.core.schema.tables.some((function(e){return e.name===r}))&&(t.core=e.core.table(r),e[r]instanceof e.Table&&(e[r].core=t.core))}))}function setApiOnPlace(e,t,r,o){r.forEach((function(r){var n=o[r];t.forEach((function(t){r in t||(t===e.Transaction.prototype||t instanceof e.Transaction?setProp(t,r,{get:function(){return this.table(r)},set:function(e){defineProperty(this,r,{value:e,writable:!0,configurable:!0,enumerable:!0})}}):t[r]=new e.Table(r,n))}))}))}function removeTablesApi(e,t){t.forEach((function(t){for(var r in t)t[r]instanceof e.Table&&delete t[r]}))}function lowerVersionFirst(e,t){return e._cfg.version-t._cfg.version}function runUpgraders(e,t,r,o){var n=e._dbSchema,i=e._createTransaction("readwrite",e._storeNames,n);i.create(r),i._completion.catch(o);var s=i._reject.bind(i),a=PSD.transless||PSD;newScope((function(){PSD.trans=i,PSD.transless=a,0===t?(keys(n).forEach((function(e){createTable(r,e,n[e].primKey,n[e].indexes)})),generateMiddlewareStacks(e,r),DexiePromise.follow((function(){return e.on.populate.fire(i)})).catch(s)):updateTablesAndIndexes(e,t,i,r).catch(s)}))}function updateTablesAndIndexes(e,t,r,o){var n=[],i=e._versions,s=e._dbSchema=buildGlobalSchema(e,e.idbdb,o),a=!1;return i.filter((function(e){return e._cfg.version>=t})).forEach((function(i){n.push((function(){var n=s,u=i._cfg.dbschema;adjustToExistingIndexNames(e,n,o),adjustToExistingIndexNames(e,u,o),s=e._dbSchema=u;var l=getSchemaDiff(n,u);l.add.forEach((function(e){createTable(o,e[0],e[1].primKey,e[1].indexes)})),l.change.forEach((function(e){if(e.recreate)throw new exceptions.Upgrade("Not yet support for changing primary key");var t=o.objectStore(e.name);e.add.forEach((function(e){return addIndex(t,e)})),e.change.forEach((function(e){t.deleteIndex(e.name),addIndex(t,e)})),e.del.forEach((function(e){return t.deleteIndex(e)}))}));var c=i._cfg.contentUpgrade;if(c&&i._cfg.version>t){generateMiddlewareStacks(e,o),a=!0;var p=shallowClone(u);l.del.forEach((function(e){p[e]=n[e]})),removeTablesApi(e,[e.Transaction.prototype]),setApiOnPlace(e,[e.Transaction.prototype],keys(p),p),r.schema=p;var g,d=isAsyncFunction(c);d&&incrementExpectedAwaits();var f=DexiePromise.follow((function(){if((g=c(r))&&d){var e=decrementExpectedAwaits.bind(null,null);g.then(e,e)}}));return g&&"function"==typeof g.then?DexiePromise.resolve(g):f.then((function(){return g}))}})),n.push((function(t){a&&hasIEDeleteObjectStoreBug||deleteRemovedTables(i._cfg.dbschema,t),removeTablesApi(e,[e.Transaction.prototype]),setApiOnPlace(e,[e.Transaction.prototype],e._storeNames,e._dbSchema),r.schema=e._dbSchema}))})),function e(){return n.length?DexiePromise.resolve(n.shift()(r.idbtrans)).then(e):DexiePromise.resolve()}().then((function(){createMissingTables(s,o)}))}function getSchemaDiff(e,t){var r,o={del:[],add:[],change:[]};for(r in e)t[r]||o.del.push(r);for(r in t){var n=e[r],i=t[r];if(n){var s={name:r,def:i,recreate:!1,del:[],add:[],change:[]};if(n.primKey.src===i.primKey.src||isIEOrEdge){var a=n.idxByName,u=i.idxByName,l=void 0;for(l in a)u[l]||s.del.push(l);for(l in u){var c=a[l],p=u[l];c?c.src!==p.src&&s.change.push(p):s.add.push(p)}(s.del.length>0||s.add.length>0||s.change.length>0)&&o.change.push(s)}else s.recreate=!0,o.change.push(s)}else o.add.push([r,i])}return o}function createTable(e,t,r,o){var n=e.db.createObjectStore(t,r.keyPath?{keyPath:r.keyPath,autoIncrement:r.auto}:{autoIncrement:r.auto});return o.forEach((function(e){return addIndex(n,e)})),n}function createMissingTables(e,t){keys(e).forEach((function(r){t.db.objectStoreNames.contains(r)||createTable(t,r,e[r].primKey,e[r].indexes)}))}function deleteRemovedTables(e,t){for(var r=0;r<t.db.objectStoreNames.length;++r){var o=t.db.objectStoreNames[r];null==e[o]&&t.db.deleteObjectStore(o)}}function addIndex(e,t){e.createIndex(t.name,t.keyPath,{unique:t.unique,multiEntry:t.multi})}function buildGlobalSchema(e,t,r){var o={};return slice(t.objectStoreNames,0).forEach((function(e){for(var t=r.objectStore(e),n=t.keyPath,i=createIndexSpec(nameFromKeyPath(n),n||"",!1,!1,!!t.autoIncrement,n&&"string"!=typeof n,!0),s=[],a=0;a<t.indexNames.length;++a){var u=t.index(t.indexNames[a]);n=u.keyPath;var l=createIndexSpec(u.name,n,!!u.unique,!!u.multiEntry,!1,n&&"string"!=typeof n,!1);s.push(l)}o[e]=createTableSchema(e,i,s)})),o}function readGlobalSchema(e,t,r){e.verno=t.version/10;var o=e._dbSchema=buildGlobalSchema(e,t,r);e._storeNames=slice(t.objectStoreNames,0),setApiOnPlace(e,[e._allTables],keys(o),o)}function adjustToExistingIndexNames(e,t,r){for(var o=r.db.objectStoreNames,n=0;n<o.length;++n){var i=o[n],s=r.objectStore(i);e._hasGetAll="getAll"in s;for(var a=0;a<s.indexNames.length;++a){var u=s.indexNames[a],l=s.index(u).keyPath,c="string"==typeof l?l:"["+slice(l).join("+")+"]";if(t[i]){var p=t[i].idxByName[c];p&&(p.name=u,delete t[i].idxByName[c],t[i].idxByName[u]=p)}}}"undefined"!=typeof navigator&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&_global.WorkerGlobalScope&&_global instanceof _global.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(e._hasGetAll=!1)}function parseIndexSyntax(e){return e.split(",").map((function(e,t){var r=(e=e.trim()).replace(/([&*]|\+\+)/g,""),o=/^\[/.test(r)?r.match(/^\[(.*)\]$/)[1].split("+"):r;return createIndexSpec(r,o||null,/\&/.test(e),/\*/.test(e),/\+\+/.test(e),isArray(o),0===t)}))}var Version=function(){function e(){}return e.prototype._parseStoresSpec=function(e,t){keys(e).forEach((function(r){if(null!==e[r]){var o=parseIndexSyntax(e[r]),n=o.shift();if(n.multi)throw new exceptions.Schema("Primary key cannot be multi-valued");o.forEach((function(e){if(e.auto)throw new exceptions.Schema("Only primary key can be marked as autoIncrement (++)");if(!e.keyPath)throw new exceptions.Schema("Index must have a name and cannot be an empty string")})),t[r]=createTableSchema(r,n,o)}}))},e.prototype.stores=function(e){var t=this.db;this._cfg.storesSource=this._cfg.storesSource?extend(this._cfg.storesSource,e):e;var r=t._versions,o={},n={};return r.forEach((function(e){extend(o,e._cfg.storesSource),n=e._cfg.dbschema={},e._parseStoresSpec(o,n)})),t._dbSchema=n,removeTablesApi(t,[t._allTables,t,t.Transaction.prototype]),setApiOnPlace(t,[t._allTables,t,t.Transaction.prototype,this._cfg.tables],keys(n),n),t._storeNames=keys(n),this},e.prototype.upgrade=function(e){return this._cfg.contentUpgrade=e,this},e}(),databaseEnumerator;function createVersionConstructor(e){return makeClassConstructor(Version.prototype,(function(t){this.db=e,this._cfg={version:t,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}}))}function DatabaseEnumerator(e){var t,r=e&&"function"==typeof e.databases;if(!r){var o=new Dexie(DBNAMES_DB,{addons:[]});o.version(1).stores({dbnames:"name"}),t=o.table("dbnames")}return{getDatabaseNames:function(){return r?DexiePromise.resolve(e.databases()).then((function(e){return e.map((function(e){return e.name})).filter((function(e){return e!==DBNAMES_DB}))})):t.toCollection().primaryKeys()},add:function(e){return!r&&e!==DBNAMES_DB&&t.put({name:e}).catch(nop)},remove:function(e){return!r&&e!==DBNAMES_DB&&t.delete(e).catch(nop)}}}function initDatabaseEnumerator(e){try{databaseEnumerator=DatabaseEnumerator(e)}catch(e){}}function vip(e){return newScope((function(){return PSD.letThrough=!0,e()}))}function dexieOpen(e){var t=e._state,r=e._deps.indexedDB;if(t.isBeingOpened||e.idbdb)return t.dbReadyPromise.then((function(){return t.dbOpenError?rejection(t.dbOpenError):e}));debug&&(t.openCanceller._stackHolder=getErrorWithStack()),t.isBeingOpened=!0,t.dbOpenError=null,t.openComplete=!1;var o=t.dbReadyResolve,n=null;return DexiePromise.race([t.openCanceller,new DexiePromise((function(o,i){if(!r)throw new exceptions.MissingAPI("indexedDB API not found. If using IE10+, make sure to run your code on a server URL (not locally). If using old Safari versions, make sure to include indexedDB polyfill.");var s=e.name,a=t.autoSchema?r.open(s):r.open(s,Math.round(10*e.verno));if(!a)throw new exceptions.MissingAPI("IndexedDB API not available");a.onerror=eventRejectHandler(i),a.onblocked=wrap(e._fireOnBlocked),a.onupgradeneeded=wrap((function(o){if(n=a.transaction,t.autoSchema&&!e._options.allowEmptyDB){a.onerror=preventDefault,n.abort(),a.result.close();var u=r.deleteDatabase(s);u.onsuccess=u.onerror=wrap((function(){i(new exceptions.NoSuchDatabase("Database "+s+" doesnt exist"))}))}else{n.onerror=eventRejectHandler(i);var l=o.oldVersion>Math.pow(2,62)?0:o.oldVersion;e.idbdb=a.result,runUpgraders(e,l/10,n,i)}}),i),a.onsuccess=wrap((function(){n=null;var r=e.idbdb=a.result,i=slice(r.objectStoreNames);if(i.length>0)try{var u=r.transaction(safariMultiStoreFix(i),"readonly");t.autoSchema?readGlobalSchema(e,r,u):adjustToExistingIndexNames(e,e._dbSchema,u),generateMiddlewareStacks(e,u)}catch(e){}connections.push(e),r.onversionchange=wrap((function(r){t.vcFired=!0,e.on("versionchange").fire(r)})),databaseEnumerator.add(s),o()}),i)}))]).then((function(){return t.onReadyBeingFired=[],DexiePromise.resolve(vip(e.on.ready.fire)).then((function e(){if(t.onReadyBeingFired.length>0){var r=t.onReadyBeingFired.reduce(promisableChain,nop);return t.onReadyBeingFired=[],DexiePromise.resolve(vip(r)).then(e)}}))})).finally((function(){t.onReadyBeingFired=null})).then((function(){return t.isBeingOpened=!1,e})).catch((function(r){try{n&&n.abort()}catch(e){}return t.isBeingOpened=!1,e.close(),t.dbOpenError=r,rejection(t.dbOpenError)})).finally((function(){t.openComplete=!0,o()}))}function awaitIterator(e){var t=function(t){return e.next(t)},r=n(t),o=n((function(t){return e.throw(t)}));function n(e){return function(t){var n=e(t),i=n.value;return n.done?i:i&&"function"==typeof i.then?i.then(r,o):isArray(i)?Promise.all(i).then(r,o):r(i)}}return n(t)()}function extractTransactionArgs(e,t,r){var o=arguments.length;if(o<2)throw new exceptions.InvalidArgument("Too few arguments");for(var n=new Array(o-1);--o;)n[o-1]=arguments[o];r=n.pop();var i=flatten(n);return[e,i,r]}function enterTransactionScope(e,t,r,o,n){return DexiePromise.resolve().then((function(){var i=PSD.transless||PSD,s=e._createTransaction(t,r,e._dbSchema,o),a={trans:s,transless:i};o?s.idbtrans=o.idbtrans:s.create();var u,l=isAsyncFunction(n);l&&incrementExpectedAwaits();var c=DexiePromise.follow((function(){if(u=n.call(s,s))if(l){var e=decrementExpectedAwaits.bind(null,null);u.then(e,e)}else"function"==typeof u.next&&"function"==typeof u.throw&&(u=awaitIterator(u))}),a);return(u&&"function"==typeof u.then?DexiePromise.resolve(u).then((function(e){return s.active?e:rejection(new exceptions.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))})):c.then((function(){return u}))).then((function(e){return o&&s._resolve(),s._completion.then((function(){return e}))})).catch((function(e){return s._reject(e),rejection(e)}))}))}function pad(e,t,r){for(var o=isArray(e)?e.slice():[e],n=0;n<r;++n)o.push(t);return o}function createVirtualIndexMiddleware(e){return __assign(__assign({},e),{table:function(t){var r=e.table(t),o=r.schema,n={},i=[];function s(e,t,r){var o=getKeyPathAlias(e),a=n[o]=n[o]||[],u=null==e?0:"string"==typeof e?1:e.length,l=t>0,c=__assign(__assign({},r),{isVirtual:l,isPrimaryKey:!l&&r.isPrimaryKey,keyTail:t,keyLength:u,extractKey:getKeyExtractor(e),unique:!l&&r.unique});return a.push(c),c.isPrimaryKey||i.push(c),u>1&&s(2===u?e[0]:e.slice(0,u-1),t+1,r),a.sort((function(e,t){return e.keyTail-t.keyTail})),c}var a=s(o.primaryKey.keyPath,0,o.primaryKey);n[":id"]=[a];for(var u=0,l=o.indexes;u<l.length;u++){var c=l[u];s(c.keyPath,0,c)}function p(t){var r,o,n=t.query.index;return n.isVirtual?__assign(__assign({},t),{query:{index:n,range:(r=t.query.range,o=n.keyTail,{type:1===r.type?2:r.type,lower:pad(r.lower,r.lowerOpen?e.MAX_KEY:e.MIN_KEY,o),lowerOpen:!0,upper:pad(r.upper,r.upperOpen?e.MIN_KEY:e.MAX_KEY,o),upperOpen:!0})}}):t}return __assign(__assign({},r),{schema:__assign(__assign({},o),{primaryKey:a,indexes:i,getIndexByKeyPath:function(e){var t=n[getKeyPathAlias(e)];return t&&t[0]}}),count:function(e){return r.count(p(e))},query:function(e){return r.query(p(e))},openCursor:function(t){var o=t.query.index,n=o.keyTail,i=o.isVirtual,s=o.keyLength;return i?r.openCursor(p(t)).then((function(r){return r&&function(r){return Object.create(r,{continue:{value:function(o){null!=o?r.continue(pad(o,t.reverse?e.MAX_KEY:e.MIN_KEY,n)):t.unique?r.continue(pad(r.key,t.reverse?e.MIN_KEY:e.MAX_KEY,n)):r.continue()}},continuePrimaryKey:{value:function(t,o){r.continuePrimaryKey(pad(t,e.MAX_KEY,n),o)}},key:{get:function(){var e=r.key;return 1===s?e[0]:e.slice(0,s)}},value:{get:function(){return r.value}}})}(r)})):r.openCursor(t)}})}})}var virtualIndexMiddleware={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:createVirtualIndexMiddleware},hooksMiddleware={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(e){return __assign(__assign({},e),{table:function(t){var r=e.table(t),o=r.schema.primaryKey;return __assign(__assign({},r),{mutate:function(e){var n=PSD.trans,i=n.table(t).hook,s=i.deleting,a=i.creating,u=i.updating;switch(e.type){case"add":if(a.fire===nop)break;return n._promise("readwrite",(function(){return l(e)}),!0);case"put":if(a.fire===nop&&u.fire===nop)break;return n._promise("readwrite",(function(){return l(e)}),!0);case"delete":if(s.fire===nop)break;return n._promise("readwrite",(function(){return l(e)}),!0);case"deleteRange":if(s.fire===nop)break;return n._promise("readwrite",(function(){return function(e){return c(e.trans,e.range,1e4)}(e)}),!0)}return r.mutate(e);function l(e){var t=PSD.trans,n=e.keys||getEffectiveKeys(o,e);if(!n)throw new Error("Keys missing");return"delete"!==(e="add"===e.type||"put"===e.type?__assign(__assign({},e),{keys:n,wantResults:!0}):__assign({},e)).type&&(e.values=__spreadArrays(e.values)),e.keys&&(e.keys=__spreadArrays(e.keys)),getExistingValues(r,e,n).then((function(i){var l=n.map((function(r,n){var l=i[n],c={onerror:null,onsuccess:null};if("delete"===e.type)s.fire.call(c,r,l,t);else if("add"===e.type||void 0===l){var p=a.fire.call(c,r,e.values[n],t);null==r&&null!=p&&(r=p,e.keys[n]=r,o.outbound||setByKeyPath(e.values[n],o.keyPath,r))}else{var g=getObjectDiff(l,e.values[n]),d=u.fire.call(c,g,r,l,t);if(d){var f=e.values[n];Object.keys(d).forEach((function(e){setByKeyPath(f,e,d[e])}))}}return c}));return r.mutate(e).then((function(t){for(var r=t.failures,o=t.results,s=t.numFailures,a=t.lastResult,u=0;u<n.length;++u){var c=o?o[u]:n[u],p=l[u];null==c?p.onerror&&p.onerror(r[u]):p.onsuccess&&p.onsuccess("put"===e.type&&i[u]?e.values[u]:c)}return{failures:r,results:o,numFailures:s,lastResult:a}})).catch((function(e){return l.forEach((function(t){return t.onerror&&t.onerror(e)})),Promise.reject(e)}))}))}function c(e,t,n){return r.query({trans:e,values:!1,query:{index:o,range:t},limit:n}).then((function(r){var o=r.result;return l({type:"delete",keys:o,trans:e}).then((function(r){return r.numFailures>0?Promise.reject(r.failures[0]):o.length<n?{failures:[],numFailures:0,lastResult:void 0}:c(e,__assign(__assign({},t),{lower:o[o.length-1],lowerOpen:!0}),n)}))}))}}})}})}},Dexie=function(){function e(t,r){var o=this;this._middlewares={},this.verno=0;var n=e.dependencies;this._options=r=__assign({addons:e.addons,autoOpen:!0,indexedDB:n.indexedDB,IDBKeyRange:n.IDBKeyRange},r),this._deps={indexedDB:r.indexedDB,IDBKeyRange:r.IDBKeyRange};var i=r.addons;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null;var s={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:nop,dbReadyPromise:null,cancelOpen:nop,openCanceller:null,autoSchema:!0};s.dbReadyPromise=new DexiePromise((function(e){s.dbReadyResolve=e})),s.openCanceller=new DexiePromise((function(e,t){s.cancelOpen=t})),this._state=s,this.name=t,this.on=Events(this,"populate","blocked","versionchange",{ready:[promisableChain,nop]}),this.on.ready.subscribe=override(this.on.ready.subscribe,(function(t){return function(r,n){e.vip((function(){var e=o._state;if(e.openComplete)e.dbOpenError||DexiePromise.resolve().then(r),n&&t(r);else if(e.onReadyBeingFired)e.onReadyBeingFired.push(r),n&&t(r);else{t(r);var i=o;n||t((function e(){i.on.ready.unsubscribe(r),i.on.ready.unsubscribe(e)}))}}))}})),this.Collection=createCollectionConstructor(this),this.Table=createTableConstructor(this),this.Transaction=createTransactionConstructor(this),this.Version=createVersionConstructor(this),this.WhereClause=createWhereClauseConstructor(this),this.on("versionchange",(function(e){e.newVersion>0?console.warn("Another connection wants to upgrade database '"+o.name+"'. Closing db now to resume the upgrade."):console.warn("Another connection wants to delete database '"+o.name+"'. Closing db now to resume the delete request."),o.close()})),this.on("blocked",(function(e){!e.newVersion||e.newVersion<e.oldVersion?console.warn("Dexie.delete('"+o.name+"') was blocked"):console.warn("Upgrade '"+o.name+"' blocked by other connection holding version "+e.oldVersion/10)})),this._maxKey=getMaxKey(r.IDBKeyRange),this._createTransaction=function(e,t,r,n){return new o.Transaction(e,t,r,n)},this._fireOnBlocked=function(e){o.on("blocked").fire(e),connections.filter((function(e){return e.name===o.name&&e!==o&&!e._state.vcFired})).map((function(t){return t.on("versionchange").fire(e)}))},this.use(virtualIndexMiddleware),this.use(hooksMiddleware),i.forEach((function(e){return e(o)}))}return e.prototype.version=function(e){if(isNaN(e)||e<.1)throw new exceptions.Type("Given version is not a positive number");if(e=Math.round(10*e)/10,this.idbdb||this._state.isBeingOpened)throw new exceptions.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,e);var t=this._versions,r=t.filter((function(t){return t._cfg.version===e}))[0];return r||(r=new this.Version(e),t.push(r),t.sort(lowerVersionFirst),r.stores({}),this._state.autoSchema=!1,r)},e.prototype._whenReady=function(e){var t=this;return this._state.openComplete||PSD.letThrough?e():new DexiePromise((function(e,r){if(!t._state.isBeingOpened){if(!t._options.autoOpen)return void r(new exceptions.DatabaseClosed);t.open().catch(nop)}t._state.dbReadyPromise.then(e,r)})).then(e)},e.prototype.use=function(e){var t=e.stack,r=e.create,o=e.level,n=e.name;n&&this.unuse({stack:t,name:n});var i=this._middlewares[t]||(this._middlewares[t]=[]);return i.push({stack:t,create:r,level:null==o?10:o,name:n}),i.sort((function(e,t){return e.level-t.level})),this},e.prototype.unuse=function(e){var t=e.stack,r=e.name,o=e.create;return t&&this._middlewares[t]&&(this._middlewares[t]=this._middlewares[t].filter((function(e){return o?e.create!==o:!!r&&e.name!==r}))),this},e.prototype.open=function(){return dexieOpen(this)},e.prototype.close=function(){var e=connections.indexOf(this),t=this._state;if(e>=0&&connections.splice(e,1),this.idbdb){try{this.idbdb.close()}catch(e){}this.idbdb=null}this._options.autoOpen=!1,t.dbOpenError=new exceptions.DatabaseClosed,t.isBeingOpened&&t.cancelOpen(t.dbOpenError),t.dbReadyPromise=new DexiePromise((function(e){t.dbReadyResolve=e})),t.openCanceller=new DexiePromise((function(e,r){t.cancelOpen=r}))},e.prototype.delete=function(){var e=this,t=arguments.length>0,r=this._state;return new DexiePromise((function(o,n){var i=function(){e.close();var t=e._deps.indexedDB.deleteDatabase(e.name);t.onsuccess=wrap((function(){databaseEnumerator.remove(e.name),o()})),t.onerror=eventRejectHandler(n),t.onblocked=e._fireOnBlocked};if(t)throw new exceptions.InvalidArgument("Arguments not allowed in db.delete()");r.isBeingOpened?r.dbReadyPromise.then(i):i()}))},e.prototype.backendDB=function(){return this.idbdb},e.prototype.isOpen=function(){return null!==this.idbdb},e.prototype.hasBeenClosed=function(){var e=this._state.dbOpenError;return e&&"DatabaseClosed"===e.name},e.prototype.hasFailed=function(){return null!==this._state.dbOpenError},e.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(e.prototype,"tables",{get:function(){var e=this;return keys(this._allTables).map((function(t){return e._allTables[t]}))},enumerable:!0,configurable:!0}),e.prototype.transaction=function(){var e=extractTransactionArgs.apply(this,arguments);return this._transaction.apply(this,e)},e.prototype._transaction=function(e,t,r){var o=this,n=PSD.trans;n&&n.db===this&&-1===e.indexOf("!")||(n=null);var i,s,a=-1!==e.indexOf("?");e=e.replace("!","").replace("?","");try{if(s=t.map((function(e){var t=e instanceof o.Table?e.name:e;if("string"!=typeof t)throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return t})),"r"==e||e===READONLY)i=READONLY;else{if("rw"!=e&&e!=READWRITE)throw new exceptions.InvalidArgument("Invalid transaction mode: "+e);i=READWRITE}if(n){if(n.mode===READONLY&&i===READWRITE){if(!a)throw new exceptions.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");n=null}n&&s.forEach((function(e){if(n&&-1===n.storeNames.indexOf(e)){if(!a)throw new exceptions.SubTransaction("Table "+e+" not included in parent transaction.");n=null}})),a&&n&&!n.active&&(n=null)}}catch(e){return n?n._promise(null,(function(t,r){r(e)})):rejection(e)}var u=enterTransactionScope.bind(null,this,i,s,n,r);return n?n._promise(i,u,"lock"):PSD.trans?usePSD(PSD.transless,(function(){return o._whenReady(u)})):this._whenReady(u)},e.prototype.table=function(e){if(!hasOwn(this._allTables,e))throw new exceptions.InvalidTable("Table "+e+" does not exist");return this._allTables[e]},e}(),Dexie$1=Dexie;props(Dexie$1,__assign(__assign({},fullNameExceptions),{delete:function(e){return new Dexie$1(e).delete()},exists:function(e){return new Dexie$1(e,{addons:[]}).open().then((function(e){return e.close(),!0})).catch("NoSuchDatabaseError",(function(){return!1}))},getDatabaseNames:function(e){return databaseEnumerator?databaseEnumerator.getDatabaseNames().then(e):DexiePromise.resolve([])},defineClass:function(){return function(e){extend(this,e)}},ignoreTransaction:function(e){return PSD.trans?usePSD(PSD.transless,e):e()},vip,async:function(e){return function(){try{var t=awaitIterator(e.apply(this,arguments));return t&&"function"==typeof t.then?t:DexiePromise.resolve(t)}catch(e){return rejection(e)}}},spawn:function(e,t,r){try{var o=awaitIterator(e.apply(r,t||[]));return o&&"function"==typeof o.then?o:DexiePromise.resolve(o)}catch(e){return rejection(e)}},currentTransaction:{get:function(){return PSD.trans||null}},waitFor:function(e,t){var r=DexiePromise.resolve("function"==typeof e?Dexie$1.ignoreTransaction(e):e).timeout(t||6e4);return PSD.trans?PSD.trans.waitFor(r):r},Promise:DexiePromise,debug:{get:function(){return debug},set:function(e){setDebug(e,"dexie"===e?function(){return!0}:dexieStackFrameFilter)}},derive,extend,props,override,Events,getByKeyPath,setByKeyPath,delByKeyPath,shallowClone,deepClone:deepClone$1,getObjectDiff,asap,minKey,addons:[],connections,errnames,dependencies:function(){try{return{indexedDB:_global.indexedDB||_global.mozIndexedDB||_global.webkitIndexedDB||_global.msIndexedDB,IDBKeyRange:_global.IDBKeyRange||_global.webkitIDBKeyRange}}catch(e){return{indexedDB:null,IDBKeyRange:null}}}(),semVer:DEXIE_VERSION,version:DEXIE_VERSION.split(".").map((function(e){return parseInt(e)})).reduce((function(e,t,r){return e+t/Math.pow(10,2*r)})),default:Dexie$1,Dexie:Dexie$1})),Dexie$1.maxKey=getMaxKey(Dexie$1.dependencies.IDBKeyRange),initDatabaseEnumerator(Dexie.dependencies.indexedDB),DexiePromise.rejectionMapper=mapError,setDebug(debug,dexieStackFrameFilter);var dexie=Object.freeze({__proto__:null,default:Dexie});function initOverrideCreateTransaction(e,...t){return function(r){return function(o,n,i,s){if(e.dynamicallyOpened())return r.apply(this,arguments);if("readwrite"===o&&n.some((e=>!e.startsWith("_")))){n=n.slice(0);for(const e of t)-1===n.indexOf("name")&&n.push(e)}const a=r.call(this,o,n,i,s);return a}}}function initOverrideParseStoreSpec(e){return function(t){return function(r,o){r=Object.assign(Object.assign({},r),e),t.call(this,r,o)}}}const ChangeTableName="_changes",StashTableName="_stash",MetaTableName="_meta",isEmpty=e=>0===Object.keys(e).length&&e.constructor===Object,zip=(e,t,r)=>e.map(((e,o)=>{var n;return[e,null!==(n=t[o])&&void 0!==n?n:r]}));function createTrackedChangesMiddleware(e){return Object.assign(Object.assign({},e),{table(t){const r=e.table(t);return t.startsWith("_")?r:Object.assign(Object.assign({},r),{mutate(o){return __awaiter(this,void 0,void 0,(function*(){if(t.startsWith("_"))return r.mutate(o);if("deleteRange"===o.type)return r.mutate(o);const{primaryKey:n}=r.schema,i=Boolean(n.autoIncrement);let s=o.keys||getEffectiveKeys$1(n,o),a=yield getExistingValues$1(r,o,s);!i||"add"!==o.type&&"put"!==o.type||(o=Object.assign(Object.assign({},o),{wantResults:!0}));const u=yield r.mutate(o);if(i&&("add"===o.type||"put"===o.type)){if(void 0===u.results)throw new Error(`autoIncrement keys not returned from ${o.type} mutation`);s=u.results}let l=yield r.getMany({trans:o.trans,keys:s}),c=zip(a,"delete"===o.type?[]:o.values,{}).map((([e,t])=>jsonpatch.compare(e,t)));const{failures:p,numFailures:g}=u;if(g>0&&(a=a.filter(((e,t)=>!p[t])),s=s.filter(((e,t)=>!p[t])),c=c.filter(((e,t)=>!p[t])),l=l.filter(((e,t)=>!p[t]))),s.length>0){const r=[];for(let e=0;e<s.length;e++){const n=a[0],i="put"===o.type&&isEmpty(n)?"add":o.type;r.push({name:t,type:i,key:s[e],before:n,ops:c[e],after:l[e]})}const n=e.table(ChangeTableName),i={type:"add",trans:o.trans,values:r};yield n.mutate(i)}return u}))}})}})}function getEffectiveKeys$1(e,t){return"delete"===t.type?t.keys:t.keys||t.values.map(e.extractKey)}function getExistingValues$1(e,t,r){return"add"===t.type?Promise.resolve(new Array(t.values.length).fill({})):e.getMany({trans:t.trans,keys:r}).then((e=>e.map((e=>void 0===e?{}:e))))}const changesMiddleware={stack:"dbcore",name:"ChangesMiddleware",create:createTrackedChangesMiddleware};function changesAddon(e){const t=initOverrideCreateTransaction(e,ChangeTableName);e._createTransaction=Dexie.override(e._createTransaction,t);const r=initOverrideParseStoreSpec({[ChangeTableName]:"++id,name",[StashTableName]:"++id,name",[MetaTableName]:"&key"});e.Version.prototype._parseStoresSpec=Dexie.override(e.Version.prototype._parseStoresSpec,r),e.use(changesMiddleware)}var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==__webpack_require__.g?__webpack_require__.g:"undefined"!=typeof self?self:{},o=null;"undefined"!=typeof WebSocket?o=WebSocket:"undefined"!=typeof MozWebSocket?o=MozWebSocket:void 0!==e?o=e.WebSocket||e.MozWebSocket:"undefined"!=typeof window?o=window.WebSocket||window.MozWebSocket:"undefined"!=typeof self&&(o=self.WebSocket||self.MozWebSocket);var t,n=o,r=(function(t){var r,o;r=e,o=function(){var e=function(){},t="undefined",r=typeof window!==t&&typeof window.navigator!==t&&/Trident\/|MSIE /.test(window.navigator.userAgent),o=["trace","debug","info","warn","error"];function n(e,t){var r=e[t];if("function"==typeof r.bind)return r.bind(e);try{return Function.prototype.bind.call(r,e)}catch(t){return function(){return Function.prototype.apply.apply(r,[e,arguments])}}}function i(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function s(o){return"debug"===o&&(o="log"),typeof console!==t&&("trace"===o&&r?i:void 0!==console[o]?n(console,o):void 0!==console.log?n(console,"log"):e)}function a(t,r){for(var n=0;n<o.length;n++){var i=o[n];this[i]=n<t?e:this.methodFactory(i,t,r)}this.log=this.debug}function u(e,r,o){return function(){typeof console!==t&&(a.call(this,r,o),this[e].apply(this,arguments))}}function l(e,t,r){return s(e)||u.apply(this,arguments)}function c(e,r,n){var i,s=this,u="loglevel";function c(){var e;if(typeof window!==t&&u){try{e=window.localStorage[u]}catch(e){}if(typeof e===t)try{var r=window.document.cookie,o=r.indexOf(encodeURIComponent(u)+"=");-1!==o&&(e=/^([^;]+)/.exec(r.slice(o))[1])}catch(e){}return void 0===s.levels[e]&&(e=void 0),e}}"string"==typeof e?u+=":"+e:"symbol"==typeof e&&(u=void 0),s.name=e,s.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},s.methodFactory=n||l,s.getLevel=function(){return i},s.setLevel=function(r,n){if("string"==typeof r&&void 0!==s.levels[r.toUpperCase()]&&(r=s.levels[r.toUpperCase()]),!("number"==typeof r&&r>=0&&r<=s.levels.SILENT))throw"log.setLevel() called with invalid level: "+r;if(i=r,!1!==n&&function(e){var r=(o[e]||"silent").toUpperCase();if(typeof window!==t&&u){try{return void(window.localStorage[u]=r)}catch(e){}try{window.document.cookie=encodeURIComponent(u)+"="+r+";"}catch(e){}}}(r),a.call(s,r,e),typeof console===t&&r<s.levels.SILENT)return"No console available for logging"},s.setDefaultLevel=function(e){c()||s.setLevel(e,!1)},s.enableAll=function(e){s.setLevel(s.levels.TRACE,e)},s.disableAll=function(e){s.setLevel(s.levels.SILENT,e)};var p=c();null==p&&(p=null==r?"WARN":r),s.setLevel(p,!1)}var p=new c,g={};p.getLogger=function(e){if("symbol"!=typeof e&&"string"!=typeof e||""===e)throw new TypeError("You must supply a name when creating a logger.");var t=g[e];return t||(t=g[e]=new c(e,p.getLevel(),p.methodFactory)),t};var d=typeof window!==t?window.log:void 0;return p.noConflict=function(){return typeof window!==t&&window.log===p&&(window.log=d),p},p.getLoggers=function(){return g},p.default=p,p},t.exports?t.exports=o():r.log=o()}(t={exports:{}},t.exports),t.exports);const{debug:i}=r.getLogger("grpc-transport");var l;!function(e){e[e.FINISH_SEND=1]="FINISH_SEND"}(l||(l={}));const s=new Uint8Array([1]);function c(e){let t="";return e.forEach(((e,r)=>{t+=`${e}: ${r.join(", ")}\r\n`})),function(e){const t=new Uint8Array(e.length);for(let n=0;n!==e.length;++n){const i=e.charCodeAt(n);if(!(9===(o=r=i)||10===o||13===o||r>=32&&r<=126))throw new Error("Metadata contains invalid ASCII");t[n]=i}var r,o;return t}(t)}function u(e){e.debug&&i("websocketRequest",e);const t=function(e){if("https://"===e.substr(0,8))return`wss://${e.substr(8)}`;if(e.startsWith("wss://"))return e;if("http://"===e.substr(0,7))return`ws://${e.substr(7)}`;if(e.startsWith("ws://"))return e;throw new Error("Websocket transport constructed with non-{http,ws}[s]:// host.")}(e.url),r=[];let o;function a(e){if(e===l.FINISH_SEND)o.send(s);else{const t=e,r=new Int8Array(t.byteLength+1);r.set(new Uint8Array([0])),r.set(t,1),o.send(r)}}return{sendMessage:e=>{o&&o.readyState!==o.CONNECTING?a(e):r.push(e)},finishSend:()=>{o&&o.readyState!==o.CONNECTING?a(l.FINISH_SEND):r.push(l.FINISH_SEND)},start:s=>{o=new n(t,["grpc-websockets"]),o.binaryType="arraybuffer",o.onopen=function(){e.debug&&i("websocketRequest.onopen"),o.send(c(s)),r.forEach((e=>{a(e)}))},o.onclose=function(t){e.debug&&i("websocketRequest.onclose",t),e.onEnd()},o.onerror=function(t){e.debug&&i("websocketRequest.onerror",t)},o.onmessage=function(t){e.onChunk(new Uint8Array(t.data))}},cancel:()=>{e.debug&&i("websocket.abort"),o.close()}}}function a(){return e=>u(e)}var $jscomp=$jscomp||{};$jscomp.scope={},$jscomp.findInternal=function(e,t,r){e instanceof String&&(e=String(e));for(var o=e.length,n=0;n<o;n++){var i=e[n];if(t.call(r,i,n,e))return{i:n,v:i}}return{i:-1,v:void 0}},$jscomp.ASSUME_ES5=!1,$jscomp.ASSUME_NO_NATIVE_MAP=!1,$jscomp.ASSUME_NO_NATIVE_SET=!1,$jscomp.SIMPLE_FROUND_POLYFILL=!1,$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,r){e!=Array.prototype&&e!=Object.prototype&&(e[t]=r.value)},$jscomp.getGlobal=function(e){return"undefined"!=typeof window&&window===e?e:void 0!==commonjsGlobal&&null!=commonjsGlobal?commonjsGlobal:e},$jscomp.global=$jscomp.getGlobal(commonjsGlobal),$jscomp.polyfill=function(e,t,r,o){if(t){for(r=$jscomp.global,e=e.split("."),o=0;o<e.length-1;o++){var n=e[o];n in r||(r[n]={}),r=r[n]}(t=t(o=r[e=e[e.length-1]]))!=o&&null!=t&&$jscomp.defineProperty(r,e,{configurable:!0,writable:!0,value:t})}},$jscomp.polyfill("Array.prototype.findIndex",(function(e){return e||function(e,t){return $jscomp.findInternal(this,e,t).i}}),"es6","es3"),$jscomp.checkStringArgs=function(e,t,r){if(null==e)throw new TypeError("The 'this' value for String.prototype."+r+" must not be null or undefined");if(t instanceof RegExp)throw new TypeError("First argument to String.prototype."+r+" must not be a regular expression");return e+""},$jscomp.polyfill("String.prototype.endsWith",(function(e){return e||function(e,t){var r=$jscomp.checkStringArgs(this,e,"endsWith");e+="",void 0===t&&(t=r.length),t=Math.max(0,Math.min(0|t,r.length));for(var o=e.length;0<o&&0<t;)if(r[--t]!=e[--o])return!1;return 0>=o}}),"es6","es3"),$jscomp.polyfill("Array.prototype.find",(function(e){return e||function(e,t){return $jscomp.findInternal(this,e,t).v}}),"es6","es3"),$jscomp.polyfill("String.prototype.startsWith",(function(e){return e||function(e,t){var r=$jscomp.checkStringArgs(this,e,"startsWith");e+="";var o=r.length,n=e.length;t=Math.max(0,Math.min(0|t,r.length));for(var i=0;i<n&&t<o;)if(r[t++]!=e[i++])return!1;return i>=n}}),"es6","es3"),$jscomp.polyfill("String.prototype.repeat",(function(e){return e||function(e){var t=$jscomp.checkStringArgs(this,null,"repeat");if(0>e||1342177279<e)throw new RangeError("Invalid count value");e|=0;for(var r="";e;)1&e&&(r+=t),(e>>>=1)&&(t+=t);return r}}),"es6","es3");var COMPILED$1=!0,goog=goog||{};goog.global=commonjsGlobal||self,goog.isDef=function(e){return void 0!==e},goog.isString=function(e){return"string"==typeof e},goog.isBoolean=function(e){return"boolean"==typeof e},goog.isNumber=function(e){return"number"==typeof e},goog.exportPath_=function(e,t,r){e=e.split("."),r=r||goog.global,e[0]in r||void 0===r.execScript||r.execScript("var "+e[0]);for(var o;e.length&&(o=e.shift());)!e.length&&goog.isDef(t)?r[o]=t:r=r[o]&&r[o]!==Object.prototype[o]?r[o]:r[o]={}},goog.define=function(e,t){return t},goog.FEATURESET_YEAR=2012,goog.DEBUG=!0,goog.LOCALE="en",goog.TRUSTED_SITE=!0,goog.STRICT_MODE_COMPATIBLE=!1,goog.DISALLOW_TEST_ONLY_CODE=!goog.DEBUG,goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING=!1,goog.provide=function(e){if(goog.isInModuleLoader_())throw Error("goog.provide cannot be used within a module.");goog.constructNamespace_(e)},goog.constructNamespace_=function(e,t){goog.exportPath_(e,t)},goog.getScriptNonce=function(e){return e&&e!=goog.global?goog.getScriptNonce_(e.document):(null===goog.cspNonce_&&(goog.cspNonce_=goog.getScriptNonce_(goog.global.document)),goog.cspNonce_)},goog.NONCE_PATTERN_=/^[\w+/_-]+[=]{0,2}$/,goog.cspNonce_=null,goog.getScriptNonce_=function(e){return(e=e.querySelector&&e.querySelector("script[nonce]"))&&(e=e.nonce||e.getAttribute("nonce"))&&goog.NONCE_PATTERN_.test(e)?e:""},goog.VALID_MODULE_RE_=/^[a-zA-Z_$][a-zA-Z0-9._$]*$/,goog.module=function(e){if(!goog.isString(e)||!e||-1==e.search(goog.VALID_MODULE_RE_))throw Error("Invalid module identifier");if(!goog.isInGoogModuleLoader_())throw Error("Module "+e+" has been loaded incorrectly. Note, modules cannot be loaded as normal scripts. They require some kind of pre-processing step. You're likely trying to load a module via a script tag or as a part of a concatenated bundle without rewriting the module. For more info see: https://github.com/google/closure-library/wiki/goog.module:-an-ES6-module-like-alternative-to-goog.provide.");if(goog.moduleLoaderState_.moduleName)throw Error("goog.module may only be called once per module.");goog.moduleLoaderState_.moduleName=e},goog.module.get=function(e){return goog.module.getInternal_(e)},goog.module.getInternal_=function(e){return null},goog.ModuleType={ES6:"es6",GOOG:"goog"},goog.moduleLoaderState_=null,goog.isInModuleLoader_=function(){return goog.isInGoogModuleLoader_()||goog.isInEs6ModuleLoader_()},goog.isInGoogModuleLoader_=function(){return!!goog.moduleLoaderState_&&goog.moduleLoaderState_.type==goog.ModuleType.GOOG},goog.isInEs6ModuleLoader_=function(){if(goog.moduleLoaderState_&&goog.moduleLoaderState_.type==goog.ModuleType.ES6)return!0;var e=goog.global.$jscomp;return!!e&&"function"==typeof e.getCurrentModulePath&&!!e.getCurrentModulePath()},goog.module.declareLegacyNamespace=function(){goog.moduleLoaderState_.declareLegacyNamespace=!0},goog.declareModuleId=function(e){if(goog.moduleLoaderState_)goog.moduleLoaderState_.moduleName=e;else{var t=goog.global.$jscomp;if(!t||"function"!=typeof t.getCurrentModulePath)throw Error('Module with namespace "'+e+'" has been loaded incorrectly.');t=t.require(t.getCurrentModulePath()),goog.loadedModules_[e]={exports:t,type:goog.ModuleType.ES6,moduleId:e}}},goog.setTestOnly=function(e){if(goog.DISALLOW_TEST_ONLY_CODE)throw e=e||"",Error("Importing test-only code into non-debug environment"+(e?": "+e:"."))},goog.forwardDeclare=function(e){},goog.getObjectByName=function(e,t){e=e.split("."),t=t||goog.global;for(var r=0;r<e.length;r++)if(t=t[e[r]],!goog.isDefAndNotNull(t))return null;return t},goog.globalize=function(e,t){for(var r in t=t||goog.global,e)t[r]=e[r]},goog.addDependency=function(e,t,r,o){},goog.ENABLE_DEBUG_LOADER=!0,goog.logToConsole_=function(e){goog.global.console&&goog.global.console.error(e)},goog.require=function(e){},goog.requireType=function(e){return{}},goog.basePath="",goog.nullFunction=function(){},goog.abstractMethod=function(){throw Error("unimplemented abstract method")},goog.addSingletonGetter=function(e){e.instance_=void 0,e.getInstance=function(){return e.instance_?e.instance_:(goog.DEBUG&&(goog.instantiatedSingletons_[goog.instantiatedSingletons_.length]=e),e.instance_=new e)}},goog.instantiatedSingletons_=[],goog.LOAD_MODULE_USING_EVAL=!0,goog.SEAL_MODULE_EXPORTS=goog.DEBUG,goog.loadedModules_={},goog.DEPENDENCIES_ENABLED=!COMPILED$1,goog.TRANSPILE="detect",goog.ASSUME_ES_MODULES_TRANSPILED=!1,goog.TRANSPILE_TO_LANGUAGE="",goog.TRANSPILER="transpile.js",goog.hasBadLetScoping=null,goog.useSafari10Workaround=function(){if(null==goog.hasBadLetScoping){try{var a=!eval('"use strict";let x = 1; function f() { return typeof x; };f() == "number";')}catch(e){a=!1}goog.hasBadLetScoping=a}return goog.hasBadLetScoping},goog.workaroundSafari10EvalBug=function(e){return"(function(){"+e+"\n;})();\n"},goog.loadModule=function(e){var t=goog.moduleLoaderState_;try{if(goog.moduleLoaderState_={moduleName:"",declareLegacyNamespace:!1,type:goog.ModuleType.GOOG},goog.isFunction(e))var r=e.call(void 0,{});else{if(!goog.isString(e))throw Error("Invalid module definition");goog.useSafari10Workaround()&&(e=goog.workaroundSafari10EvalBug(e)),r=goog.loadModuleFromSource_.call(void 0,e)}var o=goog.moduleLoaderState_.moduleName;if(!goog.isString(o)||!o)throw Error('Invalid module name "'+o+'"');goog.moduleLoaderState_.declareLegacyNamespace?goog.constructNamespace_(o,r):goog.SEAL_MODULE_EXPORTS&&Object.seal&&"object"==typeof r&&null!=r&&Object.seal(r),goog.loadedModules_[o]={exports:r,type:goog.ModuleType.GOOG,moduleId:goog.moduleLoaderState_.moduleName}}finally{goog.moduleLoaderState_=t}},goog.loadModuleFromSource_=function(a){return eval(a),{}},goog.normalizePath_=function(e){e=e.split("/");for(var t=0;t<e.length;)"."==e[t]?e.splice(t,1):t&&".."==e[t]&&e[t-1]&&".."!=e[t-1]?e.splice(--t,2):t++;return e.join("/")},goog.loadFileSync_=function(e){if(goog.global.CLOSURE_LOAD_FILE_SYNC)return goog.global.CLOSURE_LOAD_FILE_SYNC(e);try{var t=new goog.global.XMLHttpRequest;return t.open("get",e,!1),t.send(),0==t.status||200==t.status?t.responseText:null}catch(e){return null}},goog.transpile_=function(e,t,r){var o=goog.global.$jscomp;o||(goog.global.$jscomp=o={});var n=o.transpile;if(!n){var i=goog.basePath+goog.TRANSPILER,s=goog.loadFileSync_(i);if(s){if(function(){(0,eval)(s+"\n//# sourceURL="+i)}.call(goog.global),goog.global.$gwtExport&&goog.global.$gwtExport.$jscomp&&!goog.global.$gwtExport.$jscomp.transpile)throw Error('The transpiler did not properly export the "transpile" method. $gwtExport: '+JSON.stringify(goog.global.$gwtExport));goog.global.$jscomp.transpile=goog.global.$gwtExport.$jscomp.transpile,n=(o=goog.global.$jscomp).transpile}}return n||(n=o.transpile=function(e,t){return goog.logToConsole_(t+" requires transpilation but no transpiler was found."),e}),n(e,t,r)},goog.typeOf=function(e){var t=typeof e;if("object"==t){if(!e)return"null";if(e instanceof Array)return"array";if(e instanceof Object)return t;var r=Object.prototype.toString.call(e);if("[object Window]"==r)return"object";if("[object Array]"==r||"number"==typeof e.length&&void 0!==e.splice&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("splice"))return"array";if("[object Function]"==r||void 0!==e.call&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("call"))return"function"}else if("function"==t&&void 0===e.call)return"object";return t},goog.isNull=function(e){return null===e},goog.isDefAndNotNull=function(e){return null!=e},goog.isArray=function(e){return"array"==goog.typeOf(e)},goog.isArrayLike=function(e){var t=goog.typeOf(e);return"array"==t||"object"==t&&"number"==typeof e.length},goog.isDateLike=function(e){return goog.isObject(e)&&"function"==typeof e.getFullYear},goog.isFunction=function(e){return"function"==goog.typeOf(e)},goog.isObject=function(e){var t=typeof e;return"object"==t&&null!=e||"function"==t},goog.getUid=function(e){return e[goog.UID_PROPERTY_]||(e[goog.UID_PROPERTY_]=++goog.uidCounter_)},goog.hasUid=function(e){return!!e[goog.UID_PROPERTY_]},goog.removeUid=function(e){null!==e&&"removeAttribute"in e&&e.removeAttribute(goog.UID_PROPERTY_);try{delete e[goog.UID_PROPERTY_]}catch(e){}},goog.UID_PROPERTY_="closure_uid_"+(1e9*Math.random()>>>0),goog.uidCounter_=0,goog.getHashCode=goog.getUid,goog.removeHashCode=goog.removeUid,goog.cloneObject=function(e){var t=goog.typeOf(e);if("object"==t||"array"==t){if("function"==typeof e.clone)return e.clone();for(var r in t="array"==t?[]:{},e)t[r]=goog.cloneObject(e[r]);return t}return e},goog.bindNative_=function(e,t,r){return e.call.apply(e.bind,arguments)},goog.bindJs_=function(e,t,r){if(!e)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,o),e.apply(t,r)}}return function(){return e.apply(t,arguments)}},goog.bind=function(e,t,r){return Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?goog.bind=goog.bindNative_:goog.bind=goog.bindJs_,goog.bind.apply(null,arguments)},goog.partial=function(e,t){var r=Array.prototype.slice.call(arguments,1);return function(){var t=r.slice();return t.push.apply(t,arguments),e.apply(this,t)}},goog.mixin=function(e,t){for(var r in t)e[r]=t[r]},goog.now=goog.TRUSTED_SITE&&Date.now||function(){return+new Date},goog.globalEval=function(e){if(goog.global.execScript)goog.global.execScript(e,"JavaScript");else{if(!goog.global.eval)throw Error("goog.globalEval not available");if(null==goog.evalWorksForGlobals_){try{goog.global.eval("var _evalTest_ = 1;")}catch(e){}if(void 0!==goog.global._evalTest_){try{delete goog.global._evalTest_}catch(e){}goog.evalWorksForGlobals_=!0}else goog.evalWorksForGlobals_=!1}if(goog.evalWorksForGlobals_)goog.global.eval(e);else{var t=goog.global.document,r=t.createElement("SCRIPT");r.type="text/javascript",r.defer=!1,r.appendChild(t.createTextNode(e)),t.head.appendChild(r),t.head.removeChild(r)}}},goog.evalWorksForGlobals_=null,goog.getCssName=function(e,t){if("."==String(e).charAt(0))throw Error('className passed in goog.getCssName must not start with ".". You passed: '+e);var r=function(e){return goog.cssNameMapping_[e]||e},o=function(e){e=e.split("-");for(var t=[],o=0;o<e.length;o++)t.push(r(e[o]));return t.join("-")};return o=goog.cssNameMapping_?"BY_WHOLE"==goog.cssNameMappingStyle_?r:o:function(e){return e},e=t?e+"-"+o(t):o(e),goog.global.CLOSURE_CSS_NAME_MAP_FN?goog.global.CLOSURE_CSS_NAME_MAP_FN(e):e},goog.setCssNameMapping=function(e,t){goog.cssNameMapping_=e,goog.cssNameMappingStyle_=t},goog.getMsg=function(e,t,r){return r&&r.html&&(e=e.replace(/</g,"&lt;")),t&&(e=e.replace(/\{\$([^}]+)}/g,(function(e,r){return null!=t&&r in t?t[r]:e}))),e},goog.getMsgWithFallback=function(e,t){return e},goog.exportSymbol=function(e,t,r){goog.exportPath_(e,t,r)},goog.exportProperty=function(e,t,r){e[t]=r},goog.inherits=function(e,t){function r(){}r.prototype=t.prototype,e.superClass_=t.prototype,e.prototype=new r,e.prototype.constructor=e,e.base=function(e,r,o){for(var n=Array(arguments.length-2),i=2;i<arguments.length;i++)n[i-2]=arguments[i];return t.prototype[r].apply(e,n)}},goog.base=function(e,t,r){var o=arguments.callee.caller;if(goog.STRICT_MODE_COMPATIBLE||goog.DEBUG&&!o)throw Error("arguments.caller not defined.  goog.base() cannot be used with strict mode code. See http://www.ecma-international.org/ecma-262/5.1/#sec-C");if(void 0!==o.superClass_){for(var n=Array(arguments.length-1),i=1;i<arguments.length;i++)n[i-1]=arguments[i];return o.superClass_.constructor.apply(e,n)}if("string"!=typeof t&&"symbol"!=typeof t)throw Error("method names provided to goog.base must be a string or a symbol");for(n=Array(arguments.length-2),i=2;i<arguments.length;i++)n[i-2]=arguments[i];i=!1;for(var s=e.constructor.prototype;s;s=Object.getPrototypeOf(s))if(s[t]===o)i=!0;else if(i)return s[t].apply(e,n);if(e[t]===o)return e.constructor.prototype[t].apply(e,n);throw Error("goog.base called from a method of one name to a method of a different name")},goog.scope=function(e){if(goog.isInModuleLoader_())throw Error("goog.scope is not supported within a module.");e.call(goog.global)},goog.defineClass=function(e,t){var r=t.constructor,o=t.statics;return r&&r!=Object.prototype.constructor||(r=function(){throw Error("cannot instantiate an interface (no constructor defined).")}),r=goog.defineClass.createSealingConstructor_(r,e),e&&goog.inherits(r,e),delete t.constructor,delete t.statics,goog.defineClass.applyProperties_(r.prototype,t),null!=o&&(o instanceof Function?o(r):goog.defineClass.applyProperties_(r,o)),r},goog.defineClass.SEAL_CLASS_INSTANCES=goog.DEBUG,goog.defineClass.createSealingConstructor_=function(e,t){if(!goog.defineClass.SEAL_CLASS_INSTANCES)return e;var r=!goog.defineClass.isUnsealable_(t),o=function(){var t=e.apply(this,arguments)||this;return t[goog.UID_PROPERTY_]=t[goog.UID_PROPERTY_],this.constructor===o&&r&&Object.seal instanceof Function&&Object.seal(t),t};return o},goog.defineClass.isUnsealable_=function(e){return e&&e.prototype&&e.prototype[goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_]},goog.defineClass.OBJECT_PROTOTYPE_FIELDS_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),goog.defineClass.applyProperties_=function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);for(var o=0;o<goog.defineClass.OBJECT_PROTOTYPE_FIELDS_.length;o++)r=goog.defineClass.OBJECT_PROTOTYPE_FIELDS_[o],Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},goog.tagUnsealableClass=function(e){},goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_="goog_defineClass_legacy_unsealable",goog.TRUSTED_TYPES_POLICY_NAME="",goog.identity_=function(e){return e},goog.createTrustedTypesPolicy=function(e){var t=null;if("undefined"==typeof TrustedTypes||!TrustedTypes.createPolicy)return t;try{t=TrustedTypes.createPolicy(e,{createHTML:goog.identity_,createScript:goog.identity_,createScriptURL:goog.identity_,createURL:goog.identity_})}catch(e){goog.logToConsole_(e.message)}return t},goog.TRUSTED_TYPES_POLICY_=goog.TRUSTED_TYPES_POLICY_NAME?goog.createTrustedTypesPolicy(goog.TRUSTED_TYPES_POLICY_NAME+"#base"):null,goog.object={},goog.object.is=function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t},goog.object.forEach=function(e,t,r){for(var o in e)t.call(r,e[o],o,e)},goog.object.filter=function(e,t,r){var o,n={};for(o in e)t.call(r,e[o],o,e)&&(n[o]=e[o]);return n},goog.object.map=function(e,t,r){var o,n={};for(o in e)n[o]=t.call(r,e[o],o,e);return n},goog.object.some=function(e,t,r){for(var o in e)if(t.call(r,e[o],o,e))return!0;return!1},goog.object.every=function(e,t,r){for(var o in e)if(!t.call(r,e[o],o,e))return!1;return!0},goog.object.getCount=function(e){var t,r=0;for(t in e)r++;return r},goog.object.getAnyKey=function(e){for(var t in e)return t},goog.object.getAnyValue=function(e){for(var t in e)return e[t]},goog.object.contains=function(e,t){return goog.object.containsValue(e,t)},goog.object.getValues=function(e){var t,r=[],o=0;for(t in e)r[o++]=e[t];return r},goog.object.getKeys=function(e){var t,r=[],o=0;for(t in e)r[o++]=t;return r},goog.object.getValueByKeys=function(e,t){var r=goog.isArrayLike(t),o=r?t:arguments;for(r=r?0:1;r<o.length;r++){if(null==e)return;e=e[o[r]]}return e},goog.object.containsKey=function(e,t){return null!==e&&t in e},goog.object.containsValue=function(e,t){for(var r in e)if(e[r]==t)return!0;return!1},goog.object.findKey=function(e,t,r){for(var o in e)if(t.call(r,e[o],o,e))return o},goog.object.findValue=function(e,t,r){return(t=goog.object.findKey(e,t,r))&&e[t]},goog.object.isEmpty=function(e){for(var t in e)return!1;return!0},goog.object.clear=function(e){for(var t in e)delete e[t]},goog.object.remove=function(e,t){var r;return(r=t in e)&&delete e[t],r},goog.object.add=function(e,t,r){if(null!==e&&t in e)throw Error('The object already contains the key "'+t+'"');goog.object.set(e,t,r)},goog.object.get=function(e,t,r){return null!==e&&t in e?e[t]:r},goog.object.set=function(e,t,r){e[t]=r},goog.object.setIfUndefined=function(e,t,r){return t in e?e[t]:e[t]=r},goog.object.setWithReturnValueIfNotSet=function(e,t,r){return t in e?e[t]:(r=r(),e[t]=r)},goog.object.equals=function(e,t){for(var r in e)if(!(r in t)||e[r]!==t[r])return!1;for(var o in t)if(!(o in e))return!1;return!0},goog.object.clone=function(e){var t,r={};for(t in e)r[t]=e[t];return r},goog.object.unsafeClone=function(e){var t=goog.typeOf(e);if("object"==t||"array"==t){if(goog.isFunction(e.clone))return e.clone();for(var r in t="array"==t?[]:{},e)t[r]=goog.object.unsafeClone(e[r]);return t}return e},goog.object.transpose=function(e){var t,r={};for(t in e)r[e[t]]=t;return r},goog.object.PROTOTYPE_FIELDS_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),goog.object.extend=function(e,t){for(var r,o,n=1;n<arguments.length;n++){for(r in o=arguments[n])e[r]=o[r];for(var i=0;i<goog.object.PROTOTYPE_FIELDS_.length;i++)r=goog.object.PROTOTYPE_FIELDS_[i],Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r])}},goog.object.create=function(e){var t=arguments.length;if(1==t&&goog.isArray(arguments[0]))return goog.object.create.apply(null,arguments[0]);if(t%2)throw Error("Uneven number of arguments");for(var r={},o=0;o<t;o+=2)r[arguments[o]]=arguments[o+1];return r},goog.object.createSet=function(e){var t=arguments.length;if(1==t&&goog.isArray(arguments[0]))return goog.object.createSet.apply(null,arguments[0]);for(var r={},o=0;o<t;o++)r[arguments[o]]=!0;return r},goog.object.createImmutableView=function(e){var t=e;return Object.isFrozen&&!Object.isFrozen(e)&&(t=Object.create(e),Object.freeze(t)),t},goog.object.isImmutableView=function(e){return!!Object.isFrozen&&Object.isFrozen(e)},goog.object.getAllPropertyNames=function(e,t,r){if(!e)return[];if(!Object.getOwnPropertyNames||!Object.getPrototypeOf)return goog.object.getKeys(e);for(var o={};e&&(e!==Object.prototype||t)&&(e!==Function.prototype||r);){for(var n=Object.getOwnPropertyNames(e),i=0;i<n.length;i++)o[n[i]]=!0;e=Object.getPrototypeOf(e)}return goog.object.getKeys(o)},goog.object.getSuperClass=function(e){return(e=Object.getPrototypeOf(e.prototype))&&e.constructor},goog.debug={},goog.debug.Error=function(e){if(Error.captureStackTrace)Error.captureStackTrace(this,goog.debug.Error);else{var t=Error().stack;t&&(this.stack=t)}e&&(this.message=String(e)),this.reportErrorToServer=!0},goog.inherits(goog.debug.Error,Error),goog.debug.Error.prototype.name="CustomError",goog.dom={},goog.dom.NodeType={ELEMENT:1,ATTRIBUTE:2,TEXT:3,CDATA_SECTION:4,ENTITY_REFERENCE:5,ENTITY:6,PROCESSING_INSTRUCTION:7,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11,NOTATION:12},goog.asserts={},goog.asserts.ENABLE_ASSERTS=goog.DEBUG,goog.asserts.AssertionError=function(e,t){goog.debug.Error.call(this,goog.asserts.subs_(e,t)),this.messagePattern=e},goog.inherits(goog.asserts.AssertionError,goog.debug.Error),goog.asserts.AssertionError.prototype.name="AssertionError",goog.asserts.DEFAULT_ERROR_HANDLER=function(e){throw e},goog.asserts.errorHandler_=goog.asserts.DEFAULT_ERROR_HANDLER,goog.asserts.subs_=function(e,t){for(var r="",o=(e=e.split("%s")).length-1,n=0;n<o;n++)r+=e[n]+(n<t.length?t[n]:"%s");return r+e[o]},goog.asserts.doAssertFailure_=function(e,t,r,o){var n="Assertion failed";if(r){n+=": "+r;var i=o}else e&&(n+=": "+e,i=t);e=new goog.asserts.AssertionError(""+n,i||[]),goog.asserts.errorHandler_(e)},goog.asserts.setErrorHandler=function(e){goog.asserts.ENABLE_ASSERTS&&(goog.asserts.errorHandler_=e)},goog.asserts.assert=function(e,t,r){return goog.asserts.ENABLE_ASSERTS&&!e&&goog.asserts.doAssertFailure_("",null,t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertExists=function(e,t,r){return goog.asserts.ENABLE_ASSERTS&&null==e&&goog.asserts.doAssertFailure_("Expected to exist: %s.",[e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.fail=function(e,t){goog.asserts.ENABLE_ASSERTS&&goog.asserts.errorHandler_(new goog.asserts.AssertionError("Failure"+(e?": "+e:""),Array.prototype.slice.call(arguments,1)))},goog.asserts.assertNumber=function(e,t,r){return goog.asserts.ENABLE_ASSERTS&&!goog.isNumber(e)&&goog.asserts.doAssertFailure_("Expected number but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertString=function(e,t,r){return goog.asserts.ENABLE_ASSERTS&&!goog.isString(e)&&goog.asserts.doAssertFailure_("Expected string but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertFunction=function(e,t,r){return goog.asserts.ENABLE_ASSERTS&&!goog.isFunction(e)&&goog.asserts.doAssertFailure_("Expected function but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertObject=function(e,t,r){return goog.asserts.ENABLE_ASSERTS&&!goog.isObject(e)&&goog.asserts.doAssertFailure_("Expected object but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertArray=function(e,t,r){return goog.asserts.ENABLE_ASSERTS&&!goog.isArray(e)&&goog.asserts.doAssertFailure_("Expected array but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertBoolean=function(e,t,r){return goog.asserts.ENABLE_ASSERTS&&!goog.isBoolean(e)&&goog.asserts.doAssertFailure_("Expected boolean but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertElement=function(e,t,r){return!goog.asserts.ENABLE_ASSERTS||goog.isObject(e)&&e.nodeType==goog.dom.NodeType.ELEMENT||goog.asserts.doAssertFailure_("Expected Element but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertInstanceof=function(e,t,r,o){return!goog.asserts.ENABLE_ASSERTS||e instanceof t||goog.asserts.doAssertFailure_("Expected instanceof %s but got %s.",[goog.asserts.getType_(t),goog.asserts.getType_(e)],r,Array.prototype.slice.call(arguments,3)),e},goog.asserts.assertFinite=function(e,t,r){return!goog.asserts.ENABLE_ASSERTS||"number"==typeof e&&isFinite(e)||goog.asserts.doAssertFailure_("Expected %s to be a finite number but it is not.",[e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertObjectPrototypeIsIntact=function(){for(var e in Object.prototype)goog.asserts.fail(e+" should not be enumerable in Object.prototype.")},goog.asserts.getType_=function(e){return e instanceof Function?e.displayName||e.name||"unknown type name":e instanceof Object?e.constructor.displayName||e.constructor.name||Object.prototype.toString.call(e):null===e?"null":typeof e};var jspb={BinaryConstants:{},ConstBinaryMessage:function(){},BinaryMessage:function(){}};jspb.BinaryConstants.FieldType={INVALID:-1,DOUBLE:1,FLOAT:2,INT64:3,UINT64:4,INT32:5,FIXED64:6,FIXED32:7,BOOL:8,STRING:9,GROUP:10,MESSAGE:11,BYTES:12,UINT32:13,ENUM:14,SFIXED32:15,SFIXED64:16,SINT32:17,SINT64:18,FHASH64:30,VHASH64:31},jspb.BinaryConstants.WireType={INVALID:-1,VARINT:0,FIXED64:1,DELIMITED:2,START_GROUP:3,END_GROUP:4,FIXED32:5},jspb.BinaryConstants.FieldTypeToWireType=function(e){var t=jspb.BinaryConstants.FieldType,r=jspb.BinaryConstants.WireType;switch(e){case t.INT32:case t.INT64:case t.UINT32:case t.UINT64:case t.SINT32:case t.SINT64:case t.BOOL:case t.ENUM:case t.VHASH64:return r.VARINT;case t.DOUBLE:case t.FIXED64:case t.SFIXED64:case t.FHASH64:return r.FIXED64;case t.STRING:case t.MESSAGE:case t.BYTES:return r.DELIMITED;case t.FLOAT:case t.FIXED32:case t.SFIXED32:return r.FIXED32;default:return r.INVALID}},jspb.BinaryConstants.INVALID_FIELD_NUMBER=-1,jspb.BinaryConstants.FLOAT32_EPS=1401298464324817e-60,jspb.BinaryConstants.FLOAT32_MIN=11754943508222875e-54,jspb.BinaryConstants.FLOAT32_MAX=34028234663852886e22,jspb.BinaryConstants.FLOAT64_EPS=5e-324,jspb.BinaryConstants.FLOAT64_MIN=22250738585072014e-324,jspb.BinaryConstants.FLOAT64_MAX=17976931348623157e292,jspb.BinaryConstants.TWO_TO_20=1048576,jspb.BinaryConstants.TWO_TO_23=8388608,jspb.BinaryConstants.TWO_TO_31=2147483648,jspb.BinaryConstants.TWO_TO_32=4294967296,jspb.BinaryConstants.TWO_TO_52=4503599627370496,jspb.BinaryConstants.TWO_TO_63=0x8000000000000000,jspb.BinaryConstants.TWO_TO_64=0x10000000000000000,jspb.BinaryConstants.ZERO_HASH="\0\0\0\0\0\0\0\0",goog.array={},goog.NATIVE_ARRAY_PROTOTYPES=goog.TRUSTED_SITE,goog.array.ASSUME_NATIVE_FUNCTIONS=2012<goog.FEATURESET_YEAR,goog.array.peek=function(e){return e[e.length-1]},goog.array.last=goog.array.peek,goog.array.indexOf=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.indexOf)?function(e,t,r){return goog.asserts.assert(null!=e.length),Array.prototype.indexOf.call(e,t,r)}:function(e,t,r){if(r=null==r?0:0>r?Math.max(0,e.length+r):r,goog.isString(e))return goog.isString(t)&&1==t.length?e.indexOf(t,r):-1;for(;r<e.length;r++)if(r in e&&e[r]===t)return r;return-1},goog.array.lastIndexOf=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.lastIndexOf)?function(e,t,r){return goog.asserts.assert(null!=e.length),Array.prototype.lastIndexOf.call(e,t,null==r?e.length-1:r)}:function(e,t,r){if(0>(r=null==r?e.length-1:r)&&(r=Math.max(0,e.length+r)),goog.isString(e))return goog.isString(t)&&1==t.length?e.lastIndexOf(t,r):-1;for(;0<=r;r--)if(r in e&&e[r]===t)return r;return-1},goog.array.forEach=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.forEach)?function(e,t,r){goog.asserts.assert(null!=e.length),Array.prototype.forEach.call(e,t,r)}:function(e,t,r){for(var o=e.length,n=goog.isString(e)?e.split(""):e,i=0;i<o;i++)i in n&&t.call(r,n[i],i,e)},goog.array.forEachRight=function(e,t,r){var o=e.length,n=goog.isString(e)?e.split(""):e;for(--o;0<=o;--o)o in n&&t.call(r,n[o],o,e)},goog.array.filter=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.filter)?function(e,t,r){return goog.asserts.assert(null!=e.length),Array.prototype.filter.call(e,t,r)}:function(e,t,r){for(var o=e.length,n=[],i=0,s=goog.isString(e)?e.split(""):e,a=0;a<o;a++)if(a in s){var u=s[a];t.call(r,u,a,e)&&(n[i++]=u)}return n},goog.array.map=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.map)?function(e,t,r){return goog.asserts.assert(null!=e.length),Array.prototype.map.call(e,t,r)}:function(e,t,r){for(var o=e.length,n=Array(o),i=goog.isString(e)?e.split(""):e,s=0;s<o;s++)s in i&&(n[s]=t.call(r,i[s],s,e));return n},goog.array.reduce=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.reduce)?function(e,t,r,o){return goog.asserts.assert(null!=e.length),o&&(t=goog.bind(t,o)),Array.prototype.reduce.call(e,t,r)}:function(e,t,r,o){var n=r;return goog.array.forEach(e,(function(r,i){n=t.call(o,n,r,i,e)})),n},goog.array.reduceRight=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.reduceRight)?function(e,t,r,o){return goog.asserts.assert(null!=e.length),goog.asserts.assert(null!=t),o&&(t=goog.bind(t,o)),Array.prototype.reduceRight.call(e,t,r)}:function(e,t,r,o){var n=r;return goog.array.forEachRight(e,(function(r,i){n=t.call(o,n,r,i,e)})),n},goog.array.some=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.some)?function(e,t,r){return goog.asserts.assert(null!=e.length),Array.prototype.some.call(e,t,r)}:function(e,t,r){for(var o=e.length,n=goog.isString(e)?e.split(""):e,i=0;i<o;i++)if(i in n&&t.call(r,n[i],i,e))return!0;return!1},goog.array.every=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.every)?function(e,t,r){return goog.asserts.assert(null!=e.length),Array.prototype.every.call(e,t,r)}:function(e,t,r){for(var o=e.length,n=goog.isString(e)?e.split(""):e,i=0;i<o;i++)if(i in n&&!t.call(r,n[i],i,e))return!1;return!0},goog.array.count=function(e,t,r){var o=0;return goog.array.forEach(e,(function(e,n,i){t.call(r,e,n,i)&&++o}),r),o},goog.array.find=function(e,t,r){return 0>(t=goog.array.findIndex(e,t,r))?null:goog.isString(e)?e.charAt(t):e[t]},goog.array.findIndex=function(e,t,r){for(var o=e.length,n=goog.isString(e)?e.split(""):e,i=0;i<o;i++)if(i in n&&t.call(r,n[i],i,e))return i;return-1},goog.array.findRight=function(e,t,r){return 0>(t=goog.array.findIndexRight(e,t,r))?null:goog.isString(e)?e.charAt(t):e[t]},goog.array.findIndexRight=function(e,t,r){var o=e.length,n=goog.isString(e)?e.split(""):e;for(--o;0<=o;o--)if(o in n&&t.call(r,n[o],o,e))return o;return-1},goog.array.contains=function(e,t){return 0<=goog.array.indexOf(e,t)},goog.array.isEmpty=function(e){return 0==e.length},goog.array.clear=function(e){if(!goog.isArray(e))for(var t=e.length-1;0<=t;t--)delete e[t];e.length=0},goog.array.insert=function(e,t){goog.array.contains(e,t)||e.push(t)},goog.array.insertAt=function(e,t,r){goog.array.splice(e,r,0,t)},goog.array.insertArrayAt=function(e,t,r){goog.partial(goog.array.splice,e,r,0).apply(null,t)},goog.array.insertBefore=function(e,t,r){var o;2==arguments.length||0>(o=goog.array.indexOf(e,r))?e.push(t):goog.array.insertAt(e,t,o)},goog.array.remove=function(e,t){var r;return(r=0<=(t=goog.array.indexOf(e,t)))&&goog.array.removeAt(e,t),r},goog.array.removeLast=function(e,t){return 0<=(t=goog.array.lastIndexOf(e,t))&&(goog.array.removeAt(e,t),!0)},goog.array.removeAt=function(e,t){return goog.asserts.assert(null!=e.length),1==Array.prototype.splice.call(e,t,1).length},goog.array.removeIf=function(e,t,r){return 0<=(t=goog.array.findIndex(e,t,r))&&(goog.array.removeAt(e,t),!0)},goog.array.removeAllIf=function(e,t,r){var o=0;return goog.array.forEachRight(e,(function(n,i){t.call(r,n,i,e)&&goog.array.removeAt(e,i)&&o++})),o},goog.array.concat=function(e){return Array.prototype.concat.apply([],arguments)},goog.array.join=function(e){return Array.prototype.concat.apply([],arguments)},goog.array.toArray=function(e){var t=e.length;if(0<t){for(var r=Array(t),o=0;o<t;o++)r[o]=e[o];return r}return[]},goog.array.clone=goog.array.toArray,goog.array.extend=function(e,t){for(var r=1;r<arguments.length;r++){var o=arguments[r];if(goog.isArrayLike(o)){var n=e.length||0,i=o.length||0;e.length=n+i;for(var s=0;s<i;s++)e[n+s]=o[s]}else e.push(o)}},goog.array.splice=function(e,t,r,o){return goog.asserts.assert(null!=e.length),Array.prototype.splice.apply(e,goog.array.slice(arguments,1))},goog.array.slice=function(e,t,r){return goog.asserts.assert(null!=e.length),2>=arguments.length?Array.prototype.slice.call(e,t):Array.prototype.slice.call(e,t,r)},goog.array.removeDuplicates=function(e,t,r){t=t||e;var o=function(e){return goog.isObject(e)?"o"+goog.getUid(e):(typeof e).charAt(0)+e};r=r||o,o={};for(var n=0,i=0;i<e.length;){var s=e[i++],a=r(s);Object.prototype.hasOwnProperty.call(o,a)||(o[a]=!0,t[n++]=s)}t.length=n},goog.array.binarySearch=function(e,t,r){return goog.array.binarySearch_(e,r||goog.array.defaultCompare,!1,t)},goog.array.binarySelect=function(e,t,r){return goog.array.binarySearch_(e,t,!0,void 0,r)},goog.array.binarySearch_=function(e,t,r,o,n){for(var i,s=0,a=e.length;s<a;){var u=s+a>>1,l=r?t.call(n,e[u],u,e):t(o,e[u]);0<l?s=u+1:(a=u,i=!l)}return i?s:~s},goog.array.sort=function(e,t){e.sort(t||goog.array.defaultCompare)},goog.array.stableSort=function(e,t){for(var r=Array(e.length),o=0;o<e.length;o++)r[o]={index:o,value:e[o]};var n=t||goog.array.defaultCompare;for(goog.array.sort(r,(function(e,t){return n(e.value,t.value)||e.index-t.index})),o=0;o<e.length;o++)e[o]=r[o].value},goog.array.sortByKey=function(e,t,r){var o=r||goog.array.defaultCompare;goog.array.sort(e,(function(e,r){return o(t(e),t(r))}))},goog.array.sortObjectsByKey=function(e,t,r){goog.array.sortByKey(e,(function(e){return e[t]}),r)},goog.array.isSorted=function(e,t,r){t=t||goog.array.defaultCompare;for(var o=1;o<e.length;o++){var n=t(e[o-1],e[o]);if(0<n||0==n&&r)return!1}return!0},goog.array.equals=function(e,t,r){if(!goog.isArrayLike(e)||!goog.isArrayLike(t)||e.length!=t.length)return!1;var o=e.length;r=r||goog.array.defaultCompareEquality;for(var n=0;n<o;n++)if(!r(e[n],t[n]))return!1;return!0},goog.array.compare3=function(e,t,r){r=r||goog.array.defaultCompare;for(var o=Math.min(e.length,t.length),n=0;n<o;n++){var i=r(e[n],t[n]);if(0!=i)return i}return goog.array.defaultCompare(e.length,t.length)},goog.array.defaultCompare=function(e,t){return e>t?1:e<t?-1:0},goog.array.inverseDefaultCompare=function(e,t){return-goog.array.defaultCompare(e,t)},goog.array.defaultCompareEquality=function(e,t){return e===t},goog.array.binaryInsert=function(e,t,r){return 0>(r=goog.array.binarySearch(e,t,r))&&(goog.array.insertAt(e,t,-(r+1)),!0)},goog.array.binaryRemove=function(e,t,r){return 0<=(t=goog.array.binarySearch(e,t,r))&&goog.array.removeAt(e,t)},goog.array.bucket=function(e,t,r){for(var o={},n=0;n<e.length;n++){var i=e[n],s=t.call(r,i,n,e);goog.isDef(s)&&(o[s]||(o[s]=[])).push(i)}return o},goog.array.toObject=function(e,t,r){var o={};return goog.array.forEach(e,(function(n,i){o[t.call(r,n,i,e)]=n})),o},goog.array.range=function(e,t,r){var o=[],n=0,i=e;if(void 0!==t&&(n=e,i=t),0>(r=r||1)*(i-n))return[];if(0<r)for(e=n;e<i;e+=r)o.push(e);else for(e=n;e>i;e+=r)o.push(e);return o},goog.array.repeat=function(e,t){for(var r=[],o=0;o<t;o++)r[o]=e;return r},goog.array.flatten=function(e){for(var t=[],r=0;r<arguments.length;r++){var o=arguments[r];if(goog.isArray(o))for(var n=0;n<o.length;n+=8192){var i=goog.array.slice(o,n,n+8192);i=goog.array.flatten.apply(null,i);for(var s=0;s<i.length;s++)t.push(i[s])}else t.push(o)}return t},goog.array.rotate=function(e,t){return goog.asserts.assert(null!=e.length),e.length&&(0<(t%=e.length)?Array.prototype.unshift.apply(e,e.splice(-t,t)):0>t&&Array.prototype.push.apply(e,e.splice(0,-t))),e},goog.array.moveItem=function(e,t,r){goog.asserts.assert(0<=t&&t<e.length),goog.asserts.assert(0<=r&&r<e.length),t=Array.prototype.splice.call(e,t,1),Array.prototype.splice.call(e,r,0,t[0])},goog.array.zip=function(e){if(!arguments.length)return[];for(var t=[],r=arguments[0].length,o=1;o<arguments.length;o++)arguments[o].length<r&&(r=arguments[o].length);for(o=0;o<r;o++){for(var n=[],i=0;i<arguments.length;i++)n.push(arguments[i][o]);t.push(n)}return t},goog.array.shuffle=function(e,t){t=t||Math.random;for(var r=e.length-1;0<r;r--){var o=Math.floor(t()*(r+1)),n=e[r];e[r]=e[o],e[o]=n}},goog.array.copyByIndex=function(e,t){var r=[];return goog.array.forEach(t,(function(t){r.push(e[t])})),r},goog.array.concatMap=function(e,t,r){return goog.array.concat.apply([],goog.array.map(e,t,r))},goog.crypt={},goog.crypt.stringToByteArray=function(e){for(var t=[],r=0,o=0;o<e.length;o++){var n=e.charCodeAt(o);255<n&&(t[r++]=255&n,n>>=8),t[r++]=n}return t},goog.crypt.byteArrayToString=function(e){if(8192>=e.length)return String.fromCharCode.apply(null,e);for(var t="",r=0;r<e.length;r+=8192){var o=goog.array.slice(e,r,r+8192);t+=String.fromCharCode.apply(null,o)}return t},goog.crypt.byteArrayToHex=function(e,t){return goog.array.map(e,(function(e){return 1<(e=e.toString(16)).length?e:"0"+e})).join(t||"")},goog.crypt.hexToByteArray=function(e){goog.asserts.assert(0==e.length%2,"Key string length must be multiple of 2");for(var t=[],r=0;r<e.length;r+=2)t.push(parseInt(e.substring(r,r+2),16));return t},goog.crypt.stringToUtf8ByteArray=function(e){for(var t=[],r=0,o=0;o<e.length;o++){var n=e.charCodeAt(o);128>n?t[r++]=n:(2048>n?t[r++]=n>>6|192:(55296==(64512&n)&&o+1<e.length&&56320==(64512&e.charCodeAt(o+1))?(n=65536+((1023&n)<<10)+(1023&e.charCodeAt(++o)),t[r++]=n>>18|240,t[r++]=n>>12&63|128):t[r++]=n>>12|224,t[r++]=n>>6&63|128),t[r++]=63&n|128)}return t},goog.crypt.utf8ByteArrayToString=function(e){for(var t=[],r=0,o=0;r<e.length;){var n=e[r++];if(128>n)t[o++]=String.fromCharCode(n);else if(191<n&&224>n){var i=e[r++];t[o++]=String.fromCharCode((31&n)<<6|63&i)}else if(239<n&&365>n){i=e[r++];var s=e[r++];n=((7&n)<<18|(63&i)<<12|(63&s)<<6|63&e[r++])-65536,t[o++]=String.fromCharCode(55296+(n>>10)),t[o++]=String.fromCharCode(56320+(1023&n))}else i=e[r++],s=e[r++],t[o++]=String.fromCharCode((15&n)<<12|(63&i)<<6|63&s)}return t.join("")},goog.crypt.xorByteArray=function(e,t){goog.asserts.assert(e.length==t.length,"XOR array lengths must match");for(var r=[],o=0;o<e.length;o++)r.push(e[o]^t[o]);return r},goog.dom.asserts={},goog.dom.asserts.assertIsLocation=function(e){if(goog.asserts.ENABLE_ASSERTS){var t=goog.dom.asserts.getWindow_(e);t&&(!e||!(e instanceof t.Location)&&e instanceof t.Element)&&goog.asserts.fail("Argument is not a Location (or a non-Element mock); got: %s",goog.dom.asserts.debugStringForType_(e))}return e},goog.dom.asserts.assertIsElementType_=function(e,t){if(goog.asserts.ENABLE_ASSERTS){var r=goog.dom.asserts.getWindow_(e);r&&void 0!==r[t]&&(e&&(e instanceof r[t]||!(e instanceof r.Location||e instanceof r.Element))||goog.asserts.fail("Argument is not a %s (or a non-Element, non-Location mock); got: %s",t,goog.dom.asserts.debugStringForType_(e)))}return e},goog.dom.asserts.assertIsHTMLAnchorElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLAnchorElement")},goog.dom.asserts.assertIsHTMLButtonElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLButtonElement")},goog.dom.asserts.assertIsHTMLLinkElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLLinkElement")},goog.dom.asserts.assertIsHTMLImageElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLImageElement")},goog.dom.asserts.assertIsHTMLAudioElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLAudioElement")},goog.dom.asserts.assertIsHTMLVideoElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLVideoElement")},goog.dom.asserts.assertIsHTMLInputElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLInputElement")},goog.dom.asserts.assertIsHTMLTextAreaElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLTextAreaElement")},goog.dom.asserts.assertIsHTMLCanvasElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLCanvasElement")},goog.dom.asserts.assertIsHTMLEmbedElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLEmbedElement")},goog.dom.asserts.assertIsHTMLFormElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLFormElement")},goog.dom.asserts.assertIsHTMLFrameElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLFrameElement")},goog.dom.asserts.assertIsHTMLIFrameElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLIFrameElement")},goog.dom.asserts.assertIsHTMLObjectElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLObjectElement")},goog.dom.asserts.assertIsHTMLScriptElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLScriptElement")},goog.dom.asserts.debugStringForType_=function(e){if(!goog.isObject(e))return void 0===e?"undefined":null===e?"null":typeof e;try{return e.constructor.displayName||e.constructor.name||Object.prototype.toString.call(e)}catch(e){return"<object could not be stringified>"}},goog.dom.asserts.getWindow_=function(e){try{var t=e&&e.ownerDocument,r=t&&(t.defaultView||t.parentWindow);if((r=r||goog.global).Element&&r.Location)return r}catch(e){}return null},goog.functions={},goog.functions.constant=function(e){return function(){return e}},goog.functions.FALSE=function(){return!1},goog.functions.TRUE=function(){return!0},goog.functions.NULL=function(){return null},goog.functions.identity=function(e,t){return e},goog.functions.error=function(e){return function(){throw Error(e)}},goog.functions.fail=function(e){return function(){throw e}},goog.functions.lock=function(e,t){return t=t||0,function(){return e.apply(this,Array.prototype.slice.call(arguments,0,t))}},goog.functions.nth=function(e){return function(){return arguments[e]}},goog.functions.partialRight=function(e,t){var r=Array.prototype.slice.call(arguments,1);return function(){var t=Array.prototype.slice.call(arguments);return t.push.apply(t,r),e.apply(this,t)}},goog.functions.withReturnValue=function(e,t){return goog.functions.sequence(e,goog.functions.constant(t))},goog.functions.equalTo=function(e,t){return function(r){return t?e==r:e===r}},goog.functions.compose=function(e,t){var r=arguments,o=r.length;return function(){var e;o&&(e=r[o-1].apply(this,arguments));for(var t=o-2;0<=t;t--)e=r[t].call(this,e);return e}},goog.functions.sequence=function(e){var t=arguments,r=t.length;return function(){for(var e,o=0;o<r;o++)e=t[o].apply(this,arguments);return e}},goog.functions.and=function(e){var t=arguments,r=t.length;return function(){for(var e=0;e<r;e++)if(!t[e].apply(this,arguments))return!1;return!0}},goog.functions.or=function(e){var t=arguments,r=t.length;return function(){for(var e=0;e<r;e++)if(t[e].apply(this,arguments))return!0;return!1}},goog.functions.not=function(e){return function(){return!e.apply(this,arguments)}},goog.functions.create=function(e,t){var r=function(){};return r.prototype=e.prototype,r=new r,e.apply(r,Array.prototype.slice.call(arguments,1)),r},goog.functions.CACHE_RETURN_VALUE=!0,goog.functions.cacheReturnValue=function(e){var t,r=!1;return function(){return goog.functions.CACHE_RETURN_VALUE?(r||(t=e(),r=!0),t):e()}},goog.functions.once=function(e){var t=e;return function(){if(t){var e=t;t=null,e()}}},goog.functions.debounce=function(e,t,r){var o=0;return function(n){goog.global.clearTimeout(o);var i=arguments;o=goog.global.setTimeout((function(){e.apply(r,i)}),t)}},goog.functions.throttle=function(e,t,r){var o=0,n=!1,i=[],s=function(){o=0,n&&(n=!1,a())},a=function(){o=goog.global.setTimeout(s,t),e.apply(r,i)};return function(e){i=arguments,o?n=!0:a()}},goog.functions.rateLimit=function(e,t,r){var o=0,n=function(){o=0};return function(i){o||(o=goog.global.setTimeout(n,t),e.apply(r,arguments))}},goog.dom.HtmlElement=function(){},goog.dom.TagName=function(e){this.tagName_=e},goog.dom.TagName.prototype.toString=function(){return this.tagName_},goog.dom.TagName.A=new goog.dom.TagName("A"),goog.dom.TagName.ABBR=new goog.dom.TagName("ABBR"),goog.dom.TagName.ACRONYM=new goog.dom.TagName("ACRONYM"),goog.dom.TagName.ADDRESS=new goog.dom.TagName("ADDRESS"),goog.dom.TagName.APPLET=new goog.dom.TagName("APPLET"),goog.dom.TagName.AREA=new goog.dom.TagName("AREA"),goog.dom.TagName.ARTICLE=new goog.dom.TagName("ARTICLE"),goog.dom.TagName.ASIDE=new goog.dom.TagName("ASIDE"),goog.dom.TagName.AUDIO=new goog.dom.TagName("AUDIO"),goog.dom.TagName.B=new goog.dom.TagName("B"),goog.dom.TagName.BASE=new goog.dom.TagName("BASE"),goog.dom.TagName.BASEFONT=new goog.dom.TagName("BASEFONT"),goog.dom.TagName.BDI=new goog.dom.TagName("BDI"),goog.dom.TagName.BDO=new goog.dom.TagName("BDO"),goog.dom.TagName.BIG=new goog.dom.TagName("BIG"),goog.dom.TagName.BLOCKQUOTE=new goog.dom.TagName("BLOCKQUOTE"),goog.dom.TagName.BODY=new goog.dom.TagName("BODY"),goog.dom.TagName.BR=new goog.dom.TagName("BR"),goog.dom.TagName.BUTTON=new goog.dom.TagName("BUTTON"),goog.dom.TagName.CANVAS=new goog.dom.TagName("CANVAS"),goog.dom.TagName.CAPTION=new goog.dom.TagName("CAPTION"),goog.dom.TagName.CENTER=new goog.dom.TagName("CENTER"),goog.dom.TagName.CITE=new goog.dom.TagName("CITE"),goog.dom.TagName.CODE=new goog.dom.TagName("CODE"),goog.dom.TagName.COL=new goog.dom.TagName("COL"),goog.dom.TagName.COLGROUP=new goog.dom.TagName("COLGROUP"),goog.dom.TagName.COMMAND=new goog.dom.TagName("COMMAND"),goog.dom.TagName.DATA=new goog.dom.TagName("DATA"),goog.dom.TagName.DATALIST=new goog.dom.TagName("DATALIST"),goog.dom.TagName.DD=new goog.dom.TagName("DD"),goog.dom.TagName.DEL=new goog.dom.TagName("DEL"),goog.dom.TagName.DETAILS=new goog.dom.TagName("DETAILS"),goog.dom.TagName.DFN=new goog.dom.TagName("DFN"),goog.dom.TagName.DIALOG=new goog.dom.TagName("DIALOG"),goog.dom.TagName.DIR=new goog.dom.TagName("DIR"),goog.dom.TagName.DIV=new goog.dom.TagName("DIV"),goog.dom.TagName.DL=new goog.dom.TagName("DL"),goog.dom.TagName.DT=new goog.dom.TagName("DT"),goog.dom.TagName.EM=new goog.dom.TagName("EM"),goog.dom.TagName.EMBED=new goog.dom.TagName("EMBED"),goog.dom.TagName.FIELDSET=new goog.dom.TagName("FIELDSET"),goog.dom.TagName.FIGCAPTION=new goog.dom.TagName("FIGCAPTION"),goog.dom.TagName.FIGURE=new goog.dom.TagName("FIGURE"),goog.dom.TagName.FONT=new goog.dom.TagName("FONT"),goog.dom.TagName.FOOTER=new goog.dom.TagName("FOOTER"),goog.dom.TagName.FORM=new goog.dom.TagName("FORM"),goog.dom.TagName.FRAME=new goog.dom.TagName("FRAME"),goog.dom.TagName.FRAMESET=new goog.dom.TagName("FRAMESET"),goog.dom.TagName.H1=new goog.dom.TagName("H1"),goog.dom.TagName.H2=new goog.dom.TagName("H2"),goog.dom.TagName.H3=new goog.dom.TagName("H3"),goog.dom.TagName.H4=new goog.dom.TagName("H4"),goog.dom.TagName.H5=new goog.dom.TagName("H5"),goog.dom.TagName.H6=new goog.dom.TagName("H6"),goog.dom.TagName.HEAD=new goog.dom.TagName("HEAD"),goog.dom.TagName.HEADER=new goog.dom.TagName("HEADER"),goog.dom.TagName.HGROUP=new goog.dom.TagName("HGROUP"),goog.dom.TagName.HR=new goog.dom.TagName("HR"),goog.dom.TagName.HTML=new goog.dom.TagName("HTML"),goog.dom.TagName.I=new goog.dom.TagName("I"),goog.dom.TagName.IFRAME=new goog.dom.TagName("IFRAME"),goog.dom.TagName.IMG=new goog.dom.TagName("IMG"),goog.dom.TagName.INPUT=new goog.dom.TagName("INPUT"),goog.dom.TagName.INS=new goog.dom.TagName("INS"),goog.dom.TagName.ISINDEX=new goog.dom.TagName("ISINDEX"),goog.dom.TagName.KBD=new goog.dom.TagName("KBD"),goog.dom.TagName.KEYGEN=new goog.dom.TagName("KEYGEN"),goog.dom.TagName.LABEL=new goog.dom.TagName("LABEL"),goog.dom.TagName.LEGEND=new goog.dom.TagName("LEGEND"),goog.dom.TagName.LI=new goog.dom.TagName("LI"),goog.dom.TagName.LINK=new goog.dom.TagName("LINK"),goog.dom.TagName.MAIN=new goog.dom.TagName("MAIN"),goog.dom.TagName.MAP=new goog.dom.TagName("MAP"),goog.dom.TagName.MARK=new goog.dom.TagName("MARK"),goog.dom.TagName.MATH=new goog.dom.TagName("MATH"),goog.dom.TagName.MENU=new goog.dom.TagName("MENU"),goog.dom.TagName.MENUITEM=new goog.dom.TagName("MENUITEM"),goog.dom.TagName.META=new goog.dom.TagName("META"),goog.dom.TagName.METER=new goog.dom.TagName("METER"),goog.dom.TagName.NAV=new goog.dom.TagName("NAV"),goog.dom.TagName.NOFRAMES=new goog.dom.TagName("NOFRAMES"),goog.dom.TagName.NOSCRIPT=new goog.dom.TagName("NOSCRIPT"),goog.dom.TagName.OBJECT=new goog.dom.TagName("OBJECT"),goog.dom.TagName.OL=new goog.dom.TagName("OL"),goog.dom.TagName.OPTGROUP=new goog.dom.TagName("OPTGROUP"),goog.dom.TagName.OPTION=new goog.dom.TagName("OPTION"),goog.dom.TagName.OUTPUT=new goog.dom.TagName("OUTPUT"),goog.dom.TagName.P=new goog.dom.TagName("P"),goog.dom.TagName.PARAM=new goog.dom.TagName("PARAM"),goog.dom.TagName.PICTURE=new goog.dom.TagName("PICTURE"),goog.dom.TagName.PRE=new goog.dom.TagName("PRE"),goog.dom.TagName.PROGRESS=new goog.dom.TagName("PROGRESS"),goog.dom.TagName.Q=new goog.dom.TagName("Q"),goog.dom.TagName.RP=new goog.dom.TagName("RP"),goog.dom.TagName.RT=new goog.dom.TagName("RT"),goog.dom.TagName.RTC=new goog.dom.TagName("RTC"),goog.dom.TagName.RUBY=new goog.dom.TagName("RUBY"),goog.dom.TagName.S=new goog.dom.TagName("S"),goog.dom.TagName.SAMP=new goog.dom.TagName("SAMP"),goog.dom.TagName.SCRIPT=new goog.dom.TagName("SCRIPT"),goog.dom.TagName.SECTION=new goog.dom.TagName("SECTION"),goog.dom.TagName.SELECT=new goog.dom.TagName("SELECT"),goog.dom.TagName.SMALL=new goog.dom.TagName("SMALL"),goog.dom.TagName.SOURCE=new goog.dom.TagName("SOURCE"),goog.dom.TagName.SPAN=new goog.dom.TagName("SPAN"),goog.dom.TagName.STRIKE=new goog.dom.TagName("STRIKE"),goog.dom.TagName.STRONG=new goog.dom.TagName("STRONG"),goog.dom.TagName.STYLE=new goog.dom.TagName("STYLE"),goog.dom.TagName.SUB=new goog.dom.TagName("SUB"),goog.dom.TagName.SUMMARY=new goog.dom.TagName("SUMMARY"),goog.dom.TagName.SUP=new goog.dom.TagName("SUP"),goog.dom.TagName.SVG=new goog.dom.TagName("SVG"),goog.dom.TagName.TABLE=new goog.dom.TagName("TABLE"),goog.dom.TagName.TBODY=new goog.dom.TagName("TBODY"),goog.dom.TagName.TD=new goog.dom.TagName("TD"),goog.dom.TagName.TEMPLATE=new goog.dom.TagName("TEMPLATE"),goog.dom.TagName.TEXTAREA=new goog.dom.TagName("TEXTAREA"),goog.dom.TagName.TFOOT=new goog.dom.TagName("TFOOT"),goog.dom.TagName.TH=new goog.dom.TagName("TH"),goog.dom.TagName.THEAD=new goog.dom.TagName("THEAD"),goog.dom.TagName.TIME=new goog.dom.TagName("TIME"),goog.dom.TagName.TITLE=new goog.dom.TagName("TITLE"),goog.dom.TagName.TR=new goog.dom.TagName("TR"),goog.dom.TagName.TRACK=new goog.dom.TagName("TRACK"),goog.dom.TagName.TT=new goog.dom.TagName("TT"),goog.dom.TagName.U=new goog.dom.TagName("U"),goog.dom.TagName.UL=new goog.dom.TagName("UL"),goog.dom.TagName.VAR=new goog.dom.TagName("VAR"),goog.dom.TagName.VIDEO=new goog.dom.TagName("VIDEO"),goog.dom.TagName.WBR=new goog.dom.TagName("WBR"),goog.dom.tags={},goog.dom.tags.VOID_TAGS_={area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},goog.dom.tags.isVoidTag=function(e){return!0===goog.dom.tags.VOID_TAGS_[e]},goog.html={},goog.html.trustedtypes={},goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY=goog.TRUSTED_TYPES_POLICY_NAME?goog.createTrustedTypesPolicy(goog.TRUSTED_TYPES_POLICY_NAME+"#html"):null,goog.string={},goog.string.TypedString=function(){},goog.string.Const=function(e,t){this.stringConstValueWithSecurityContract__googStringSecurityPrivate_=e===goog.string.Const.GOOG_STRING_CONSTRUCTOR_TOKEN_PRIVATE_&&t||"",this.STRING_CONST_TYPE_MARKER__GOOG_STRING_SECURITY_PRIVATE_=goog.string.Const.TYPE_MARKER_},goog.string.Const.prototype.implementsGoogStringTypedString=!0,goog.string.Const.prototype.getTypedStringValue=function(){return this.stringConstValueWithSecurityContract__googStringSecurityPrivate_},goog.string.Const.prototype.toString=function(){return"Const{"+this.stringConstValueWithSecurityContract__googStringSecurityPrivate_+"}"},goog.string.Const.unwrap=function(e){return e instanceof goog.string.Const&&e.constructor===goog.string.Const&&e.STRING_CONST_TYPE_MARKER__GOOG_STRING_SECURITY_PRIVATE_===goog.string.Const.TYPE_MARKER_?e.stringConstValueWithSecurityContract__googStringSecurityPrivate_:(goog.asserts.fail("expected object of type Const, got '"+e+"'"),"type_error:Const")},goog.string.Const.from=function(e){return new goog.string.Const(goog.string.Const.GOOG_STRING_CONSTRUCTOR_TOKEN_PRIVATE_,e)},goog.string.Const.TYPE_MARKER_={},goog.string.Const.GOOG_STRING_CONSTRUCTOR_TOKEN_PRIVATE_={},goog.string.Const.EMPTY=goog.string.Const.from(""),goog.html.SafeScript=function(){this.privateDoNotAccessOrElseSafeScriptWrappedValue_="",this.SAFE_SCRIPT_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeScript.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.SafeScript.prototype.implementsGoogStringTypedString=!0,goog.html.SafeScript.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeScript.fromConstant=function(e){return 0===(e=goog.string.Const.unwrap(e)).length?goog.html.SafeScript.EMPTY:goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(e)},goog.html.SafeScript.fromConstantAndArgs=function(e,t){for(var r=[],o=1;o<arguments.length;o++)r.push(goog.html.SafeScript.stringify_(arguments[o]));return goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse("("+goog.string.Const.unwrap(e)+")("+r.join(", ")+");")},goog.html.SafeScript.fromJson=function(e){return goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(goog.html.SafeScript.stringify_(e))},goog.html.SafeScript.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeScriptWrappedValue_.toString()},goog.DEBUG&&(goog.html.SafeScript.prototype.toString=function(){return"SafeScript{"+this.privateDoNotAccessOrElseSafeScriptWrappedValue_+"}"}),goog.html.SafeScript.unwrap=function(e){return goog.html.SafeScript.unwrapTrustedScript(e).toString()},goog.html.SafeScript.unwrapTrustedScript=function(e){return e instanceof goog.html.SafeScript&&e.constructor===goog.html.SafeScript&&e.SAFE_SCRIPT_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeScript.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?e.privateDoNotAccessOrElseSafeScriptWrappedValue_:(goog.asserts.fail("expected object of type SafeScript, got '"+e+"' of type "+goog.typeOf(e)),"type_error:SafeScript")},goog.html.SafeScript.stringify_=function(e){return JSON.stringify(e).replace(/</g,"\\x3c")},goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse=function(e){return(new goog.html.SafeScript).initSecurityPrivateDoNotAccessOrElse_(e)},goog.html.SafeScript.prototype.initSecurityPrivateDoNotAccessOrElse_=function(e){return this.privateDoNotAccessOrElseSafeScriptWrappedValue_=goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY?goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY.createScript(e):e,this},goog.html.SafeScript.EMPTY=goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(""),goog.fs={},goog.fs.url={},goog.fs.url.createObjectUrl=function(e){return goog.fs.url.getUrlObject_().createObjectURL(e)},goog.fs.url.revokeObjectUrl=function(e){goog.fs.url.getUrlObject_().revokeObjectURL(e)},goog.fs.url.getUrlObject_=function(){var e=goog.fs.url.findUrlObject_();if(null!=e)return e;throw Error("This browser doesn't seem to support blob URLs")},goog.fs.url.findUrlObject_=function(){return goog.isDef(goog.global.URL)&&goog.isDef(goog.global.URL.createObjectURL)?goog.global.URL:goog.isDef(goog.global.webkitURL)&&goog.isDef(goog.global.webkitURL.createObjectURL)?goog.global.webkitURL:goog.isDef(goog.global.createObjectURL)?goog.global:null},goog.fs.url.browserSupportsObjectUrls=function(){return null!=goog.fs.url.findUrlObject_()},goog.i18n={},goog.i18n.bidi={},goog.i18n.bidi.FORCE_RTL=!1,goog.i18n.bidi.IS_RTL=goog.i18n.bidi.FORCE_RTL||("ar"==goog.LOCALE.substring(0,2).toLowerCase()||"fa"==goog.LOCALE.substring(0,2).toLowerCase()||"he"==goog.LOCALE.substring(0,2).toLowerCase()||"iw"==goog.LOCALE.substring(0,2).toLowerCase()||"ps"==goog.LOCALE.substring(0,2).toLowerCase()||"sd"==goog.LOCALE.substring(0,2).toLowerCase()||"ug"==goog.LOCALE.substring(0,2).toLowerCase()||"ur"==goog.LOCALE.substring(0,2).toLowerCase()||"yi"==goog.LOCALE.substring(0,2).toLowerCase())&&(2==goog.LOCALE.length||"-"==goog.LOCALE.substring(2,3)||"_"==goog.LOCALE.substring(2,3))||3<=goog.LOCALE.length&&"ckb"==goog.LOCALE.substring(0,3).toLowerCase()&&(3==goog.LOCALE.length||"-"==goog.LOCALE.substring(3,4)||"_"==goog.LOCALE.substring(3,4))||7<=goog.LOCALE.length&&("-"==goog.LOCALE.substring(2,3)||"_"==goog.LOCALE.substring(2,3))&&("adlm"==goog.LOCALE.substring(3,7).toLowerCase()||"arab"==goog.LOCALE.substring(3,7).toLowerCase()||"hebr"==goog.LOCALE.substring(3,7).toLowerCase()||"nkoo"==goog.LOCALE.substring(3,7).toLowerCase()||"rohg"==goog.LOCALE.substring(3,7).toLowerCase()||"thaa"==goog.LOCALE.substring(3,7).toLowerCase())||8<=goog.LOCALE.length&&("-"==goog.LOCALE.substring(3,4)||"_"==goog.LOCALE.substring(3,4))&&("adlm"==goog.LOCALE.substring(4,8).toLowerCase()||"arab"==goog.LOCALE.substring(4,8).toLowerCase()||"hebr"==goog.LOCALE.substring(4,8).toLowerCase()||"nkoo"==goog.LOCALE.substring(4,8).toLowerCase()||"rohg"==goog.LOCALE.substring(4,8).toLowerCase()||"thaa"==goog.LOCALE.substring(4,8).toLowerCase()),goog.i18n.bidi.Format={LRE:"",RLE:"",PDF:"",LRM:"",RLM:""},goog.i18n.bidi.Dir={LTR:1,RTL:-1,NEUTRAL:0},goog.i18n.bidi.RIGHT="right",goog.i18n.bidi.LEFT="left",goog.i18n.bidi.I18N_RIGHT=goog.i18n.bidi.IS_RTL?goog.i18n.bidi.LEFT:goog.i18n.bidi.RIGHT,goog.i18n.bidi.I18N_LEFT=goog.i18n.bidi.IS_RTL?goog.i18n.bidi.RIGHT:goog.i18n.bidi.LEFT,goog.i18n.bidi.toDir=function(e,t){return"number"==typeof e?0<e?goog.i18n.bidi.Dir.LTR:0>e?goog.i18n.bidi.Dir.RTL:t?null:goog.i18n.bidi.Dir.NEUTRAL:null==e?null:e?goog.i18n.bidi.Dir.RTL:goog.i18n.bidi.Dir.LTR},goog.i18n.bidi.ltrChars_="A-Za-z------\ud801\ud804-\ud839\ud83c-\udbff---",goog.i18n.bidi.rtlChars_="--\ud802-\ud803\ud83a-\ud83b--",goog.i18n.bidi.htmlSkipReg_=/<[^>]*>|&[^;]+;/g,goog.i18n.bidi.stripHtmlIfNeeded_=function(e,t){return t?e.replace(goog.i18n.bidi.htmlSkipReg_,""):e},goog.i18n.bidi.rtlCharReg_=new RegExp("["+goog.i18n.bidi.rtlChars_+"]"),goog.i18n.bidi.ltrCharReg_=new RegExp("["+goog.i18n.bidi.ltrChars_+"]"),goog.i18n.bidi.hasAnyRtl=function(e,t){return goog.i18n.bidi.rtlCharReg_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,t))},goog.i18n.bidi.hasRtlChar=goog.i18n.bidi.hasAnyRtl,goog.i18n.bidi.hasAnyLtr=function(e,t){return goog.i18n.bidi.ltrCharReg_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,t))},goog.i18n.bidi.ltrRe_=new RegExp("^["+goog.i18n.bidi.ltrChars_+"]"),goog.i18n.bidi.rtlRe_=new RegExp("^["+goog.i18n.bidi.rtlChars_+"]"),goog.i18n.bidi.isRtlChar=function(e){return goog.i18n.bidi.rtlRe_.test(e)},goog.i18n.bidi.isLtrChar=function(e){return goog.i18n.bidi.ltrRe_.test(e)},goog.i18n.bidi.isNeutralChar=function(e){return!goog.i18n.bidi.isLtrChar(e)&&!goog.i18n.bidi.isRtlChar(e)},goog.i18n.bidi.ltrDirCheckRe_=new RegExp("^[^"+goog.i18n.bidi.rtlChars_+"]*["+goog.i18n.bidi.ltrChars_+"]"),goog.i18n.bidi.rtlDirCheckRe_=new RegExp("^[^"+goog.i18n.bidi.ltrChars_+"]*["+goog.i18n.bidi.rtlChars_+"]"),goog.i18n.bidi.startsWithRtl=function(e,t){return goog.i18n.bidi.rtlDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,t))},goog.i18n.bidi.isRtlText=goog.i18n.bidi.startsWithRtl,goog.i18n.bidi.startsWithLtr=function(e,t){return goog.i18n.bidi.ltrDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,t))},goog.i18n.bidi.isLtrText=goog.i18n.bidi.startsWithLtr,goog.i18n.bidi.isRequiredLtrRe_=/^http:\/\/.*/,goog.i18n.bidi.isNeutralText=function(e,t){return e=goog.i18n.bidi.stripHtmlIfNeeded_(e,t),goog.i18n.bidi.isRequiredLtrRe_.test(e)||!goog.i18n.bidi.hasAnyLtr(e)&&!goog.i18n.bidi.hasAnyRtl(e)},goog.i18n.bidi.ltrExitDirCheckRe_=new RegExp("["+goog.i18n.bidi.ltrChars_+"][^"+goog.i18n.bidi.rtlChars_+"]*$"),goog.i18n.bidi.rtlExitDirCheckRe_=new RegExp("["+goog.i18n.bidi.rtlChars_+"][^"+goog.i18n.bidi.ltrChars_+"]*$"),goog.i18n.bidi.endsWithLtr=function(e,t){return goog.i18n.bidi.ltrExitDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,t))},goog.i18n.bidi.isLtrExitText=goog.i18n.bidi.endsWithLtr,goog.i18n.bidi.endsWithRtl=function(e,t){return goog.i18n.bidi.rtlExitDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,t))},goog.i18n.bidi.isRtlExitText=goog.i18n.bidi.endsWithRtl,goog.i18n.bidi.rtlLocalesRe_=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i,goog.i18n.bidi.isRtlLanguage=function(e){return goog.i18n.bidi.rtlLocalesRe_.test(e)},goog.i18n.bidi.bracketGuardTextRe_=/(\(.*?\)+)|(\[.*?\]+)|(\{.*?\}+)|(<.*?>+)/g,goog.i18n.bidi.guardBracketInText=function(e,t){return t=(void 0===t?goog.i18n.bidi.hasAnyRtl(e):t)?goog.i18n.bidi.Format.RLM:goog.i18n.bidi.Format.LRM,e.replace(goog.i18n.bidi.bracketGuardTextRe_,t+"$&"+t)},goog.i18n.bidi.enforceRtlInHtml=function(e){return"<"==e.charAt(0)?e.replace(/<\w+/,"$& dir=rtl"):"\n<span dir=rtl>"+e+"</span>"},goog.i18n.bidi.enforceRtlInText=function(e){return goog.i18n.bidi.Format.RLE+e+goog.i18n.bidi.Format.PDF},goog.i18n.bidi.enforceLtrInHtml=function(e){return"<"==e.charAt(0)?e.replace(/<\w+/,"$& dir=ltr"):"\n<span dir=ltr>"+e+"</span>"},goog.i18n.bidi.enforceLtrInText=function(e){return goog.i18n.bidi.Format.LRE+e+goog.i18n.bidi.Format.PDF},goog.i18n.bidi.dimensionsRe_=/:\s*([.\d][.\w]*)\s+([.\d][.\w]*)\s+([.\d][.\w]*)\s+([.\d][.\w]*)/g,goog.i18n.bidi.leftRe_=/left/gi,goog.i18n.bidi.rightRe_=/right/gi,goog.i18n.bidi.tempRe_=/%%%%/g,goog.i18n.bidi.mirrorCSS=function(e){return e.replace(goog.i18n.bidi.dimensionsRe_,":$1 $4 $3 $2").replace(goog.i18n.bidi.leftRe_,"%%%%").replace(goog.i18n.bidi.rightRe_,goog.i18n.bidi.LEFT).replace(goog.i18n.bidi.tempRe_,goog.i18n.bidi.RIGHT)},goog.i18n.bidi.doubleQuoteSubstituteRe_=/([\u0591-\u05f2])"/g,goog.i18n.bidi.singleQuoteSubstituteRe_=/([\u0591-\u05f2])'/g,goog.i18n.bidi.normalizeHebrewQuote=function(e){return e.replace(goog.i18n.bidi.doubleQuoteSubstituteRe_,"$1").replace(goog.i18n.bidi.singleQuoteSubstituteRe_,"$1")},goog.i18n.bidi.wordSeparatorRe_=/\s+/,goog.i18n.bidi.hasNumeralsRe_=/[\d\u06f0-\u06f9]/,goog.i18n.bidi.rtlDetectionThreshold_=.4,goog.i18n.bidi.estimateDirection=function(e,t){var r=0,o=0,n=!1;for(e=goog.i18n.bidi.stripHtmlIfNeeded_(e,t).split(goog.i18n.bidi.wordSeparatorRe_),t=0;t<e.length;t++){var i=e[t];goog.i18n.bidi.startsWithRtl(i)?(r++,o++):goog.i18n.bidi.isRequiredLtrRe_.test(i)?n=!0:goog.i18n.bidi.hasAnyLtr(i)?o++:goog.i18n.bidi.hasNumeralsRe_.test(i)&&(n=!0)}return 0==o?n?goog.i18n.bidi.Dir.LTR:goog.i18n.bidi.Dir.NEUTRAL:r/o>goog.i18n.bidi.rtlDetectionThreshold_?goog.i18n.bidi.Dir.RTL:goog.i18n.bidi.Dir.LTR},goog.i18n.bidi.detectRtlDirectionality=function(e,t){return goog.i18n.bidi.estimateDirection(e,t)==goog.i18n.bidi.Dir.RTL},goog.i18n.bidi.setElementDirAndAlign=function(e,t){e&&(t=goog.i18n.bidi.toDir(t))&&(e.style.textAlign=t==goog.i18n.bidi.Dir.RTL?goog.i18n.bidi.RIGHT:goog.i18n.bidi.LEFT,e.dir=t==goog.i18n.bidi.Dir.RTL?"rtl":"ltr")},goog.i18n.bidi.setElementDirByTextDirectionality=function(e,t){switch(goog.i18n.bidi.estimateDirection(t)){case goog.i18n.bidi.Dir.LTR:e.dir="ltr";break;case goog.i18n.bidi.Dir.RTL:e.dir="rtl";break;default:e.removeAttribute("dir")}},goog.i18n.bidi.DirectionalString=function(){},goog.html.TrustedResourceUrl=function(){this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_="",this.trustedURL_=null,this.TRUSTED_RESOURCE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.TrustedResourceUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.TrustedResourceUrl.prototype.implementsGoogStringTypedString=!0,goog.html.TrustedResourceUrl.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_.toString()},goog.html.TrustedResourceUrl.prototype.implementsGoogI18nBidiDirectionalString=!0,goog.html.TrustedResourceUrl.prototype.getDirection=function(){return goog.i18n.bidi.Dir.LTR},goog.html.TrustedResourceUrl.prototype.cloneWithParams=function(e,t){var r=goog.html.TrustedResourceUrl.unwrap(this),o=(r=goog.html.TrustedResourceUrl.URL_PARAM_PARSER_.exec(r))[3]||"";return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(r[1]+goog.html.TrustedResourceUrl.stringifyParams_("?",r[2]||"",e)+goog.html.TrustedResourceUrl.stringifyParams_("#",o,t))},goog.DEBUG&&(goog.html.TrustedResourceUrl.prototype.toString=function(){return"TrustedResourceUrl{"+this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_+"}"}),goog.html.TrustedResourceUrl.unwrap=function(e){return goog.html.TrustedResourceUrl.unwrapTrustedScriptURL(e).toString()},goog.html.TrustedResourceUrl.unwrapTrustedScriptURL=function(e){return e instanceof goog.html.TrustedResourceUrl&&e.constructor===goog.html.TrustedResourceUrl&&e.TRUSTED_RESOURCE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.TrustedResourceUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?e.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_:(goog.asserts.fail("expected object of type TrustedResourceUrl, got '"+e+"' of type "+goog.typeOf(e)),"type_error:TrustedResourceUrl")},goog.html.TrustedResourceUrl.unwrapTrustedURL=function(e){return e.trustedURL_?e.trustedURL_:goog.html.TrustedResourceUrl.unwrap(e)},goog.html.TrustedResourceUrl.format=function(e,t){var r=goog.string.Const.unwrap(e);if(!goog.html.TrustedResourceUrl.BASE_URL_.test(r))throw Error("Invalid TrustedResourceUrl format: "+r);return e=r.replace(goog.html.TrustedResourceUrl.FORMAT_MARKER_,(function(e,o){if(!Object.prototype.hasOwnProperty.call(t,o))throw Error('Found marker, "'+o+'", in format string, "'+r+'", but no valid label mapping found in args: '+JSON.stringify(t));return(e=t[o])instanceof goog.string.Const?goog.string.Const.unwrap(e):encodeURIComponent(String(e))})),goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.TrustedResourceUrl.FORMAT_MARKER_=/%{(\w+)}/g,goog.html.TrustedResourceUrl.BASE_URL_=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,goog.html.TrustedResourceUrl.URL_PARAM_PARSER_=/^([^?#]*)(\?[^#]*)?(#[\s\S]*)?/,goog.html.TrustedResourceUrl.formatWithParams=function(e,t,r,o){return goog.html.TrustedResourceUrl.format(e,t).cloneWithParams(r,o)},goog.html.TrustedResourceUrl.fromConstant=function(e){return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(goog.string.Const.unwrap(e))},goog.html.TrustedResourceUrl.fromConstants=function(e){for(var t="",r=0;r<e.length;r++)t+=goog.string.Const.unwrap(e[r]);return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(t)},goog.html.TrustedResourceUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse=function(e){var t=new goog.html.TrustedResourceUrl;return t.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_=goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY?goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY.createScriptURL(e):e,goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY&&(t.trustedURL_=goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY.createURL(e)),t},goog.html.TrustedResourceUrl.stringifyParams_=function(e,t,r){if(null==r)return t;if(goog.isString(r))return r?e+encodeURIComponent(r):"";for(var o in r){var n=r[o];n=goog.isArray(n)?n:[n];for(var i=0;i<n.length;i++){var s=n[i];null!=s&&(t||(t=e),t+=(t.length>e.length?"&":"")+encodeURIComponent(o)+"="+encodeURIComponent(String(s)))}}return t},goog.string.internal={},goog.string.internal.startsWith=function(e,t){return 0==e.lastIndexOf(t,0)},goog.string.internal.endsWith=function(e,t){var r=e.length-t.length;return 0<=r&&e.indexOf(t,r)==r},goog.string.internal.caseInsensitiveStartsWith=function(e,t){return 0==goog.string.internal.caseInsensitiveCompare(t,e.substr(0,t.length))},goog.string.internal.caseInsensitiveEndsWith=function(e,t){return 0==goog.string.internal.caseInsensitiveCompare(t,e.substr(e.length-t.length,t.length))},goog.string.internal.caseInsensitiveEquals=function(e,t){return e.toLowerCase()==t.toLowerCase()},goog.string.internal.isEmptyOrWhitespace=function(e){return/^[\s\xa0]*$/.test(e)},goog.string.internal.trim=goog.TRUSTED_SITE&&String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]},goog.string.internal.caseInsensitiveCompare=function(e,t){return(e=String(e).toLowerCase())<(t=String(t).toLowerCase())?-1:e==t?0:1},goog.string.internal.newLineToBr=function(e,t){return e.replace(/(\r\n|\r|\n)/g,t?"<br />":"<br>")},goog.string.internal.htmlEscape=function(e,t){if(t)e=e.replace(goog.string.internal.AMP_RE_,"&amp;").replace(goog.string.internal.LT_RE_,"&lt;").replace(goog.string.internal.GT_RE_,"&gt;").replace(goog.string.internal.QUOT_RE_,"&quot;").replace(goog.string.internal.SINGLE_QUOTE_RE_,"&#39;").replace(goog.string.internal.NULL_RE_,"&#0;");else{if(!goog.string.internal.ALL_RE_.test(e))return e;-1!=e.indexOf("&")&&(e=e.replace(goog.string.internal.AMP_RE_,"&amp;")),-1!=e.indexOf("<")&&(e=e.replace(goog.string.internal.LT_RE_,"&lt;")),-1!=e.indexOf(">")&&(e=e.replace(goog.string.internal.GT_RE_,"&gt;")),-1!=e.indexOf('"')&&(e=e.replace(goog.string.internal.QUOT_RE_,"&quot;")),-1!=e.indexOf("'")&&(e=e.replace(goog.string.internal.SINGLE_QUOTE_RE_,"&#39;")),-1!=e.indexOf("\0")&&(e=e.replace(goog.string.internal.NULL_RE_,"&#0;"))}return e},goog.string.internal.AMP_RE_=/&/g,goog.string.internal.LT_RE_=/</g,goog.string.internal.GT_RE_=/>/g,goog.string.internal.QUOT_RE_=/"/g,goog.string.internal.SINGLE_QUOTE_RE_=/'/g,goog.string.internal.NULL_RE_=/\x00/g,goog.string.internal.ALL_RE_=/[\x00&<>"']/,goog.string.internal.whitespaceEscape=function(e,t){return goog.string.internal.newLineToBr(e.replace(/  /g," &#160;"),t)},goog.string.internal.contains=function(e,t){return-1!=e.indexOf(t)},goog.string.internal.caseInsensitiveContains=function(e,t){return goog.string.internal.contains(e.toLowerCase(),t.toLowerCase())},goog.string.internal.compareVersions=function(e,t){var r=0;e=goog.string.internal.trim(String(e)).split("."),t=goog.string.internal.trim(String(t)).split(".");for(var o=Math.max(e.length,t.length),n=0;0==r&&n<o;n++){var i=e[n]||"",s=t[n]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==i[0].length&&0==s[0].length)break;r=0==i[1].length?0:parseInt(i[1],10);var a=0==s[1].length?0:parseInt(s[1],10);r=goog.string.internal.compareElements_(r,a)||goog.string.internal.compareElements_(0==i[2].length,0==s[2].length)||goog.string.internal.compareElements_(i[2],s[2]),i=i[3],s=s[3]}while(0==r)}return r},goog.string.internal.compareElements_=function(e,t){return e<t?-1:e>t?1:0},goog.html.SafeUrl=function(){this.privateDoNotAccessOrElseSafeUrlWrappedValue_="",this.SAFE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.SafeUrl.INNOCUOUS_STRING="about:invalid#zClosurez",goog.html.SafeUrl.prototype.implementsGoogStringTypedString=!0,goog.html.SafeUrl.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeUrlWrappedValue_.toString()},goog.html.SafeUrl.prototype.implementsGoogI18nBidiDirectionalString=!0,goog.html.SafeUrl.prototype.getDirection=function(){return goog.i18n.bidi.Dir.LTR},goog.DEBUG&&(goog.html.SafeUrl.prototype.toString=function(){return"SafeUrl{"+this.privateDoNotAccessOrElseSafeUrlWrappedValue_+"}"}),goog.html.SafeUrl.unwrap=function(e){return goog.html.SafeUrl.unwrapTrustedURL(e).toString()},goog.html.SafeUrl.unwrapTrustedURL=function(e){return e instanceof goog.html.SafeUrl&&e.constructor===goog.html.SafeUrl&&e.SAFE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?e.privateDoNotAccessOrElseSafeUrlWrappedValue_:(goog.asserts.fail("expected object of type SafeUrl, got '"+e+"' of type "+goog.typeOf(e)),"type_error:SafeUrl")},goog.html.SafeUrl.fromConstant=function(e){return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(goog.string.Const.unwrap(e))},goog.html.SAFE_MIME_TYPE_PATTERN_=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-wav|wav|webm)|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime))(?:;\w+=(?:\w+|"[\w;=]+"))*$/i,goog.html.SafeUrl.isSafeMimeType=function(e){return goog.html.SAFE_MIME_TYPE_PATTERN_.test(e)},goog.html.SafeUrl.fromBlob=function(e){return e=goog.html.SAFE_MIME_TYPE_PATTERN_.test(e.type)?goog.fs.url.createObjectUrl(e):goog.html.SafeUrl.INNOCUOUS_STRING,goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.DATA_URL_PATTERN_=/^data:([^,]*);base64,[a-z0-9+\/]+=*$/i,goog.html.SafeUrl.fromDataUrl=function(e){var t=(e=e.replace(/(%0A|%0D)/g,"")).match(goog.html.DATA_URL_PATTERN_);return t=t&&goog.html.SAFE_MIME_TYPE_PATTERN_.test(t[1]),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(t?e:goog.html.SafeUrl.INNOCUOUS_STRING)},goog.html.SafeUrl.fromTelUrl=function(e){return goog.string.internal.caseInsensitiveStartsWith(e,"tel:")||(e=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.SIP_URL_PATTERN_=/^sip[s]?:[+a-z0-9_.!$%&'*\/=^`{|}~-]+@([a-z0-9-]+\.)+[a-z0-9]{2,63}$/i,goog.html.SafeUrl.fromSipUrl=function(e){return goog.html.SIP_URL_PATTERN_.test(decodeURIComponent(e))||(e=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.SafeUrl.fromFacebookMessengerUrl=function(e){return goog.string.internal.caseInsensitiveStartsWith(e,"fb-messenger://share")||(e=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.SafeUrl.fromWhatsAppUrl=function(e){return goog.string.internal.caseInsensitiveStartsWith(e,"whatsapp://send")||(e=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.SafeUrl.fromSmsUrl=function(e){return goog.string.internal.caseInsensitiveStartsWith(e,"sms:")&&goog.html.SafeUrl.isSmsUrlBodyValid_(e)||(e=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.SafeUrl.isSmsUrlBodyValid_=function(e){var t=e.indexOf("#");if(0<t&&(e=e.substring(0,t)),!(t=e.match(/[?&]body=/gi)))return!0;if(1<t.length)return!1;if(!(e=e.match(/[?&]body=([^&]*)/)[1]))return!0;try{decodeURIComponent(e)}catch(e){return!1}return/^(?:[a-z0-9\-_.~]|%[0-9a-f]{2})+$/i.test(e)},goog.html.SafeUrl.fromSshUrl=function(e){return goog.string.internal.caseInsensitiveStartsWith(e,"ssh://")||(e=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.SafeUrl.sanitizeChromeExtensionUrl=function(e,t){return goog.html.SafeUrl.sanitizeExtensionUrl_(/^chrome-extension:\/\/([^\/]+)\//,e,t)},goog.html.SafeUrl.sanitizeFirefoxExtensionUrl=function(e,t){return goog.html.SafeUrl.sanitizeExtensionUrl_(/^moz-extension:\/\/([^\/]+)\//,e,t)},goog.html.SafeUrl.sanitizeEdgeExtensionUrl=function(e,t){return goog.html.SafeUrl.sanitizeExtensionUrl_(/^ms-browser-extension:\/\/([^\/]+)\//,e,t)},goog.html.SafeUrl.sanitizeExtensionUrl_=function(e,t,r){return(e=e.exec(t))?(e=e[1],-1==(r instanceof goog.string.Const?[goog.string.Const.unwrap(r)]:r.map((function(e){return goog.string.Const.unwrap(e)}))).indexOf(e)&&(t=goog.html.SafeUrl.INNOCUOUS_STRING)):t=goog.html.SafeUrl.INNOCUOUS_STRING,goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(t)},goog.html.SafeUrl.fromTrustedResourceUrl=function(e){return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(goog.html.TrustedResourceUrl.unwrap(e))},goog.html.SAFE_URL_PATTERN_=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i,goog.html.SafeUrl.SAFE_URL_PATTERN=goog.html.SAFE_URL_PATTERN_,goog.html.SafeUrl.sanitize=function(e){return e instanceof goog.html.SafeUrl?e:(e="object"==typeof e&&e.implementsGoogStringTypedString?e.getTypedStringValue():String(e),goog.html.SAFE_URL_PATTERN_.test(e)||(e=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e))},goog.html.SafeUrl.sanitizeAssertUnchanged=function(e,t){return e instanceof goog.html.SafeUrl?e:(e="object"==typeof e&&e.implementsGoogStringTypedString?e.getTypedStringValue():String(e),t&&/^data:/i.test(e)&&(t=goog.html.SafeUrl.fromDataUrl(e)).getTypedStringValue()==e?t:(goog.asserts.assert(goog.html.SAFE_URL_PATTERN_.test(e),"%s does not match the safe URL pattern",e)||(e=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)))},goog.html.SafeUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse=function(e){var t=new goog.html.SafeUrl;return t.privateDoNotAccessOrElseSafeUrlWrappedValue_=goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY?goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY.createURL(e):e,t},goog.html.SafeUrl.ABOUT_BLANK=goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse("about:blank"),goog.html.SafeStyle=function(){this.privateDoNotAccessOrElseSafeStyleWrappedValue_="",this.SAFE_STYLE_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeStyle.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.SafeStyle.prototype.implementsGoogStringTypedString=!0,goog.html.SafeStyle.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeStyle.fromConstant=function(e){return 0===(e=goog.string.Const.unwrap(e)).length?goog.html.SafeStyle.EMPTY:(goog.asserts.assert(goog.string.internal.endsWith(e,";"),"Last character of style string is not ';': "+e),goog.asserts.assert(goog.string.internal.contains(e,":"),"Style string must contain at least one ':', to specify a \"name: value\" pair: "+e),goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(e))},goog.html.SafeStyle.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeStyleWrappedValue_},goog.DEBUG&&(goog.html.SafeStyle.prototype.toString=function(){return"SafeStyle{"+this.privateDoNotAccessOrElseSafeStyleWrappedValue_+"}"}),goog.html.SafeStyle.unwrap=function(e){return e instanceof goog.html.SafeStyle&&e.constructor===goog.html.SafeStyle&&e.SAFE_STYLE_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeStyle.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?e.privateDoNotAccessOrElseSafeStyleWrappedValue_:(goog.asserts.fail("expected object of type SafeStyle, got '"+e+"' of type "+goog.typeOf(e)),"type_error:SafeStyle")},goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse=function(e){return(new goog.html.SafeStyle).initSecurityPrivateDoNotAccessOrElse_(e)},goog.html.SafeStyle.prototype.initSecurityPrivateDoNotAccessOrElse_=function(e){return this.privateDoNotAccessOrElseSafeStyleWrappedValue_=e,this},goog.html.SafeStyle.EMPTY=goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(""),goog.html.SafeStyle.INNOCUOUS_STRING="zClosurez",goog.html.SafeStyle.create=function(e){var t,r="";for(t in e){if(!/^[-_a-zA-Z0-9]+$/.test(t))throw Error("Name allows only [-_a-zA-Z0-9], got: "+t);var o=e[t];null!=o&&(r+=t+":"+(o=goog.isArray(o)?goog.array.map(o,goog.html.SafeStyle.sanitizePropertyValue_).join(" "):goog.html.SafeStyle.sanitizePropertyValue_(o))+";")}return r?goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(r):goog.html.SafeStyle.EMPTY},goog.html.SafeStyle.sanitizePropertyValue_=function(e){if(e instanceof goog.html.SafeUrl)return'url("'+goog.html.SafeUrl.unwrap(e).replace(/</g,"%3c").replace(/[\\"]/g,"\\$&")+'")';if(e=e instanceof goog.string.Const?goog.string.Const.unwrap(e):goog.html.SafeStyle.sanitizePropertyValueString_(String(e)),/[{;}]/.test(e))throw new goog.asserts.AssertionError("Value does not allow [{;}], got: %s.",[e]);return e},goog.html.SafeStyle.sanitizePropertyValueString_=function(e){var t=e.replace(goog.html.SafeStyle.FUNCTIONS_RE_,"$1").replace(goog.html.SafeStyle.FUNCTIONS_RE_,"$1").replace(goog.html.SafeStyle.URL_RE_,"url");return goog.html.SafeStyle.VALUE_RE_.test(t)?goog.html.SafeStyle.COMMENT_RE_.test(e)?(goog.asserts.fail("String value disallows comments, got: "+e),goog.html.SafeStyle.INNOCUOUS_STRING):goog.html.SafeStyle.hasBalancedQuotes_(e)?goog.html.SafeStyle.hasBalancedSquareBrackets_(e)?goog.html.SafeStyle.sanitizeUrl_(e):(goog.asserts.fail("String value requires balanced square brackets and one identifier per pair of brackets, got: "+e),goog.html.SafeStyle.INNOCUOUS_STRING):(goog.asserts.fail("String value requires balanced quotes, got: "+e),goog.html.SafeStyle.INNOCUOUS_STRING):(goog.asserts.fail("String value allows only "+goog.html.SafeStyle.VALUE_ALLOWED_CHARS_+" and simple functions, got: "+e),goog.html.SafeStyle.INNOCUOUS_STRING)},goog.html.SafeStyle.hasBalancedQuotes_=function(e){for(var t=!0,r=!0,o=0;o<e.length;o++){var n=e.charAt(o);"'"==n&&r?t=!t:'"'==n&&t&&(r=!r)}return t&&r},goog.html.SafeStyle.hasBalancedSquareBrackets_=function(e){for(var t=!0,r=/^[-_a-zA-Z0-9]$/,o=0;o<e.length;o++){var n=e.charAt(o);if("]"==n){if(t)return!1;t=!0}else if("["==n){if(!t)return!1;t=!1}else if(!t&&!r.test(n))return!1}return t},goog.html.SafeStyle.VALUE_ALLOWED_CHARS_="[-,.\"'%_!# a-zA-Z0-9\\[\\]]",goog.html.SafeStyle.VALUE_RE_=new RegExp("^"+goog.html.SafeStyle.VALUE_ALLOWED_CHARS_+"+$"),goog.html.SafeStyle.URL_RE_=/\b(url\([ \t\n]*)('[ -&(-\[\]-~]*'|"[ !#-\[\]-~]*"|[!#-&*-\[\]-~]*)([ \t\n]*\))/g,goog.html.SafeStyle.FUNCTIONS_RE_=/\b(hsl|hsla|rgb|rgba|matrix|calc|minmax|fit-content|repeat|(rotate|scale|translate)(X|Y|Z|3d)?)\([-+*/0-9a-z.%\[\], ]+\)/g,goog.html.SafeStyle.COMMENT_RE_=/\/\*/,goog.html.SafeStyle.sanitizeUrl_=function(e){return e.replace(goog.html.SafeStyle.URL_RE_,(function(e,t,r,o){var n="";return r=r.replace(/^(['"])(.*)\1$/,(function(e,t,r){return n=t,r})),e=goog.html.SafeUrl.sanitize(r).getTypedStringValue(),t+n+e+n+o}))},goog.html.SafeStyle.concat=function(e){var t="",r=function(e){goog.isArray(e)?goog.array.forEach(e,r):t+=goog.html.SafeStyle.unwrap(e)};return goog.array.forEach(arguments,r),t?goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(t):goog.html.SafeStyle.EMPTY},goog.html.SafeStyleSheet=function(){this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_="",this.SAFE_STYLE_SHEET_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeStyleSheet.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.SafeStyleSheet.prototype.implementsGoogStringTypedString=!0,goog.html.SafeStyleSheet.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeStyleSheet.createRule=function(e,t){if(goog.string.internal.contains(e,"<"))throw Error("Selector does not allow '<', got: "+e);var r=e.replace(/('|")((?!\1)[^\r\n\f\\]|\\[\s\S])*\1/g,"");if(!/^[-_a-zA-Z0-9#.:* ,>+~[\]()=^$|]+$/.test(r))throw Error("Selector allows only [-_a-zA-Z0-9#.:* ,>+~[\\]()=^$|] and strings, got: "+e);if(!goog.html.SafeStyleSheet.hasBalancedBrackets_(r))throw Error("() and [] in selector must be balanced, got: "+e);return t instanceof goog.html.SafeStyle||(t=goog.html.SafeStyle.create(t)),e=e+"{"+goog.html.SafeStyle.unwrap(t).replace(/</g,"\\3C ")+"}",goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(e)},goog.html.SafeStyleSheet.hasBalancedBrackets_=function(e){for(var t={"(":")","[":"]"},r=[],o=0;o<e.length;o++){var n=e[o];if(t[n])r.push(t[n]);else if(goog.object.contains(t,n)&&r.pop()!=n)return!1}return 0==r.length},goog.html.SafeStyleSheet.concat=function(e){var t="",r=function(e){goog.isArray(e)?goog.array.forEach(e,r):t+=goog.html.SafeStyleSheet.unwrap(e)};return goog.array.forEach(arguments,r),goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(t)},goog.html.SafeStyleSheet.fromConstant=function(e){return 0===(e=goog.string.Const.unwrap(e)).length?goog.html.SafeStyleSheet.EMPTY:(goog.asserts.assert(!goog.string.internal.contains(e,"<"),"Forbidden '<' character in style sheet string: "+e),goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(e))},goog.html.SafeStyleSheet.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_},goog.DEBUG&&(goog.html.SafeStyleSheet.prototype.toString=function(){return"SafeStyleSheet{"+this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_+"}"}),goog.html.SafeStyleSheet.unwrap=function(e){return e instanceof goog.html.SafeStyleSheet&&e.constructor===goog.html.SafeStyleSheet&&e.SAFE_STYLE_SHEET_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeStyleSheet.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?e.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_:(goog.asserts.fail("expected object of type SafeStyleSheet, got '"+e+"' of type "+goog.typeOf(e)),"type_error:SafeStyleSheet")},goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse=function(e){return(new goog.html.SafeStyleSheet).initSecurityPrivateDoNotAccessOrElse_(e)},goog.html.SafeStyleSheet.prototype.initSecurityPrivateDoNotAccessOrElse_=function(e){return this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_=e,this},goog.html.SafeStyleSheet.EMPTY=goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(""),goog.labs={},goog.labs.userAgent={},goog.labs.userAgent.util={},goog.labs.userAgent.util.getNativeUserAgentString_=function(){var e=goog.labs.userAgent.util.getNavigator_();return e&&(e=e.userAgent)?e:""},goog.labs.userAgent.util.getNavigator_=function(){return goog.global.navigator},goog.labs.userAgent.util.userAgent_=goog.labs.userAgent.util.getNativeUserAgentString_(),goog.labs.userAgent.util.setUserAgent=function(e){goog.labs.userAgent.util.userAgent_=e||goog.labs.userAgent.util.getNativeUserAgentString_()},goog.labs.userAgent.util.getUserAgent=function(){return goog.labs.userAgent.util.userAgent_},goog.labs.userAgent.util.matchUserAgent=function(e){var t=goog.labs.userAgent.util.getUserAgent();return goog.string.internal.contains(t,e)},goog.labs.userAgent.util.matchUserAgentIgnoreCase=function(e){var t=goog.labs.userAgent.util.getUserAgent();return goog.string.internal.caseInsensitiveContains(t,e)},goog.labs.userAgent.util.extractVersionTuples=function(e){for(var t,r=/(\w[\w ]+)\/([^\s]+)\s*(?:\((.*?)\))?/g,o=[];t=r.exec(e);)o.push([t[1],t[2],t[3]||void 0]);return o},goog.labs.userAgent.browser={},goog.labs.userAgent.browser.matchOpera_=function(){return goog.labs.userAgent.util.matchUserAgent("Opera")},goog.labs.userAgent.browser.matchIE_=function(){return goog.labs.userAgent.util.matchUserAgent("Trident")||goog.labs.userAgent.util.matchUserAgent("MSIE")},goog.labs.userAgent.browser.matchEdgeHtml_=function(){return goog.labs.userAgent.util.matchUserAgent("Edge")},goog.labs.userAgent.browser.matchEdgeChromium_=function(){return goog.labs.userAgent.util.matchUserAgent("Edg/")},goog.labs.userAgent.browser.matchOperaChromium_=function(){return goog.labs.userAgent.util.matchUserAgent("OPR")},goog.labs.userAgent.browser.matchFirefox_=function(){return goog.labs.userAgent.util.matchUserAgent("Firefox")||goog.labs.userAgent.util.matchUserAgent("FxiOS")},goog.labs.userAgent.browser.matchSafari_=function(){return goog.labs.userAgent.util.matchUserAgent("Safari")&&!(goog.labs.userAgent.browser.matchChrome_()||goog.labs.userAgent.browser.matchCoast_()||goog.labs.userAgent.browser.matchOpera_()||goog.labs.userAgent.browser.matchEdgeHtml_()||goog.labs.userAgent.browser.matchEdgeChromium_()||goog.labs.userAgent.browser.matchOperaChromium_()||goog.labs.userAgent.browser.matchFirefox_()||goog.labs.userAgent.browser.isSilk()||goog.labs.userAgent.util.matchUserAgent("Android"))},goog.labs.userAgent.browser.matchCoast_=function(){return goog.labs.userAgent.util.matchUserAgent("Coast")},goog.labs.userAgent.browser.matchIosWebview_=function(){return(goog.labs.userAgent.util.matchUserAgent("iPad")||goog.labs.userAgent.util.matchUserAgent("iPhone"))&&!goog.labs.userAgent.browser.matchSafari_()&&!goog.labs.userAgent.browser.matchChrome_()&&!goog.labs.userAgent.browser.matchCoast_()&&!goog.labs.userAgent.browser.matchFirefox_()&&goog.labs.userAgent.util.matchUserAgent("AppleWebKit")},goog.labs.userAgent.browser.matchChrome_=function(){return(goog.labs.userAgent.util.matchUserAgent("Chrome")||goog.labs.userAgent.util.matchUserAgent("CriOS"))&&!goog.labs.userAgent.browser.matchEdgeHtml_()},goog.labs.userAgent.browser.matchAndroidBrowser_=function(){return goog.labs.userAgent.util.matchUserAgent("Android")&&!(goog.labs.userAgent.browser.isChrome()||goog.labs.userAgent.browser.isFirefox()||goog.labs.userAgent.browser.isOpera()||goog.labs.userAgent.browser.isSilk())},goog.labs.userAgent.browser.isOpera=goog.labs.userAgent.browser.matchOpera_,goog.labs.userAgent.browser.isIE=goog.labs.userAgent.browser.matchIE_,goog.labs.userAgent.browser.isEdge=goog.labs.userAgent.browser.matchEdgeHtml_,goog.labs.userAgent.browser.isEdgeChromium=goog.labs.userAgent.browser.matchEdgeChromium_,goog.labs.userAgent.browser.isOperaChromium=goog.labs.userAgent.browser.matchOperaChromium_,goog.labs.userAgent.browser.isFirefox=goog.labs.userAgent.browser.matchFirefox_,goog.labs.userAgent.browser.isSafari=goog.labs.userAgent.browser.matchSafari_,goog.labs.userAgent.browser.isCoast=goog.labs.userAgent.browser.matchCoast_,goog.labs.userAgent.browser.isIosWebview=goog.labs.userAgent.browser.matchIosWebview_,goog.labs.userAgent.browser.isChrome=goog.labs.userAgent.browser.matchChrome_,goog.labs.userAgent.browser.isAndroidBrowser=goog.labs.userAgent.browser.matchAndroidBrowser_,goog.labs.userAgent.browser.isSilk=function(){return goog.labs.userAgent.util.matchUserAgent("Silk")},goog.labs.userAgent.browser.getVersion=function(){function e(e){return e=goog.array.find(e,o),r[e]||""}var t=goog.labs.userAgent.util.getUserAgent();if(goog.labs.userAgent.browser.isIE())return goog.labs.userAgent.browser.getIEVersion_(t);t=goog.labs.userAgent.util.extractVersionTuples(t);var r={};goog.array.forEach(t,(function(e){r[e[0]]=e[1]}));var o=goog.partial(goog.object.containsKey,r);return goog.labs.userAgent.browser.isOpera()?e(["Version","Opera"]):goog.labs.userAgent.browser.isEdge()?e(["Edge"]):goog.labs.userAgent.browser.isEdgeChromium()?e(["Edg"]):goog.labs.userAgent.browser.isChrome()?e(["Chrome","CriOS"]):(t=t[2])&&t[1]||""},goog.labs.userAgent.browser.isVersionOrHigher=function(e){return 0<=goog.string.internal.compareVersions(goog.labs.userAgent.browser.getVersion(),e)},goog.labs.userAgent.browser.getIEVersion_=function(e){var t=/rv: *([\d\.]*)/.exec(e);if(t&&t[1])return t[1];t="";var r=/MSIE +([\d\.]+)/.exec(e);if(r&&r[1])if(e=/Trident\/(\d.\d)/.exec(e),"7.0"==r[1])if(e&&e[1])switch(e[1]){case"4.0":t="8.0";break;case"5.0":t="9.0";break;case"6.0":t="10.0";break;case"7.0":t="11.0"}else t="7.0";else t=r[1];return t},goog.html.SafeHtml=function(){this.privateDoNotAccessOrElseSafeHtmlWrappedValue_="",this.SAFE_HTML_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeHtml.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_,this.dir_=null},goog.html.SafeHtml.prototype.implementsGoogI18nBidiDirectionalString=!0,goog.html.SafeHtml.prototype.getDirection=function(){return this.dir_},goog.html.SafeHtml.prototype.implementsGoogStringTypedString=!0,goog.html.SafeHtml.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeHtmlWrappedValue_.toString()},goog.DEBUG&&(goog.html.SafeHtml.prototype.toString=function(){return"SafeHtml{"+this.privateDoNotAccessOrElseSafeHtmlWrappedValue_+"}"}),goog.html.SafeHtml.unwrap=function(e){return goog.html.SafeHtml.unwrapTrustedHTML(e).toString()},goog.html.SafeHtml.unwrapTrustedHTML=function(e){return e instanceof goog.html.SafeHtml&&e.constructor===goog.html.SafeHtml&&e.SAFE_HTML_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeHtml.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?e.privateDoNotAccessOrElseSafeHtmlWrappedValue_:(goog.asserts.fail("expected object of type SafeHtml, got '"+e+"' of type "+goog.typeOf(e)),"type_error:SafeHtml")},goog.html.SafeHtml.htmlEscape=function(e){if(e instanceof goog.html.SafeHtml)return e;var t="object"==typeof e,r=null;return t&&e.implementsGoogI18nBidiDirectionalString&&(r=e.getDirection()),e=t&&e.implementsGoogStringTypedString?e.getTypedStringValue():String(e),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(goog.string.internal.htmlEscape(e),r)},goog.html.SafeHtml.htmlEscapePreservingNewlines=function(e){return e instanceof goog.html.SafeHtml?e:(e=goog.html.SafeHtml.htmlEscape(e),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(goog.string.internal.newLineToBr(goog.html.SafeHtml.unwrap(e)),e.getDirection()))},goog.html.SafeHtml.htmlEscapePreservingNewlinesAndSpaces=function(e){return e instanceof goog.html.SafeHtml?e:(e=goog.html.SafeHtml.htmlEscape(e),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(goog.string.internal.whitespaceEscape(goog.html.SafeHtml.unwrap(e)),e.getDirection()))},goog.html.SafeHtml.from=goog.html.SafeHtml.htmlEscape,goog.html.SafeHtml.VALID_NAMES_IN_TAG_=/^[a-zA-Z0-9-]+$/,goog.html.SafeHtml.URL_ATTRIBUTES_={action:!0,cite:!0,data:!0,formaction:!0,href:!0,manifest:!0,poster:!0,src:!0},goog.html.SafeHtml.NOT_ALLOWED_TAG_NAMES_={APPLET:!0,BASE:!0,EMBED:!0,IFRAME:!0,LINK:!0,MATH:!0,META:!0,OBJECT:!0,SCRIPT:!0,STYLE:!0,SVG:!0,TEMPLATE:!0},goog.html.SafeHtml.create=function(e,t,r){return goog.html.SafeHtml.verifyTagName(String(e)),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse(String(e),t,r)},goog.html.SafeHtml.verifyTagName=function(e){if(!goog.html.SafeHtml.VALID_NAMES_IN_TAG_.test(e))throw Error("Invalid tag name <"+e+">.");if(e.toUpperCase()in goog.html.SafeHtml.NOT_ALLOWED_TAG_NAMES_)throw Error("Tag name <"+e+"> is not allowed for SafeHtml.")},goog.html.SafeHtml.createIframe=function(e,t,r,o){e&&goog.html.TrustedResourceUrl.unwrap(e);var n={};return n.src=e||null,n.srcdoc=t&&goog.html.SafeHtml.unwrap(t),e=goog.html.SafeHtml.combineAttributes(n,{sandbox:""},r),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("iframe",e,o)},goog.html.SafeHtml.createSandboxIframe=function(e,t,r,o){if(!goog.html.SafeHtml.canUseSandboxIframe())throw Error("The browser does not support sandboxed iframes.");var n={};return n.src=e?goog.html.SafeUrl.unwrap(goog.html.SafeUrl.sanitize(e)):null,n.srcdoc=t||null,n.sandbox="",e=goog.html.SafeHtml.combineAttributes(n,{},r),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("iframe",e,o)},goog.html.SafeHtml.canUseSandboxIframe=function(){return goog.global.HTMLIFrameElement&&"sandbox"in goog.global.HTMLIFrameElement.prototype},goog.html.SafeHtml.createScriptSrc=function(e,t){return goog.html.TrustedResourceUrl.unwrap(e),e=goog.html.SafeHtml.combineAttributes({src:e},{},t),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("script",e)},goog.html.SafeHtml.createScript=function(e,t){for(var r in t){var o=r.toLowerCase();if("language"==o||"src"==o||"text"==o||"type"==o)throw Error('Cannot set "'+o+'" attribute')}for(r="",e=goog.array.concat(e),o=0;o<e.length;o++)r+=goog.html.SafeScript.unwrap(e[o]);return e=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(r,goog.i18n.bidi.Dir.NEUTRAL),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("script",t,e)},goog.html.SafeHtml.createStyle=function(e,t){t=goog.html.SafeHtml.combineAttributes({type:"text/css"},{},t);var r="";e=goog.array.concat(e);for(var o=0;o<e.length;o++)r+=goog.html.SafeStyleSheet.unwrap(e[o]);return e=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(r,goog.i18n.bidi.Dir.NEUTRAL),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("style",t,e)},goog.html.SafeHtml.createMetaRefresh=function(e,t){return e=goog.html.SafeUrl.unwrap(goog.html.SafeUrl.sanitize(e)),(goog.labs.userAgent.browser.isIE()||goog.labs.userAgent.browser.isEdge())&&goog.string.internal.contains(e,";")&&(e="'"+e.replace(/'/g,"%27")+"'"),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("meta",{"http-equiv":"refresh",content:(t||0)+"; url="+e})},goog.html.SafeHtml.getAttrNameAndValue_=function(e,t,r){if(r instanceof goog.string.Const)r=goog.string.Const.unwrap(r);else if("style"==t.toLowerCase())r=goog.html.SafeHtml.getStyleValue_(r);else{if(/^on/i.test(t))throw Error('Attribute "'+t+'" requires goog.string.Const value, "'+r+'" given.');if(t.toLowerCase()in goog.html.SafeHtml.URL_ATTRIBUTES_)if(r instanceof goog.html.TrustedResourceUrl)r=goog.html.TrustedResourceUrl.unwrap(r);else if(r instanceof goog.html.SafeUrl)r=goog.html.SafeUrl.unwrap(r);else{if(!goog.isString(r))throw Error('Attribute "'+t+'" on tag "'+e+'" requires goog.html.SafeUrl, goog.string.Const, or string, value "'+r+'" given.');r=goog.html.SafeUrl.sanitize(r).getTypedStringValue()}}return r.implementsGoogStringTypedString&&(r=r.getTypedStringValue()),goog.asserts.assert(goog.isString(r)||goog.isNumber(r),"String or number value expected, got "+typeof r+" with value: "+r),t+'="'+goog.string.internal.htmlEscape(String(r))+'"'},goog.html.SafeHtml.getStyleValue_=function(e){if(!goog.isObject(e))throw Error('The "style" attribute requires goog.html.SafeStyle or map of style properties, '+typeof e+" given: "+e);return e instanceof goog.html.SafeStyle||(e=goog.html.SafeStyle.create(e)),goog.html.SafeStyle.unwrap(e)},goog.html.SafeHtml.createWithDir=function(e,t,r,o){return(t=goog.html.SafeHtml.create(t,r,o)).dir_=e,t},goog.html.SafeHtml.join=function(e,t){var r=(e=goog.html.SafeHtml.htmlEscape(e)).getDirection(),o=[],n=function(e){goog.isArray(e)?goog.array.forEach(e,n):(e=goog.html.SafeHtml.htmlEscape(e),o.push(goog.html.SafeHtml.unwrap(e)),e=e.getDirection(),r==goog.i18n.bidi.Dir.NEUTRAL?r=e:e!=goog.i18n.bidi.Dir.NEUTRAL&&r!=e&&(r=null))};return goog.array.forEach(t,n),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(o.join(goog.html.SafeHtml.unwrap(e)),r)},goog.html.SafeHtml.concat=function(e){return goog.html.SafeHtml.join(goog.html.SafeHtml.EMPTY,Array.prototype.slice.call(arguments))},goog.html.SafeHtml.concatWithDir=function(e,t){var r=goog.html.SafeHtml.concat(goog.array.slice(arguments,1));return r.dir_=e,r},goog.html.SafeHtml.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse=function(e,t){return(new goog.html.SafeHtml).initSecurityPrivateDoNotAccessOrElse_(e,t)},goog.html.SafeHtml.prototype.initSecurityPrivateDoNotAccessOrElse_=function(e,t){return this.privateDoNotAccessOrElseSafeHtmlWrappedValue_=goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY?goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY.createHTML(e):e,this.dir_=t,this},goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse=function(e,t,r){var o=null,n="<"+e+goog.html.SafeHtml.stringifyAttributes(e,t);return goog.isDefAndNotNull(r)?goog.isArray(r)||(r=[r]):r=[],goog.dom.tags.isVoidTag(e.toLowerCase())?(goog.asserts.assert(!r.length,"Void tag <"+e+"> does not allow content."),n+=">"):(o=goog.html.SafeHtml.concat(r),n+=">"+goog.html.SafeHtml.unwrap(o)+"</"+e+">",o=o.getDirection()),(e=t&&t.dir)&&(o=/^(ltr|rtl|auto)$/i.test(e)?goog.i18n.bidi.Dir.NEUTRAL:null),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(n,o)},goog.html.SafeHtml.stringifyAttributes=function(e,t){var r="";if(t)for(var o in t){if(!goog.html.SafeHtml.VALID_NAMES_IN_TAG_.test(o))throw Error('Invalid attribute name "'+o+'".');var n=t[o];goog.isDefAndNotNull(n)&&(r+=" "+goog.html.SafeHtml.getAttrNameAndValue_(e,o,n))}return r},goog.html.SafeHtml.combineAttributes=function(e,t,r){var o,n={};for(o in e)goog.asserts.assert(o.toLowerCase()==o,"Must be lower case"),n[o]=e[o];for(o in t)goog.asserts.assert(o.toLowerCase()==o,"Must be lower case"),n[o]=t[o];for(o in r){var i=o.toLowerCase();if(i in e)throw Error('Cannot override "'+i+'" attribute, got "'+o+'" with value "'+r[o]+'"');i in t&&delete n[i],n[o]=r[o]}return n},goog.html.SafeHtml.DOCTYPE_HTML=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse("<!DOCTYPE html>",goog.i18n.bidi.Dir.NEUTRAL),goog.html.SafeHtml.EMPTY=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse("",goog.i18n.bidi.Dir.NEUTRAL),goog.html.SafeHtml.BR=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse("<br>",goog.i18n.bidi.Dir.NEUTRAL),goog.html.uncheckedconversions={},goog.html.uncheckedconversions.safeHtmlFromStringKnownToSatisfyTypeContract=function(e,t,r){return goog.asserts.assertString(goog.string.Const.unwrap(e),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(e)),"must provide non-empty justification"),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(t,r||null)},goog.html.uncheckedconversions.safeScriptFromStringKnownToSatisfyTypeContract=function(e,t){return goog.asserts.assertString(goog.string.Const.unwrap(e),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(e)),"must provide non-empty justification"),goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(t)},goog.html.uncheckedconversions.safeStyleFromStringKnownToSatisfyTypeContract=function(e,t){return goog.asserts.assertString(goog.string.Const.unwrap(e),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(e)),"must provide non-empty justification"),goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(t)},goog.html.uncheckedconversions.safeStyleSheetFromStringKnownToSatisfyTypeContract=function(e,t){return goog.asserts.assertString(goog.string.Const.unwrap(e),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(e)),"must provide non-empty justification"),goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(t)},goog.html.uncheckedconversions.safeUrlFromStringKnownToSatisfyTypeContract=function(e,t){return goog.asserts.assertString(goog.string.Const.unwrap(e),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(e)),"must provide non-empty justification"),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(t)},goog.html.uncheckedconversions.trustedResourceUrlFromStringKnownToSatisfyTypeContract=function(e,t){return goog.asserts.assertString(goog.string.Const.unwrap(e),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(e)),"must provide non-empty justification"),goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(t)},goog.dom.safe={},goog.dom.safe.InsertAdjacentHtmlPosition={AFTERBEGIN:"afterbegin",AFTEREND:"afterend",BEFOREBEGIN:"beforebegin",BEFOREEND:"beforeend"},goog.dom.safe.insertAdjacentHtml=function(e,t,r){e.insertAdjacentHTML(t,goog.html.SafeHtml.unwrapTrustedHTML(r))},goog.dom.safe.SET_INNER_HTML_DISALLOWED_TAGS_={MATH:!0,SCRIPT:!0,STYLE:!0,SVG:!0,TEMPLATE:!0},goog.dom.safe.isInnerHtmlCleanupRecursive_=goog.functions.cacheReturnValue((function(){if(goog.DEBUG&&"undefined"==typeof document)return!1;var e=document.createElement("div"),t=document.createElement("div");return t.appendChild(document.createElement("div")),e.appendChild(t),!(goog.DEBUG&&!e.firstChild||(t=e.firstChild.firstChild,e.innerHTML=goog.html.SafeHtml.unwrapTrustedHTML(goog.html.SafeHtml.EMPTY),t.parentElement))})),goog.dom.safe.unsafeSetInnerHtmlDoNotUseOrElse=function(e,t){if(goog.dom.safe.isInnerHtmlCleanupRecursive_())for(;e.lastChild;)e.removeChild(e.lastChild);e.innerHTML=goog.html.SafeHtml.unwrapTrustedHTML(t)},goog.dom.safe.setInnerHtml=function(e,t){if(goog.asserts.ENABLE_ASSERTS){var r=e.tagName.toUpperCase();if(goog.dom.safe.SET_INNER_HTML_DISALLOWED_TAGS_[r])throw Error("goog.dom.safe.setInnerHtml cannot be used to set content of "+e.tagName+".")}goog.dom.safe.unsafeSetInnerHtmlDoNotUseOrElse(e,t)},goog.dom.safe.setOuterHtml=function(e,t){e.outerHTML=goog.html.SafeHtml.unwrapTrustedHTML(t)},goog.dom.safe.setFormElementAction=function(e,t){t=t instanceof goog.html.SafeUrl?t:goog.html.SafeUrl.sanitizeAssertUnchanged(t),goog.dom.asserts.assertIsHTMLFormElement(e).action=goog.html.SafeUrl.unwrapTrustedURL(t)},goog.dom.safe.setButtonFormAction=function(e,t){t=t instanceof goog.html.SafeUrl?t:goog.html.SafeUrl.sanitizeAssertUnchanged(t),goog.dom.asserts.assertIsHTMLButtonElement(e).formAction=goog.html.SafeUrl.unwrapTrustedURL(t)},goog.dom.safe.setInputFormAction=function(e,t){t=t instanceof goog.html.SafeUrl?t:goog.html.SafeUrl.sanitizeAssertUnchanged(t),goog.dom.asserts.assertIsHTMLInputElement(e).formAction=goog.html.SafeUrl.unwrapTrustedURL(t)},goog.dom.safe.setStyle=function(e,t){e.style.cssText=goog.html.SafeStyle.unwrap(t)},goog.dom.safe.documentWrite=function(e,t){e.write(goog.html.SafeHtml.unwrapTrustedHTML(t))},goog.dom.safe.setAnchorHref=function(e,t){goog.dom.asserts.assertIsHTMLAnchorElement(e),t=t instanceof goog.html.SafeUrl?t:goog.html.SafeUrl.sanitizeAssertUnchanged(t),e.href=goog.html.SafeUrl.unwrapTrustedURL(t)},goog.dom.safe.setImageSrc=function(e,t){if(goog.dom.asserts.assertIsHTMLImageElement(e),!(t instanceof goog.html.SafeUrl)){var r=/^data:image\//i.test(t);t=goog.html.SafeUrl.sanitizeAssertUnchanged(t,r)}e.src=goog.html.SafeUrl.unwrapTrustedURL(t)},goog.dom.safe.setAudioSrc=function(e,t){if(goog.dom.asserts.assertIsHTMLAudioElement(e),!(t instanceof goog.html.SafeUrl)){var r=/^data:audio\//i.test(t);t=goog.html.SafeUrl.sanitizeAssertUnchanged(t,r)}e.src=goog.html.SafeUrl.unwrapTrustedURL(t)},goog.dom.safe.setVideoSrc=function(e,t){if(goog.dom.asserts.assertIsHTMLVideoElement(e),!(t instanceof goog.html.SafeUrl)){var r=/^data:video\//i.test(t);t=goog.html.SafeUrl.sanitizeAssertUnchanged(t,r)}e.src=goog.html.SafeUrl.unwrapTrustedURL(t)},goog.dom.safe.setEmbedSrc=function(e,t){goog.dom.asserts.assertIsHTMLEmbedElement(e),e.src=goog.html.TrustedResourceUrl.unwrapTrustedScriptURL(t)},goog.dom.safe.setFrameSrc=function(e,t){goog.dom.asserts.assertIsHTMLFrameElement(e),e.src=goog.html.TrustedResourceUrl.unwrapTrustedURL(t)},goog.dom.safe.setIframeSrc=function(e,t){goog.dom.asserts.assertIsHTMLIFrameElement(e),e.src=goog.html.TrustedResourceUrl.unwrapTrustedURL(t)},goog.dom.safe.setIframeSrcdoc=function(e,t){goog.dom.asserts.assertIsHTMLIFrameElement(e),e.srcdoc=goog.html.SafeHtml.unwrapTrustedHTML(t)},goog.dom.safe.setLinkHrefAndRel=function(e,t,r){goog.dom.asserts.assertIsHTMLLinkElement(e),e.rel=r,goog.string.internal.caseInsensitiveContains(r,"stylesheet")?(goog.asserts.assert(t instanceof goog.html.TrustedResourceUrl,'URL must be TrustedResourceUrl because "rel" contains "stylesheet"'),e.href=goog.html.TrustedResourceUrl.unwrapTrustedURL(t)):e.href=t instanceof goog.html.TrustedResourceUrl?goog.html.TrustedResourceUrl.unwrapTrustedURL(t):t instanceof goog.html.SafeUrl?goog.html.SafeUrl.unwrapTrustedURL(t):goog.html.SafeUrl.unwrapTrustedURL(goog.html.SafeUrl.sanitizeAssertUnchanged(t))},goog.dom.safe.setObjectData=function(e,t){goog.dom.asserts.assertIsHTMLObjectElement(e),e.data=goog.html.TrustedResourceUrl.unwrapTrustedScriptURL(t)},goog.dom.safe.setScriptSrc=function(e,t){goog.dom.asserts.assertIsHTMLScriptElement(e),e.src=goog.html.TrustedResourceUrl.unwrapTrustedScriptURL(t),(t=goog.getScriptNonce())&&e.setAttribute("nonce",t)},goog.dom.safe.setScriptContent=function(e,t){goog.dom.asserts.assertIsHTMLScriptElement(e),e.text=goog.html.SafeScript.unwrapTrustedScript(t),(t=goog.getScriptNonce())&&e.setAttribute("nonce",t)},goog.dom.safe.setLocationHref=function(e,t){goog.dom.asserts.assertIsLocation(e),t=t instanceof goog.html.SafeUrl?t:goog.html.SafeUrl.sanitizeAssertUnchanged(t),e.href=goog.html.SafeUrl.unwrapTrustedURL(t)},goog.dom.safe.assignLocation=function(e,t){goog.dom.asserts.assertIsLocation(e),t=t instanceof goog.html.SafeUrl?t:goog.html.SafeUrl.sanitizeAssertUnchanged(t),e.assign(goog.html.SafeUrl.unwrapTrustedURL(t))},goog.dom.safe.replaceLocation=function(e,t){goog.dom.asserts.assertIsLocation(e),t=t instanceof goog.html.SafeUrl?t:goog.html.SafeUrl.sanitizeAssertUnchanged(t),e.replace(goog.html.SafeUrl.unwrapTrustedURL(t))},goog.dom.safe.openInWindow=function(e,t,r,o,n){return e=e instanceof goog.html.SafeUrl?e:goog.html.SafeUrl.sanitizeAssertUnchanged(e),(t||goog.global).open(goog.html.SafeUrl.unwrapTrustedURL(e),r?goog.string.Const.unwrap(r):"",o,n)},goog.dom.safe.parseFromStringHtml=function(e,t){return goog.dom.safe.parseFromString(e,t,"text/html")},goog.dom.safe.parseFromString=function(e,t,r){return e.parseFromString(goog.html.SafeHtml.unwrapTrustedHTML(t),r)},goog.dom.safe.createImageFromBlob=function(e){if(!/^image\/.*/g.test(e.type))throw Error("goog.dom.safe.createImageFromBlob only accepts MIME type image/.*.");var t=goog.global.URL.createObjectURL(e);return(e=new goog.global.Image).onload=function(){goog.global.URL.revokeObjectURL(t)},goog.dom.safe.setImageSrc(e,goog.html.uncheckedconversions.safeUrlFromStringKnownToSatisfyTypeContract(goog.string.Const.from("Image blob URL."),t)),e},goog.string.DETECT_DOUBLE_ESCAPING=!1,goog.string.FORCE_NON_DOM_HTML_UNESCAPING=!1,goog.string.Unicode={NBSP:""},goog.string.startsWith=goog.string.internal.startsWith,goog.string.endsWith=goog.string.internal.endsWith,goog.string.caseInsensitiveStartsWith=goog.string.internal.caseInsensitiveStartsWith,goog.string.caseInsensitiveEndsWith=goog.string.internal.caseInsensitiveEndsWith,goog.string.caseInsensitiveEquals=goog.string.internal.caseInsensitiveEquals,goog.string.subs=function(e,t){for(var r=e.split("%s"),o="",n=Array.prototype.slice.call(arguments,1);n.length&&1<r.length;)o+=r.shift()+n.shift();return o+r.join("%s")},goog.string.collapseWhitespace=function(e){return e.replace(/[\s\xa0]+/g," ").replace(/^\s+|\s+$/g,"")},goog.string.isEmptyOrWhitespace=goog.string.internal.isEmptyOrWhitespace,goog.string.isEmptyString=function(e){return 0==e.length},goog.string.isEmpty=goog.string.isEmptyOrWhitespace,goog.string.isEmptyOrWhitespaceSafe=function(e){return goog.string.isEmptyOrWhitespace(goog.string.makeSafe(e))},goog.string.isEmptySafe=goog.string.isEmptyOrWhitespaceSafe,goog.string.isBreakingWhitespace=function(e){return!/[^\t\n\r ]/.test(e)},goog.string.isAlpha=function(e){return!/[^a-zA-Z]/.test(e)},goog.string.isNumeric=function(e){return!/[^0-9]/.test(e)},goog.string.isAlphaNumeric=function(e){return!/[^a-zA-Z0-9]/.test(e)},goog.string.isSpace=function(e){return" "==e},goog.string.isUnicodeChar=function(e){return 1==e.length&&" "<=e&&"~">=e||""<=e&&"">=e},goog.string.stripNewlines=function(e){return e.replace(/(\r\n|\r|\n)+/g," ")},goog.string.canonicalizeNewlines=function(e){return e.replace(/(\r\n|\r|\n)/g,"\n")},goog.string.normalizeWhitespace=function(e){return e.replace(/\xa0|\s/g," ")},goog.string.normalizeSpaces=function(e){return e.replace(/\xa0|[ \t]+/g," ")},goog.string.collapseBreakingSpaces=function(e){return e.replace(/[\t\r\n ]+/g," ").replace(/^[\t\r\n ]+|[\t\r\n ]+$/g,"")},goog.string.trim=goog.string.internal.trim,goog.string.trimLeft=function(e){return e.replace(/^[\s\xa0]+/,"")},goog.string.trimRight=function(e){return e.replace(/[\s\xa0]+$/,"")},goog.string.caseInsensitiveCompare=goog.string.internal.caseInsensitiveCompare,goog.string.numberAwareCompare_=function(e,t,r){if(e==t)return 0;if(!e)return-1;if(!t)return 1;for(var o=e.toLowerCase().match(r),n=t.toLowerCase().match(r),i=Math.min(o.length,n.length),s=0;s<i;s++){r=o[s];var a=n[s];if(r!=a)return e=parseInt(r,10),!isNaN(e)&&(t=parseInt(a,10),!isNaN(t)&&e-t)?e-t:r<a?-1:1}return o.length!=n.length?o.length-n.length:e<t?-1:1},goog.string.intAwareCompare=function(e,t){return goog.string.numberAwareCompare_(e,t,/\d+|\D+/g)},goog.string.floatAwareCompare=function(e,t){return goog.string.numberAwareCompare_(e,t,/\d+|\.\d+|\D+/g)},goog.string.numerateCompare=goog.string.floatAwareCompare,goog.string.urlEncode=function(e){return encodeURIComponent(String(e))},goog.string.urlDecode=function(e){return decodeURIComponent(e.replace(/\+/g," "))},goog.string.newLineToBr=goog.string.internal.newLineToBr,goog.string.htmlEscape=function(e,t){return e=goog.string.internal.htmlEscape(e,t),goog.string.DETECT_DOUBLE_ESCAPING&&(e=e.replace(goog.string.E_RE_,"&#101;")),e},goog.string.E_RE_=/e/g,goog.string.unescapeEntities=function(e){return goog.string.contains(e,"&")?!goog.string.FORCE_NON_DOM_HTML_UNESCAPING&&"document"in goog.global?goog.string.unescapeEntitiesUsingDom_(e):goog.string.unescapePureXmlEntities_(e):e},goog.string.unescapeEntitiesWithDocument=function(e,t){return goog.string.contains(e,"&")?goog.string.unescapeEntitiesUsingDom_(e,t):e},goog.string.unescapeEntitiesUsingDom_=function(e,t){var r={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"'},o=t?t.createElement("div"):goog.global.document.createElement("div");return e.replace(goog.string.HTML_ENTITY_PATTERN_,(function(e,t){var n=r[e];return n||("#"==t.charAt(0)&&(t=Number("0"+t.substr(1)),isNaN(t)||(n=String.fromCharCode(t))),n||(goog.dom.safe.setInnerHtml(o,goog.html.uncheckedconversions.safeHtmlFromStringKnownToSatisfyTypeContract(goog.string.Const.from("Single HTML entity."),e+" ")),n=o.firstChild.nodeValue.slice(0,-1)),r[e]=n)}))},goog.string.unescapePureXmlEntities_=function(e){return e.replace(/&([^;]+);/g,(function(e,t){switch(t){case"amp":return"&";case"lt":return"<";case"gt":return">";case"quot":return'"';default:return"#"!=t.charAt(0)||(t=Number("0"+t.substr(1)),isNaN(t))?e:String.fromCharCode(t)}}))},goog.string.HTML_ENTITY_PATTERN_=/&([^;\s<&]+);?/g,goog.string.whitespaceEscape=function(e,t){return goog.string.newLineToBr(e.replace(/  /g," &#160;"),t)},goog.string.preserveSpaces=function(e){return e.replace(/(^|[\n ]) /g,"$1"+goog.string.Unicode.NBSP)},goog.string.stripQuotes=function(e,t){for(var r=t.length,o=0;o<r;o++){var n=1==r?t:t.charAt(o);if(e.charAt(0)==n&&e.charAt(e.length-1)==n)return e.substring(1,e.length-1)}return e},goog.string.truncate=function(e,t,r){return r&&(e=goog.string.unescapeEntities(e)),e.length>t&&(e=e.substring(0,t-3)+"..."),r&&(e=goog.string.htmlEscape(e)),e},goog.string.truncateMiddle=function(e,t,r,o){if(r&&(e=goog.string.unescapeEntities(e)),o&&e.length>t){o>t&&(o=t);var n=e.length-o;e=e.substring(0,t-o)+"..."+e.substring(n)}else e.length>t&&(o=Math.floor(t/2),n=e.length-o,e=e.substring(0,o+t%2)+"..."+e.substring(n));return r&&(e=goog.string.htmlEscape(e)),e},goog.string.specialEscapeChars_={"\0":"\\0","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\x0B",'"':'\\"',"\\":"\\\\","<":"\\u003C"},goog.string.jsEscapeCache_={"'":"\\'"},goog.string.quote=function(e){e=String(e);for(var t=['"'],r=0;r<e.length;r++){var o=e.charAt(r),n=o.charCodeAt(0);t[r+1]=goog.string.specialEscapeChars_[o]||(31<n&&127>n?o:goog.string.escapeChar(o))}return t.push('"'),t.join("")},goog.string.escapeString=function(e){for(var t=[],r=0;r<e.length;r++)t[r]=goog.string.escapeChar(e.charAt(r));return t.join("")},goog.string.escapeChar=function(e){if(e in goog.string.jsEscapeCache_)return goog.string.jsEscapeCache_[e];if(e in goog.string.specialEscapeChars_)return goog.string.jsEscapeCache_[e]=goog.string.specialEscapeChars_[e];var t=e.charCodeAt(0);if(31<t&&127>t)var r=e;else 256>t?(r="\\x",(16>t||256<t)&&(r+="0")):(r="\\u",4096>t&&(r+="0")),r+=t.toString(16).toUpperCase();return goog.string.jsEscapeCache_[e]=r},goog.string.contains=goog.string.internal.contains,goog.string.caseInsensitiveContains=goog.string.internal.caseInsensitiveContains,goog.string.countOf=function(e,t){return e&&t?e.split(t).length-1:0},goog.string.removeAt=function(e,t,r){var o=e;return 0<=t&&t<e.length&&0<r&&(o=e.substr(0,t)+e.substr(t+r,e.length-t-r)),o},goog.string.remove=function(e,t){return e.replace(t,"")},goog.string.removeAll=function(e,t){return t=new RegExp(goog.string.regExpEscape(t),"g"),e.replace(t,"")},goog.string.replaceAll=function(e,t,r){return t=new RegExp(goog.string.regExpEscape(t),"g"),e.replace(t,r.replace(/\$/g,"$$$$"))},goog.string.regExpEscape=function(e){return String(e).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},goog.string.repeat=String.prototype.repeat?function(e,t){return e.repeat(t)}:function(e,t){return Array(t+1).join(e)},goog.string.padNumber=function(e,t,r){return-1==(r=(e=goog.isDef(r)?e.toFixed(r):String(e)).indexOf("."))&&(r=e.length),goog.string.repeat("0",Math.max(0,t-r))+e},goog.string.makeSafe=function(e){return null==e?"":String(e)},goog.string.buildString=function(e){return Array.prototype.join.call(arguments,"")},goog.string.getRandomString=function(){return Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^goog.now()).toString(36)},goog.string.compareVersions=goog.string.internal.compareVersions,goog.string.hashCode=function(e){for(var t=0,r=0;r<e.length;++r)t=31*t+e.charCodeAt(r)>>>0;return t},goog.string.uniqueStringCounter_=2147483648*Math.random()|0,goog.string.createUniqueString=function(){return"goog_"+goog.string.uniqueStringCounter_++},goog.string.toNumber=function(e){var t=Number(e);return 0==t&&goog.string.isEmptyOrWhitespace(e)?NaN:t},goog.string.isLowerCamelCase=function(e){return/^[a-z]+([A-Z][a-z]*)*$/.test(e)},goog.string.isUpperCamelCase=function(e){return/^([A-Z][a-z]*)+$/.test(e)},goog.string.toCamelCase=function(e){return String(e).replace(/\-([a-z])/g,(function(e,t){return t.toUpperCase()}))},goog.string.toSelectorCase=function(e){return String(e).replace(/([A-Z])/g,"-$1").toLowerCase()},goog.string.toTitleCase=function(e,t){return t=goog.isString(t)?goog.string.regExpEscape(t):"\\s",e.replace(new RegExp("(^"+(t?"|["+t+"]+":"")+")([a-z])","g"),(function(e,t,r){return t+r.toUpperCase()}))},goog.string.capitalize=function(e){return String(e.charAt(0)).toUpperCase()+String(e.substr(1)).toLowerCase()},goog.string.parseInt=function(e){return isFinite(e)&&(e=String(e)),goog.isString(e)?/^\s*-?0x/i.test(e)?parseInt(e,16):parseInt(e,10):NaN},goog.string.splitLimit=function(e,t,r){e=e.split(t);for(var o=[];0<r&&e.length;)o.push(e.shift()),r--;return e.length&&o.push(e.join(t)),o},goog.string.lastComponent=function(e,t){if(!t)return e;"string"==typeof t&&(t=[t]);for(var r=-1,o=0;o<t.length;o++)if(""!=t[o]){var n=e.lastIndexOf(t[o]);n>r&&(r=n)}return-1==r?e:e.slice(r+1)},goog.string.editDistance=function(e,t){var r=[],o=[];if(e==t)return 0;if(!e.length||!t.length)return Math.max(e.length,t.length);for(var n=0;n<t.length+1;n++)r[n]=n;for(n=0;n<e.length;n++){o[0]=n+1;for(var i=0;i<t.length;i++)o[i+1]=Math.min(o[i]+1,r[i+1]+1,r[i]+Number(e[n]!=t[i]));for(i=0;i<r.length;i++)r[i]=o[i]}return o[t.length]},goog.labs.userAgent.engine={},goog.labs.userAgent.engine.isPresto=function(){return goog.labs.userAgent.util.matchUserAgent("Presto")},goog.labs.userAgent.engine.isTrident=function(){return goog.labs.userAgent.util.matchUserAgent("Trident")||goog.labs.userAgent.util.matchUserAgent("MSIE")},goog.labs.userAgent.engine.isEdge=function(){return goog.labs.userAgent.util.matchUserAgent("Edge")},goog.labs.userAgent.engine.isWebKit=function(){return goog.labs.userAgent.util.matchUserAgentIgnoreCase("WebKit")&&!goog.labs.userAgent.engine.isEdge()},goog.labs.userAgent.engine.isGecko=function(){return goog.labs.userAgent.util.matchUserAgent("Gecko")&&!goog.labs.userAgent.engine.isWebKit()&&!goog.labs.userAgent.engine.isTrident()&&!goog.labs.userAgent.engine.isEdge()},goog.labs.userAgent.engine.getVersion=function(){var e=goog.labs.userAgent.util.getUserAgent();if(e){e=goog.labs.userAgent.util.extractVersionTuples(e);var t,r=goog.labs.userAgent.engine.getEngineTuple_(e);if(r)return"Gecko"==r[0]?goog.labs.userAgent.engine.getVersionForKey_(e,"Firefox"):r[1];if((e=e[0])&&(t=e[2])&&(t=/Trident\/([^\s;]+)/.exec(t)))return t[1]}return""},goog.labs.userAgent.engine.getEngineTuple_=function(e){if(!goog.labs.userAgent.engine.isEdge())return e[1];for(var t=0;t<e.length;t++){var r=e[t];if("Edge"==r[0])return r}},goog.labs.userAgent.engine.isVersionOrHigher=function(e){return 0<=goog.string.compareVersions(goog.labs.userAgent.engine.getVersion(),e)},goog.labs.userAgent.engine.getVersionForKey_=function(e,t){return(e=goog.array.find(e,(function(e){return t==e[0]})))&&e[1]||""},goog.labs.userAgent.platform={},goog.labs.userAgent.platform.isAndroid=function(){return goog.labs.userAgent.util.matchUserAgent("Android")},goog.labs.userAgent.platform.isIpod=function(){return goog.labs.userAgent.util.matchUserAgent("iPod")},goog.labs.userAgent.platform.isIphone=function(){return goog.labs.userAgent.util.matchUserAgent("iPhone")&&!goog.labs.userAgent.util.matchUserAgent("iPod")&&!goog.labs.userAgent.util.matchUserAgent("iPad")},goog.labs.userAgent.platform.isIpad=function(){return goog.labs.userAgent.util.matchUserAgent("iPad")},goog.labs.userAgent.platform.isIos=function(){return goog.labs.userAgent.platform.isIphone()||goog.labs.userAgent.platform.isIpad()||goog.labs.userAgent.platform.isIpod()},goog.labs.userAgent.platform.isMacintosh=function(){return goog.labs.userAgent.util.matchUserAgent("Macintosh")},goog.labs.userAgent.platform.isLinux=function(){return goog.labs.userAgent.util.matchUserAgent("Linux")},goog.labs.userAgent.platform.isWindows=function(){return goog.labs.userAgent.util.matchUserAgent("Windows")},goog.labs.userAgent.platform.isChromeOS=function(){return goog.labs.userAgent.util.matchUserAgent("CrOS")},goog.labs.userAgent.platform.isChromecast=function(){return goog.labs.userAgent.util.matchUserAgent("CrKey")},goog.labs.userAgent.platform.isKaiOS=function(){return goog.labs.userAgent.util.matchUserAgentIgnoreCase("KaiOS")},goog.labs.userAgent.platform.isGo2Phone=function(){return goog.labs.userAgent.util.matchUserAgentIgnoreCase("GAFP")},goog.labs.userAgent.platform.getVersion=function(){var e=goog.labs.userAgent.util.getUserAgent(),t="";return goog.labs.userAgent.platform.isWindows()?t=(e=(t=/Windows (?:NT|Phone) ([0-9.]+)/).exec(e))?e[1]:"0.0":goog.labs.userAgent.platform.isIos()?t=(e=(t=/(?:iPhone|iPod|iPad|CPU)\s+OS\s+(\S+)/).exec(e))&&e[1].replace(/_/g,"."):goog.labs.userAgent.platform.isMacintosh()?t=(e=(t=/Mac OS X ([0-9_.]+)/).exec(e))?e[1].replace(/_/g,"."):"10":goog.labs.userAgent.platform.isKaiOS()?t=(e=(t=/(?:KaiOS)\/(\S+)/i).exec(e))&&e[1]:goog.labs.userAgent.platform.isAndroid()?t=(e=(t=/Android\s+([^\);]+)(\)|;)/).exec(e))&&e[1]:goog.labs.userAgent.platform.isChromeOS()&&(t=(e=(t=/(?:CrOS\s+(?:i686|x86_64)\s+([0-9.]+))/).exec(e))&&e[1]),t||""},goog.labs.userAgent.platform.isVersionOrHigher=function(e){return 0<=goog.string.compareVersions(goog.labs.userAgent.platform.getVersion(),e)},goog.reflect={},goog.reflect.object=function(e,t){return t},goog.reflect.objectProperty=function(e,t){return e},goog.reflect.sinkValue=function(e){return goog.reflect.sinkValue[" "](e),e},goog.reflect.sinkValue[" "]=goog.nullFunction,goog.reflect.canAccessProperty=function(e,t){try{return goog.reflect.sinkValue(e[t]),!0}catch(e){}return!1},goog.reflect.cache=function(e,t,r,o){return o=o?o(t):t,Object.prototype.hasOwnProperty.call(e,o)?e[o]:e[o]=r(t)},goog.userAgent={},goog.userAgent.ASSUME_IE=!1,goog.userAgent.ASSUME_EDGE=!1,goog.userAgent.ASSUME_GECKO=!1,goog.userAgent.ASSUME_WEBKIT=!1,goog.userAgent.ASSUME_MOBILE_WEBKIT=!1,goog.userAgent.ASSUME_OPERA=!1,goog.userAgent.ASSUME_ANY_VERSION=!1,goog.userAgent.BROWSER_KNOWN_=goog.userAgent.ASSUME_IE||goog.userAgent.ASSUME_EDGE||goog.userAgent.ASSUME_GECKO||goog.userAgent.ASSUME_MOBILE_WEBKIT||goog.userAgent.ASSUME_WEBKIT||goog.userAgent.ASSUME_OPERA,goog.userAgent.getUserAgentString=function(){return goog.labs.userAgent.util.getUserAgent()},goog.userAgent.getNavigatorTyped=function(){return goog.global.navigator||null},goog.userAgent.getNavigator=function(){return goog.userAgent.getNavigatorTyped()},goog.userAgent.OPERA=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_OPERA:goog.labs.userAgent.browser.isOpera(),goog.userAgent.IE=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_IE:goog.labs.userAgent.browser.isIE(),goog.userAgent.EDGE=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_EDGE:goog.labs.userAgent.engine.isEdge(),goog.userAgent.EDGE_OR_IE=goog.userAgent.EDGE||goog.userAgent.IE,goog.userAgent.GECKO=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_GECKO:goog.labs.userAgent.engine.isGecko(),goog.userAgent.WEBKIT=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_WEBKIT||goog.userAgent.ASSUME_MOBILE_WEBKIT:goog.labs.userAgent.engine.isWebKit(),goog.userAgent.isMobile_=function(){return goog.userAgent.WEBKIT&&goog.labs.userAgent.util.matchUserAgent("Mobile")},goog.userAgent.MOBILE=goog.userAgent.ASSUME_MOBILE_WEBKIT||goog.userAgent.isMobile_(),goog.userAgent.SAFARI=goog.userAgent.WEBKIT,goog.userAgent.determinePlatform_=function(){var e=goog.userAgent.getNavigatorTyped();return e&&e.platform||""},goog.userAgent.PLATFORM=goog.userAgent.determinePlatform_(),goog.userAgent.ASSUME_MAC=!1,goog.userAgent.ASSUME_WINDOWS=!1,goog.userAgent.ASSUME_LINUX=!1,goog.userAgent.ASSUME_X11=!1,goog.userAgent.ASSUME_ANDROID=!1,goog.userAgent.ASSUME_IPHONE=!1,goog.userAgent.ASSUME_IPAD=!1,goog.userAgent.ASSUME_IPOD=!1,goog.userAgent.ASSUME_KAIOS=!1,goog.userAgent.ASSUME_GO2PHONE=!1,goog.userAgent.PLATFORM_KNOWN_=goog.userAgent.ASSUME_MAC||goog.userAgent.ASSUME_WINDOWS||goog.userAgent.ASSUME_LINUX||goog.userAgent.ASSUME_X11||goog.userAgent.ASSUME_ANDROID||goog.userAgent.ASSUME_IPHONE||goog.userAgent.ASSUME_IPAD||goog.userAgent.ASSUME_IPOD,goog.userAgent.MAC=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_MAC:goog.labs.userAgent.platform.isMacintosh(),goog.userAgent.WINDOWS=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_WINDOWS:goog.labs.userAgent.platform.isWindows(),goog.userAgent.isLegacyLinux_=function(){return goog.labs.userAgent.platform.isLinux()||goog.labs.userAgent.platform.isChromeOS()},goog.userAgent.LINUX=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_LINUX:goog.userAgent.isLegacyLinux_(),goog.userAgent.isX11_=function(){var e=goog.userAgent.getNavigatorTyped();return!!e&&goog.string.contains(e.appVersion||"","X11")},goog.userAgent.X11=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_X11:goog.userAgent.isX11_(),goog.userAgent.ANDROID=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_ANDROID:goog.labs.userAgent.platform.isAndroid(),goog.userAgent.IPHONE=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPHONE:goog.labs.userAgent.platform.isIphone(),goog.userAgent.IPAD=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPAD:goog.labs.userAgent.platform.isIpad(),goog.userAgent.IPOD=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPOD:goog.labs.userAgent.platform.isIpod(),goog.userAgent.IOS=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPHONE||goog.userAgent.ASSUME_IPAD||goog.userAgent.ASSUME_IPOD:goog.labs.userAgent.platform.isIos(),goog.userAgent.KAIOS=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_KAIOS:goog.labs.userAgent.platform.isKaiOS(),goog.userAgent.GO2PHONE=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_GO2PHONE:goog.labs.userAgent.platform.isGo2Phone(),goog.userAgent.determineVersion_=function(){var e="",t=goog.userAgent.getVersionRegexResult_();return t&&(e=t?t[1]:""),goog.userAgent.IE&&null!=(t=goog.userAgent.getDocumentMode_())&&t>parseFloat(e)?String(t):e},goog.userAgent.getVersionRegexResult_=function(){var e=goog.userAgent.getUserAgentString();return goog.userAgent.GECKO?/rv:([^\);]+)(\)|;)/.exec(e):goog.userAgent.EDGE?/Edge\/([\d\.]+)/.exec(e):goog.userAgent.IE?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):goog.userAgent.WEBKIT?/WebKit\/(\S+)/.exec(e):goog.userAgent.OPERA?/(?:Version)[ \/]?(\S+)/.exec(e):void 0},goog.userAgent.getDocumentMode_=function(){var e=goog.global.document;return e?e.documentMode:void 0},goog.userAgent.VERSION=goog.userAgent.determineVersion_(),goog.userAgent.compare=function(e,t){return goog.string.compareVersions(e,t)},goog.userAgent.isVersionOrHigherCache_={},goog.userAgent.isVersionOrHigher=function(e){return goog.userAgent.ASSUME_ANY_VERSION||goog.reflect.cache(goog.userAgent.isVersionOrHigherCache_,e,(function(){return 0<=goog.string.compareVersions(goog.userAgent.VERSION,e)}))},goog.userAgent.isVersion=goog.userAgent.isVersionOrHigher,goog.userAgent.isDocumentModeOrHigher=function(e){return Number(goog.userAgent.DOCUMENT_MODE)>=e},goog.userAgent.isDocumentMode=goog.userAgent.isDocumentModeOrHigher,goog.userAgent.DOCUMENT_MODE=function(){if(goog.global.document&&goog.userAgent.IE)return goog.userAgent.getDocumentMode_()}(),goog.userAgent.product={},goog.userAgent.product.ASSUME_FIREFOX=!1,goog.userAgent.product.ASSUME_IPHONE=!1,goog.userAgent.product.ASSUME_IPAD=!1,goog.userAgent.product.ASSUME_ANDROID=!1,goog.userAgent.product.ASSUME_CHROME=!1,goog.userAgent.product.ASSUME_SAFARI=!1,goog.userAgent.product.PRODUCT_KNOWN_=goog.userAgent.ASSUME_IE||goog.userAgent.ASSUME_EDGE||goog.userAgent.ASSUME_OPERA||goog.userAgent.product.ASSUME_FIREFOX||goog.userAgent.product.ASSUME_IPHONE||goog.userAgent.product.ASSUME_IPAD||goog.userAgent.product.ASSUME_ANDROID||goog.userAgent.product.ASSUME_CHROME||goog.userAgent.product.ASSUME_SAFARI,goog.userAgent.product.OPERA=goog.userAgent.OPERA,goog.userAgent.product.IE=goog.userAgent.IE,goog.userAgent.product.EDGE=goog.userAgent.EDGE,goog.userAgent.product.FIREFOX=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_FIREFOX:goog.labs.userAgent.browser.isFirefox(),goog.userAgent.product.isIphoneOrIpod_=function(){return goog.labs.userAgent.platform.isIphone()||goog.labs.userAgent.platform.isIpod()},goog.userAgent.product.IPHONE=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_IPHONE:goog.userAgent.product.isIphoneOrIpod_(),goog.userAgent.product.IPAD=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_IPAD:goog.labs.userAgent.platform.isIpad(),goog.userAgent.product.ANDROID=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_ANDROID:goog.labs.userAgent.browser.isAndroidBrowser(),goog.userAgent.product.CHROME=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_CHROME:goog.labs.userAgent.browser.isChrome(),goog.userAgent.product.isSafariDesktop_=function(){return goog.labs.userAgent.browser.isSafari()&&!goog.labs.userAgent.platform.isIos()},goog.userAgent.product.SAFARI=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_SAFARI:goog.userAgent.product.isSafariDesktop_(),goog.crypt.base64={},goog.crypt.base64.DEFAULT_ALPHABET_COMMON_="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",goog.crypt.base64.ENCODED_VALS=goog.crypt.base64.DEFAULT_ALPHABET_COMMON_+"+/=",goog.crypt.base64.ENCODED_VALS_WEBSAFE=goog.crypt.base64.DEFAULT_ALPHABET_COMMON_+"-_.",goog.crypt.base64.Alphabet={DEFAULT:0,NO_PADDING:1,WEBSAFE:2,WEBSAFE_DOT_PADDING:3,WEBSAFE_NO_PADDING:4},goog.crypt.base64.paddingChars_="=.",goog.crypt.base64.isPadding_=function(e){return goog.string.contains(goog.crypt.base64.paddingChars_,e)},goog.crypt.base64.byteToCharMaps_={};goog.crypt.base64.charToByteMap_=null,goog.crypt.base64.ASSUME_NATIVE_SUPPORT_=goog.userAgent.GECKO||goog.userAgent.WEBKIT&&!goog.userAgent.product.SAFARI||goog.userAgent.OPERA,goog.crypt.base64.HAS_NATIVE_ENCODE_=goog.crypt.base64.ASSUME_NATIVE_SUPPORT_||"function"==typeof goog.global.btoa,goog.crypt.base64.HAS_NATIVE_DECODE_=goog.crypt.base64.ASSUME_NATIVE_SUPPORT_||!goog.userAgent.product.SAFARI&&!goog.userAgent.IE&&"function"==typeof goog.global.atob,goog.crypt.base64.encodeByteArray=function(e,t){goog.asserts.assert(goog.isArrayLike(e),"encodeByteArray takes an array as a parameter"),void 0===t&&(t=goog.crypt.base64.Alphabet.DEFAULT),goog.crypt.base64.init_(),t=goog.crypt.base64.byteToCharMaps_[t];for(var r=[],o=0;o<e.length;o+=3){var n=e[o],i=o+1<e.length,s=i?e[o+1]:0,a=o+2<e.length,u=a?e[o+2]:0,l=n>>2;n=(3&n)<<4|s>>4,s=(15&s)<<2|u>>6,u&=63,a||(u=64,i||(s=64)),r.push(t[l],t[n],t[s]||"",t[u]||"")}return r.join("")},goog.crypt.base64.encodeString=function(e,t){return goog.crypt.base64.HAS_NATIVE_ENCODE_&&!t?goog.global.btoa(e):goog.crypt.base64.encodeByteArray(goog.crypt.stringToByteArray(e),t)},goog.crypt.base64.decodeString=function(e,t){if(goog.crypt.base64.HAS_NATIVE_DECODE_&&!t)return goog.global.atob(e);var r="";return goog.crypt.base64.decodeStringInternal_(e,(function(e){r+=String.fromCharCode(e)})),r},goog.crypt.base64.decodeStringToByteArray=function(e,t){var r=[];return goog.crypt.base64.decodeStringInternal_(e,(function(e){r.push(e)})),r},goog.crypt.base64.decodeStringToUint8Array=function(e){goog.asserts.assert(!goog.userAgent.IE||goog.userAgent.isVersionOrHigher("10"),"Browser does not support typed arrays");var t=e.length,r=3*t/4;r%3?r=Math.floor(r):goog.crypt.base64.isPadding_(e[t-1])&&(r=goog.crypt.base64.isPadding_(e[t-2])?r-2:r-1);var o=new Uint8Array(r),n=0;return goog.crypt.base64.decodeStringInternal_(e,(function(e){o[n++]=e})),o.subarray(0,n)},goog.crypt.base64.decodeStringInternal_=function(e,t){function r(t){for(;o<e.length;){var r=e.charAt(o++),n=goog.crypt.base64.charToByteMap_[r];if(null!=n)return n;if(!goog.string.isEmptyOrWhitespace(r))throw Error("Unknown base64 encoding at char: "+r)}return t}goog.crypt.base64.init_();for(var o=0;;){var n=r(-1),i=r(0),s=r(64),a=r(64);if(64===a&&-1===n)break;t(n<<2|i>>4),64!=s&&(t(i<<4&240|s>>2),64!=a&&t(s<<6&192|a))}},goog.crypt.base64.init_=function(){if(!goog.crypt.base64.charToByteMap_){goog.crypt.base64.charToByteMap_={};for(var e=goog.crypt.base64.DEFAULT_ALPHABET_COMMON_.split(""),t=["+/=","+/","-_=","-_.","-_"],r=0;5>r;r++){var o=e.concat(t[r].split(""));goog.crypt.base64.byteToCharMaps_[r]=o;for(var n=0;n<o.length;n++){var i=o[n],s=goog.crypt.base64.charToByteMap_[i];void 0===s?goog.crypt.base64.charToByteMap_[i]=n:goog.asserts.assert(s===n)}}}},jspb.utils={},jspb.utils.split64Low=0,jspb.utils.split64High=0,jspb.utils.splitUint64=function(e){var t=e>>>0;e=Math.floor((e-t)/jspb.BinaryConstants.TWO_TO_32)>>>0,jspb.utils.split64Low=t,jspb.utils.split64High=e},jspb.utils.splitInt64=function(e){var t=0>e,r=(e=Math.abs(e))>>>0;e=Math.floor((e-r)/jspb.BinaryConstants.TWO_TO_32),e>>>=0,t&&(e=~e>>>0,4294967295<(r=1+(~r>>>0))&&(r=0,4294967295<++e&&(e=0))),jspb.utils.split64Low=r,jspb.utils.split64High=e},jspb.utils.splitZigzag64=function(e){var t=0>e;e=2*Math.abs(e),jspb.utils.splitUint64(e),e=jspb.utils.split64Low;var r=jspb.utils.split64High;t&&(0==e?0==r?r=e=4294967295:(r--,e=4294967295):e--),jspb.utils.split64Low=e,jspb.utils.split64High=r},jspb.utils.splitFloat32=function(e){var t=0>e?1:0;if(0===(e=t?-e:e))0<1/e?(jspb.utils.split64High=0,jspb.utils.split64Low=0):(jspb.utils.split64High=0,jspb.utils.split64Low=2147483648);else if(isNaN(e))jspb.utils.split64High=0,jspb.utils.split64Low=2147483647;else if(e>jspb.BinaryConstants.FLOAT32_MAX)jspb.utils.split64High=0,jspb.utils.split64Low=(t<<31|2139095040)>>>0;else if(e<jspb.BinaryConstants.FLOAT32_MIN)e=Math.round(e/Math.pow(2,-149)),jspb.utils.split64High=0,jspb.utils.split64Low=(t<<31|e)>>>0;else{var r=Math.floor(Math.log(e)/Math.LN2);e*=Math.pow(2,-r),e=8388607&Math.round(e*jspb.BinaryConstants.TWO_TO_23),jspb.utils.split64High=0,jspb.utils.split64Low=(t<<31|r+127<<23|e)>>>0}},jspb.utils.splitFloat64=function(e){var t=0>e?1:0;if(0===(e=t?-e:e))jspb.utils.split64High=0<1/e?0:2147483648,jspb.utils.split64Low=0;else if(isNaN(e))jspb.utils.split64High=2147483647,jspb.utils.split64Low=4294967295;else if(e>jspb.BinaryConstants.FLOAT64_MAX)jspb.utils.split64High=(t<<31|2146435072)>>>0,jspb.utils.split64Low=0;else if(e<jspb.BinaryConstants.FLOAT64_MIN){var r=e/Math.pow(2,-1074);e=r/jspb.BinaryConstants.TWO_TO_32,jspb.utils.split64High=(t<<31|e)>>>0,jspb.utils.split64Low=r>>>0}else{var o=0;if(2<=(r=e))for(;2<=r&&1023>o;)o++,r/=2;else for(;1>r&&-1022<o;)r*=2,o--;e=(r=e*Math.pow(2,-o))*jspb.BinaryConstants.TWO_TO_20&1048575,r=r*jspb.BinaryConstants.TWO_TO_52>>>0,jspb.utils.split64High=(t<<31|o+1023<<20|e)>>>0,jspb.utils.split64Low=r}},jspb.utils.splitHash64=function(e){var t=e.charCodeAt(0),r=e.charCodeAt(1),o=e.charCodeAt(2),n=e.charCodeAt(3),i=e.charCodeAt(4),s=e.charCodeAt(5),a=e.charCodeAt(6);e=e.charCodeAt(7),jspb.utils.split64Low=t+(r<<8)+(o<<16)+(n<<24)>>>0,jspb.utils.split64High=i+(s<<8)+(a<<16)+(e<<24)>>>0},jspb.utils.joinUint64=function(e,t){return t*jspb.BinaryConstants.TWO_TO_32+(e>>>0)},jspb.utils.joinInt64=function(e,t){var r=2147483648&t;return r&&(t=~t>>>0,0==(e=1+~e>>>0)&&(t=t+1>>>0)),e=jspb.utils.joinUint64(e,t),r?-e:e},jspb.utils.toZigzag64=function(e,t,r){var o=t>>31;return r(e<<1^o,(t<<1|e>>>31)^o)},jspb.utils.joinZigzag64=function(e,t){return jspb.utils.fromZigzag64(e,t,jspb.utils.joinInt64)},jspb.utils.fromZigzag64=function(e,t,r){var o=-(1&e);return r((e>>>1|t<<31)^o,t>>>1^o)},jspb.utils.joinFloat32=function(e,t){t=2*(e>>31)+1;var r=e>>>23&255;return e&=8388607,255==r?e?NaN:1/0*t:0==r?t*Math.pow(2,-149)*e:t*Math.pow(2,r-150)*(e+Math.pow(2,23))},jspb.utils.joinFloat64=function(e,t){var r=2*(t>>31)+1,o=t>>>20&2047;return e=jspb.BinaryConstants.TWO_TO_32*(1048575&t)+e,2047==o?e?NaN:1/0*r:0==o?r*Math.pow(2,-1074)*e:r*Math.pow(2,o-1075)*(e+jspb.BinaryConstants.TWO_TO_52)},jspb.utils.joinHash64=function(e,t){return String.fromCharCode(e>>>0&255,e>>>8&255,e>>>16&255,e>>>24&255,t>>>0&255,t>>>8&255,t>>>16&255,t>>>24&255)},jspb.utils.DIGITS="0123456789abcdef".split(""),jspb.utils.ZERO_CHAR_CODE_=48,jspb.utils.A_CHAR_CODE_=97,jspb.utils.joinUnsignedDecimalString=function(e,t){function r(e,t){return e=e?String(e):"",t?"0000000".slice(e.length)+e:e}if(2097151>=t)return""+jspb.utils.joinUint64(e,t);var o=(e>>>24|t<<8)>>>0&16777215;return e=(16777215&e)+6777216*o+6710656*(t=t>>16&65535),o+=8147497*t,t*=2,1e7<=e&&(o+=Math.floor(e/1e7),e%=1e7),1e7<=o&&(t+=Math.floor(o/1e7),o%=1e7),r(t,0)+r(o,t)+r(e,1)},jspb.utils.joinSignedDecimalString=function(e,t){var r=2147483648&t;return r&&(t=~t+(0==(e=1+~e>>>0)?1:0)>>>0),e=jspb.utils.joinUnsignedDecimalString(e,t),r?"-"+e:e},jspb.utils.hash64ToDecimalString=function(e,t){jspb.utils.splitHash64(e),e=jspb.utils.split64Low;var r=jspb.utils.split64High;return t?jspb.utils.joinSignedDecimalString(e,r):jspb.utils.joinUnsignedDecimalString(e,r)},jspb.utils.hash64ArrayToDecimalStrings=function(e,t){for(var r=Array(e.length),o=0;o<e.length;o++)r[o]=jspb.utils.hash64ToDecimalString(e[o],t);return r},jspb.utils.decimalStringToHash64=function(e){function t(e,t){for(var r=0;8>r&&(1!==e||0<t);r++)t=e*o[r]+t,o[r]=255&t,t>>>=8}goog.asserts.assert(0<e.length);var r=!1;"-"===e[0]&&(r=!0,e=e.slice(1));for(var o=[0,0,0,0,0,0,0,0],n=0;n<e.length;n++)t(10,e.charCodeAt(n)-jspb.utils.ZERO_CHAR_CODE_);return r&&(function(){for(var e=0;8>e;e++)o[e]=255&~o[e]}(),t(1,1)),goog.crypt.byteArrayToString(o)},jspb.utils.splitDecimalString=function(e){jspb.utils.splitHash64(jspb.utils.decimalStringToHash64(e))},jspb.utils.toHexDigit_=function(e){return String.fromCharCode(10>e?jspb.utils.ZERO_CHAR_CODE_+e:jspb.utils.A_CHAR_CODE_-10+e)},jspb.utils.fromHexCharCode_=function(e){return e>=jspb.utils.A_CHAR_CODE_?e-jspb.utils.A_CHAR_CODE_+10:e-jspb.utils.ZERO_CHAR_CODE_},jspb.utils.hash64ToHexString=function(e){var t=Array(18);t[0]="0",t[1]="x";for(var r=0;8>r;r++){var o=e.charCodeAt(7-r);t[2*r+2]=jspb.utils.toHexDigit_(o>>4),t[2*r+3]=jspb.utils.toHexDigit_(15&o)}return t.join("")},jspb.utils.hexStringToHash64=function(e){e=e.toLowerCase(),goog.asserts.assert(18==e.length),goog.asserts.assert("0"==e[0]),goog.asserts.assert("x"==e[1]);for(var t="",r=0;8>r;r++){var o=jspb.utils.fromHexCharCode_(e.charCodeAt(2*r+2)),n=jspb.utils.fromHexCharCode_(e.charCodeAt(2*r+3));t=String.fromCharCode(16*o+n)+t}return t},jspb.utils.hash64ToNumber=function(e,t){jspb.utils.splitHash64(e),e=jspb.utils.split64Low;var r=jspb.utils.split64High;return t?jspb.utils.joinInt64(e,r):jspb.utils.joinUint64(e,r)},jspb.utils.numberToHash64=function(e){return jspb.utils.splitInt64(e),jspb.utils.joinHash64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.utils.countVarints=function(e,t,r){for(var o=0,n=t;n<r;n++)o+=e[n]>>7;return r-t-o},jspb.utils.countVarintFields=function(e,t,r,o){var n=0;if(128>(o=8*o+jspb.BinaryConstants.WireType.VARINT))for(;t<r&&e[t++]==o;)for(n++;;){var i=e[t++];if(0==(128&i))break}else for(;t<r;){for(i=o;128<i;){if(e[t]!=(127&i|128))return n;t++,i>>=7}if(e[t++]!=i)break;for(n++;0!=(128&(i=e[t++])););}return n},jspb.utils.countFixedFields_=function(e,t,r,o,n){var i=0;if(128>o)for(;t<r&&e[t++]==o;)i++,t+=n;else for(;t<r;){for(var s=o;128<s;){if(e[t++]!=(127&s|128))return i;s>>=7}if(e[t++]!=s)break;i++,t+=n}return i},jspb.utils.countFixed32Fields=function(e,t,r,o){return jspb.utils.countFixedFields_(e,t,r,8*o+jspb.BinaryConstants.WireType.FIXED32,4)},jspb.utils.countFixed64Fields=function(e,t,r,o){return jspb.utils.countFixedFields_(e,t,r,8*o+jspb.BinaryConstants.WireType.FIXED64,8)},jspb.utils.countDelimitedFields=function(e,t,r,o){var n=0;for(o=8*o+jspb.BinaryConstants.WireType.DELIMITED;t<r;){for(var i=o;128<i;){if(e[t++]!=(127&i|128))return n;i>>=7}if(e[t++]!=i)break;n++;for(var s=0,a=1;s+=(127&(i=e[t++]))*a,a*=128,0!=(128&i););t+=s}return n},jspb.utils.debugBytesToTextFormat=function(e){var t='"';if(e){e=jspb.utils.byteSourceToUint8Array(e);for(var r=0;r<e.length;r++)t+="\\x",16>e[r]&&(t+="0"),t+=e[r].toString(16)}return t+'"'},jspb.utils.debugScalarToTextFormat=function(e){return"string"==typeof e?goog.string.quote(e):e.toString()},jspb.utils.stringToByteArray=function(e){for(var t=new Uint8Array(e.length),r=0;r<e.length;r++){var o=e.charCodeAt(r);if(255<o)throw Error("Conversion error: string contains codepoint outside of byte range");t[r]=o}return t},jspb.utils.byteSourceToUint8Array=function(e){return e.constructor===Uint8Array?e:e.constructor===ArrayBuffer||void 0!==Buffer&&e.constructor===Buffer||e.constructor===Array?new Uint8Array(e):e.constructor===String?goog.crypt.base64.decodeStringToUint8Array(e):(goog.asserts.fail("Type not convertible to Uint8Array."),new Uint8Array(0))},jspb.BinaryDecoder=function(e,t,r){this.bytes_=null,this.cursor_=this.end_=this.start_=0,this.error_=!1,e&&this.setBlock(e,t,r)},jspb.BinaryDecoder.instanceCache_=[],jspb.BinaryDecoder.alloc=function(e,t,r){if(jspb.BinaryDecoder.instanceCache_.length){var o=jspb.BinaryDecoder.instanceCache_.pop();return e&&o.setBlock(e,t,r),o}return new jspb.BinaryDecoder(e,t,r)},jspb.BinaryDecoder.prototype.free=function(){this.clear(),100>jspb.BinaryDecoder.instanceCache_.length&&jspb.BinaryDecoder.instanceCache_.push(this)},jspb.BinaryDecoder.prototype.clone=function(){return jspb.BinaryDecoder.alloc(this.bytes_,this.start_,this.end_-this.start_)},jspb.BinaryDecoder.prototype.clear=function(){this.bytes_=null,this.cursor_=this.end_=this.start_=0,this.error_=!1},jspb.BinaryDecoder.prototype.getBuffer=function(){return this.bytes_},jspb.BinaryDecoder.prototype.setBlock=function(e,t,r){this.bytes_=jspb.utils.byteSourceToUint8Array(e),this.start_=void 0!==t?t:0,this.end_=void 0!==r?this.start_+r:this.bytes_.length,this.cursor_=this.start_},jspb.BinaryDecoder.prototype.getEnd=function(){return this.end_},jspb.BinaryDecoder.prototype.setEnd=function(e){this.end_=e},jspb.BinaryDecoder.prototype.reset=function(){this.cursor_=this.start_},jspb.BinaryDecoder.prototype.getCursor=function(){return this.cursor_},jspb.BinaryDecoder.prototype.setCursor=function(e){this.cursor_=e},jspb.BinaryDecoder.prototype.advance=function(e){this.cursor_+=e,goog.asserts.assert(this.cursor_<=this.end_)},jspb.BinaryDecoder.prototype.atEnd=function(){return this.cursor_==this.end_},jspb.BinaryDecoder.prototype.pastEnd=function(){return this.cursor_>this.end_},jspb.BinaryDecoder.prototype.getError=function(){return this.error_||0>this.cursor_||this.cursor_>this.end_},jspb.BinaryDecoder.prototype.readSplitVarint64=function(e){for(var t=128,r=0,o=0,n=0;4>n&&128<=t;n++)r|=(127&(t=this.bytes_[this.cursor_++]))<<7*n;if(128<=t&&(r|=(127&(t=this.bytes_[this.cursor_++]))<<28,o|=(127&t)>>4),128<=t)for(n=0;5>n&&128<=t;n++)o|=(127&(t=this.bytes_[this.cursor_++]))<<7*n+3;if(128>t)return e(r>>>0,o>>>0);goog.asserts.fail("Failed to read varint, encoding is invalid."),this.error_=!0},jspb.BinaryDecoder.prototype.readSplitZigzagVarint64=function(e){return this.readSplitVarint64((function(t,r){return jspb.utils.fromZigzag64(t,r,e)}))},jspb.BinaryDecoder.prototype.readSplitFixed64=function(e){var t=this.bytes_,r=this.cursor_;this.cursor_+=8;for(var o=0,n=0,i=r+7;i>=r;i--)o=o<<8|t[i],n=n<<8|t[i+4];return e(o,n)},jspb.BinaryDecoder.prototype.skipVarint=function(){for(;128&this.bytes_[this.cursor_];)this.cursor_++;this.cursor_++},jspb.BinaryDecoder.prototype.unskipVarint=function(e){for(;128<e;)this.cursor_--,e>>>=7;this.cursor_--},jspb.BinaryDecoder.prototype.readUnsignedVarint32=function(){var e=this.bytes_,t=e[this.cursor_+0],r=127&t;return 128>t?(this.cursor_+=1,goog.asserts.assert(this.cursor_<=this.end_),r):(r|=(127&(t=e[this.cursor_+1]))<<7,128>t?(this.cursor_+=2,goog.asserts.assert(this.cursor_<=this.end_),r):(r|=(127&(t=e[this.cursor_+2]))<<14,128>t?(this.cursor_+=3,goog.asserts.assert(this.cursor_<=this.end_),r):(r|=(127&(t=e[this.cursor_+3]))<<21,128>t?(this.cursor_+=4,goog.asserts.assert(this.cursor_<=this.end_),r):(r|=(15&(t=e[this.cursor_+4]))<<28,128>t?(this.cursor_+=5,goog.asserts.assert(this.cursor_<=this.end_),r>>>0):(this.cursor_+=5,128<=e[this.cursor_++]&&128<=e[this.cursor_++]&&128<=e[this.cursor_++]&&128<=e[this.cursor_++]&&128<=e[this.cursor_++]&&goog.asserts.assert(!1),goog.asserts.assert(this.cursor_<=this.end_),r)))))},jspb.BinaryDecoder.prototype.readSignedVarint32=jspb.BinaryDecoder.prototype.readUnsignedVarint32,jspb.BinaryDecoder.prototype.readUnsignedVarint32String=function(){return this.readUnsignedVarint32().toString()},jspb.BinaryDecoder.prototype.readSignedVarint32String=function(){return this.readSignedVarint32().toString()},jspb.BinaryDecoder.prototype.readZigzagVarint32=function(){var e=this.readUnsignedVarint32();return e>>>1^-(1&e)},jspb.BinaryDecoder.prototype.readUnsignedVarint64=function(){return this.readSplitVarint64(jspb.utils.joinUint64)},jspb.BinaryDecoder.prototype.readUnsignedVarint64String=function(){return this.readSplitVarint64(jspb.utils.joinUnsignedDecimalString)},jspb.BinaryDecoder.prototype.readSignedVarint64=function(){return this.readSplitVarint64(jspb.utils.joinInt64)},jspb.BinaryDecoder.prototype.readSignedVarint64String=function(){return this.readSplitVarint64(jspb.utils.joinSignedDecimalString)},jspb.BinaryDecoder.prototype.readZigzagVarint64=function(){return this.readSplitVarint64(jspb.utils.joinZigzag64)},jspb.BinaryDecoder.prototype.readZigzagVarintHash64=function(){return this.readSplitZigzagVarint64(jspb.utils.joinHash64)},jspb.BinaryDecoder.prototype.readZigzagVarint64String=function(){return this.readSplitZigzagVarint64(jspb.utils.joinSignedDecimalString)},jspb.BinaryDecoder.prototype.readUint8=function(){var e=this.bytes_[this.cursor_+0];return this.cursor_+=1,goog.asserts.assert(this.cursor_<=this.end_),e},jspb.BinaryDecoder.prototype.readUint16=function(){var e=this.bytes_[this.cursor_+0],t=this.bytes_[this.cursor_+1];return this.cursor_+=2,goog.asserts.assert(this.cursor_<=this.end_),e<<0|t<<8},jspb.BinaryDecoder.prototype.readUint32=function(){var e=this.bytes_[this.cursor_+0],t=this.bytes_[this.cursor_+1],r=this.bytes_[this.cursor_+2],o=this.bytes_[this.cursor_+3];return this.cursor_+=4,goog.asserts.assert(this.cursor_<=this.end_),(e<<0|t<<8|r<<16|o<<24)>>>0},jspb.BinaryDecoder.prototype.readUint64=function(){var e=this.readUint32(),t=this.readUint32();return jspb.utils.joinUint64(e,t)},jspb.BinaryDecoder.prototype.readUint64String=function(){var e=this.readUint32(),t=this.readUint32();return jspb.utils.joinUnsignedDecimalString(e,t)},jspb.BinaryDecoder.prototype.readInt8=function(){var e=this.bytes_[this.cursor_+0];return this.cursor_+=1,goog.asserts.assert(this.cursor_<=this.end_),e<<24>>24},jspb.BinaryDecoder.prototype.readInt16=function(){var e=this.bytes_[this.cursor_+0],t=this.bytes_[this.cursor_+1];return this.cursor_+=2,goog.asserts.assert(this.cursor_<=this.end_),(e<<0|t<<8)<<16>>16},jspb.BinaryDecoder.prototype.readInt32=function(){var e=this.bytes_[this.cursor_+0],t=this.bytes_[this.cursor_+1],r=this.bytes_[this.cursor_+2],o=this.bytes_[this.cursor_+3];return this.cursor_+=4,goog.asserts.assert(this.cursor_<=this.end_),e<<0|t<<8|r<<16|o<<24},jspb.BinaryDecoder.prototype.readInt64=function(){var e=this.readUint32(),t=this.readUint32();return jspb.utils.joinInt64(e,t)},jspb.BinaryDecoder.prototype.readInt64String=function(){var e=this.readUint32(),t=this.readUint32();return jspb.utils.joinSignedDecimalString(e,t)},jspb.BinaryDecoder.prototype.readFloat=function(){var e=this.readUint32();return jspb.utils.joinFloat32(e,0)},jspb.BinaryDecoder.prototype.readDouble=function(){var e=this.readUint32(),t=this.readUint32();return jspb.utils.joinFloat64(e,t)},jspb.BinaryDecoder.prototype.readBool=function(){return!!this.bytes_[this.cursor_++]},jspb.BinaryDecoder.prototype.readEnum=function(){return this.readSignedVarint32()},jspb.BinaryDecoder.prototype.readString=function(e){var t=this.bytes_,r=this.cursor_;e=r+e;for(var o=[],n="";r<e;){var i=t[r++];if(128>i)o.push(i);else{if(192>i)continue;if(224>i){var s=t[r++];o.push((31&i)<<6|63&s)}else if(240>i){s=t[r++];var a=t[r++];o.push((15&i)<<12|(63&s)<<6|63&a)}else 248>i&&(i=(7&i)<<18|(63&(s=t[r++]))<<12|(63&(a=t[r++]))<<6|63&t[r++],i-=65536,o.push(55296+(i>>10&1023),56320+(1023&i)))}8192<=o.length&&(n+=String.fromCharCode.apply(null,o),o.length=0)}return n+=goog.crypt.byteArrayToString(o),this.cursor_=r,n},jspb.BinaryDecoder.prototype.readStringWithLength=function(){var e=this.readUnsignedVarint32();return this.readString(e)},jspb.BinaryDecoder.prototype.readBytes=function(e){if(0>e||this.cursor_+e>this.bytes_.length)return this.error_=!0,goog.asserts.fail("Invalid byte length!"),new Uint8Array(0);var t=this.bytes_.subarray(this.cursor_,this.cursor_+e);return this.cursor_+=e,goog.asserts.assert(this.cursor_<=this.end_),t},jspb.BinaryDecoder.prototype.readVarintHash64=function(){return this.readSplitVarint64(jspb.utils.joinHash64)},jspb.BinaryDecoder.prototype.readFixedHash64=function(){var e=this.bytes_,t=this.cursor_,r=e[t+0],o=e[t+1],n=e[t+2],i=e[t+3],s=e[t+4],a=e[t+5],u=e[t+6];return e=e[t+7],this.cursor_+=8,String.fromCharCode(r,o,n,i,s,a,u,e)},jspb.BinaryReader=function(e,t,r){this.decoder_=jspb.BinaryDecoder.alloc(e,t,r),this.fieldCursor_=this.decoder_.getCursor(),this.nextField_=jspb.BinaryConstants.INVALID_FIELD_NUMBER,this.nextWireType_=jspb.BinaryConstants.WireType.INVALID,this.error_=!1,this.readCallbacks_=null},jspb.BinaryReader.instanceCache_=[],jspb.BinaryReader.alloc=function(e,t,r){if(jspb.BinaryReader.instanceCache_.length){var o=jspb.BinaryReader.instanceCache_.pop();return e&&o.decoder_.setBlock(e,t,r),o}return new jspb.BinaryReader(e,t,r)},jspb.BinaryReader.prototype.alloc=jspb.BinaryReader.alloc,jspb.BinaryReader.prototype.free=function(){this.decoder_.clear(),this.nextField_=jspb.BinaryConstants.INVALID_FIELD_NUMBER,this.nextWireType_=jspb.BinaryConstants.WireType.INVALID,this.error_=!1,this.readCallbacks_=null,100>jspb.BinaryReader.instanceCache_.length&&jspb.BinaryReader.instanceCache_.push(this)},jspb.BinaryReader.prototype.getFieldCursor=function(){return this.fieldCursor_},jspb.BinaryReader.prototype.getCursor=function(){return this.decoder_.getCursor()},jspb.BinaryReader.prototype.getBuffer=function(){return this.decoder_.getBuffer()},jspb.BinaryReader.prototype.getFieldNumber=function(){return this.nextField_},jspb.BinaryReader.prototype.getWireType=function(){return this.nextWireType_},jspb.BinaryReader.prototype.isDelimited=function(){return this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED},jspb.BinaryReader.prototype.isEndGroup=function(){return this.nextWireType_==jspb.BinaryConstants.WireType.END_GROUP},jspb.BinaryReader.prototype.getError=function(){return this.error_||this.decoder_.getError()},jspb.BinaryReader.prototype.setBlock=function(e,t,r){this.decoder_.setBlock(e,t,r),this.nextField_=jspb.BinaryConstants.INVALID_FIELD_NUMBER,this.nextWireType_=jspb.BinaryConstants.WireType.INVALID},jspb.BinaryReader.prototype.reset=function(){this.decoder_.reset(),this.nextField_=jspb.BinaryConstants.INVALID_FIELD_NUMBER,this.nextWireType_=jspb.BinaryConstants.WireType.INVALID},jspb.BinaryReader.prototype.advance=function(e){this.decoder_.advance(e)},jspb.BinaryReader.prototype.nextField=function(){if(this.decoder_.atEnd())return!1;if(this.getError())return goog.asserts.fail("Decoder hit an error"),!1;this.fieldCursor_=this.decoder_.getCursor();var e=this.decoder_.readUnsignedVarint32(),t=e>>>3;return(e&=7)!=jspb.BinaryConstants.WireType.VARINT&&e!=jspb.BinaryConstants.WireType.FIXED32&&e!=jspb.BinaryConstants.WireType.FIXED64&&e!=jspb.BinaryConstants.WireType.DELIMITED&&e!=jspb.BinaryConstants.WireType.START_GROUP&&e!=jspb.BinaryConstants.WireType.END_GROUP?(goog.asserts.fail("Invalid wire type: %s (at position %s)",e,this.fieldCursor_),this.error_=!0,!1):(this.nextField_=t,this.nextWireType_=e,!0)},jspb.BinaryReader.prototype.unskipHeader=function(){this.decoder_.unskipVarint(this.nextField_<<3|this.nextWireType_)},jspb.BinaryReader.prototype.skipMatchingFields=function(){var e=this.nextField_;for(this.unskipHeader();this.nextField()&&this.getFieldNumber()==e;)this.skipField();this.decoder_.atEnd()||this.unskipHeader()},jspb.BinaryReader.prototype.skipVarintField=function(){this.nextWireType_!=jspb.BinaryConstants.WireType.VARINT?(goog.asserts.fail("Invalid wire type for skipVarintField"),this.skipField()):this.decoder_.skipVarint()},jspb.BinaryReader.prototype.skipDelimitedField=function(){if(this.nextWireType_!=jspb.BinaryConstants.WireType.DELIMITED)goog.asserts.fail("Invalid wire type for skipDelimitedField"),this.skipField();else{var e=this.decoder_.readUnsignedVarint32();this.decoder_.advance(e)}},jspb.BinaryReader.prototype.skipFixed32Field=function(){this.nextWireType_!=jspb.BinaryConstants.WireType.FIXED32?(goog.asserts.fail("Invalid wire type for skipFixed32Field"),this.skipField()):this.decoder_.advance(4)},jspb.BinaryReader.prototype.skipFixed64Field=function(){this.nextWireType_!=jspb.BinaryConstants.WireType.FIXED64?(goog.asserts.fail("Invalid wire type for skipFixed64Field"),this.skipField()):this.decoder_.advance(8)},jspb.BinaryReader.prototype.skipGroup=function(){for(var e=this.nextField_;;){if(!this.nextField()){goog.asserts.fail("Unmatched start-group tag: stream EOF"),this.error_=!0;break}if(this.nextWireType_==jspb.BinaryConstants.WireType.END_GROUP){this.nextField_!=e&&(goog.asserts.fail("Unmatched end-group tag"),this.error_=!0);break}this.skipField()}},jspb.BinaryReader.prototype.skipField=function(){switch(this.nextWireType_){case jspb.BinaryConstants.WireType.VARINT:this.skipVarintField();break;case jspb.BinaryConstants.WireType.FIXED64:this.skipFixed64Field();break;case jspb.BinaryConstants.WireType.DELIMITED:this.skipDelimitedField();break;case jspb.BinaryConstants.WireType.FIXED32:this.skipFixed32Field();break;case jspb.BinaryConstants.WireType.START_GROUP:this.skipGroup();break;default:goog.asserts.fail("Invalid wire encoding for field.")}},jspb.BinaryReader.prototype.registerReadCallback=function(e,t){null===this.readCallbacks_&&(this.readCallbacks_={}),goog.asserts.assert(!this.readCallbacks_[e]),this.readCallbacks_[e]=t},jspb.BinaryReader.prototype.runReadCallback=function(e){return goog.asserts.assert(null!==this.readCallbacks_),e=this.readCallbacks_[e],goog.asserts.assert(e),e(this)},jspb.BinaryReader.prototype.readAny=function(e){this.nextWireType_=jspb.BinaryConstants.FieldTypeToWireType(e);var t=jspb.BinaryConstants.FieldType;switch(e){case t.DOUBLE:return this.readDouble();case t.FLOAT:return this.readFloat();case t.INT64:return this.readInt64();case t.UINT64:return this.readUint64();case t.INT32:return this.readInt32();case t.FIXED64:return this.readFixed64();case t.FIXED32:return this.readFixed32();case t.BOOL:return this.readBool();case t.STRING:return this.readString();case t.GROUP:goog.asserts.fail("Group field type not supported in readAny()");case t.MESSAGE:goog.asserts.fail("Message field type not supported in readAny()");case t.BYTES:return this.readBytes();case t.UINT32:return this.readUint32();case t.ENUM:return this.readEnum();case t.SFIXED32:return this.readSfixed32();case t.SFIXED64:return this.readSfixed64();case t.SINT32:return this.readSint32();case t.SINT64:return this.readSint64();case t.FHASH64:return this.readFixedHash64();case t.VHASH64:return this.readVarintHash64();default:goog.asserts.fail("Invalid field type in readAny()")}return 0},jspb.BinaryReader.prototype.readMessage=function(e,t){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var r=this.decoder_.getEnd(),o=this.decoder_.readUnsignedVarint32();o=this.decoder_.getCursor()+o,this.decoder_.setEnd(o),t(e,this),this.decoder_.setCursor(o),this.decoder_.setEnd(r)},jspb.BinaryReader.prototype.readGroup=function(e,t,r){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.START_GROUP),goog.asserts.assert(this.nextField_==e),r(t,this),this.error_||this.nextWireType_==jspb.BinaryConstants.WireType.END_GROUP||(goog.asserts.fail("Group submessage did not end with an END_GROUP tag"),this.error_=!0)},jspb.BinaryReader.prototype.getFieldDecoder=function(){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var e=this.decoder_.readUnsignedVarint32(),t=this.decoder_.getCursor(),r=t+e;return e=jspb.BinaryDecoder.alloc(this.decoder_.getBuffer(),t,e),this.decoder_.setCursor(r),e},jspb.BinaryReader.prototype.readInt32=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint32()},jspb.BinaryReader.prototype.readInt32String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint32String()},jspb.BinaryReader.prototype.readInt64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint64()},jspb.BinaryReader.prototype.readInt64String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint64String()},jspb.BinaryReader.prototype.readUint32=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readUnsignedVarint32()},jspb.BinaryReader.prototype.readUint32String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readUnsignedVarint32String()},jspb.BinaryReader.prototype.readUint64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readUnsignedVarint64()},jspb.BinaryReader.prototype.readUint64String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readUnsignedVarint64String()},jspb.BinaryReader.prototype.readSint32=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readZigzagVarint32()},jspb.BinaryReader.prototype.readSint64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readZigzagVarint64()},jspb.BinaryReader.prototype.readSint64String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readZigzagVarint64String()},jspb.BinaryReader.prototype.readFixed32=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED32),this.decoder_.readUint32()},jspb.BinaryReader.prototype.readFixed64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readUint64()},jspb.BinaryReader.prototype.readFixed64String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readUint64String()},jspb.BinaryReader.prototype.readSfixed32=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED32),this.decoder_.readInt32()},jspb.BinaryReader.prototype.readSfixed32String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED32),this.decoder_.readInt32().toString()},jspb.BinaryReader.prototype.readSfixed64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readInt64()},jspb.BinaryReader.prototype.readSfixed64String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readInt64String()},jspb.BinaryReader.prototype.readFloat=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED32),this.decoder_.readFloat()},jspb.BinaryReader.prototype.readDouble=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readDouble()},jspb.BinaryReader.prototype.readBool=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),!!this.decoder_.readUnsignedVarint32()},jspb.BinaryReader.prototype.readEnum=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint64()},jspb.BinaryReader.prototype.readString=function(){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var e=this.decoder_.readUnsignedVarint32();return this.decoder_.readString(e)},jspb.BinaryReader.prototype.readBytes=function(){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var e=this.decoder_.readUnsignedVarint32();return this.decoder_.readBytes(e)},jspb.BinaryReader.prototype.readVarintHash64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readVarintHash64()},jspb.BinaryReader.prototype.readSintHash64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readZigzagVarintHash64()},jspb.BinaryReader.prototype.readSplitVarint64=function(e){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSplitVarint64(e)},jspb.BinaryReader.prototype.readSplitZigzagVarint64=function(e){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSplitVarint64((function(t,r){return jspb.utils.fromZigzag64(t,r,e)}))},jspb.BinaryReader.prototype.readFixedHash64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readFixedHash64()},jspb.BinaryReader.prototype.readSplitFixed64=function(e){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readSplitFixed64(e)},jspb.BinaryReader.prototype.readPackedField_=function(e){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var t=this.decoder_.readUnsignedVarint32();t=this.decoder_.getCursor()+t;for(var r=[];this.decoder_.getCursor()<t;)r.push(e.call(this.decoder_));return r},jspb.BinaryReader.prototype.readPackedInt32=function(){return this.readPackedField_(this.decoder_.readSignedVarint32)},jspb.BinaryReader.prototype.readPackedInt32String=function(){return this.readPackedField_(this.decoder_.readSignedVarint32String)},jspb.BinaryReader.prototype.readPackedInt64=function(){return this.readPackedField_(this.decoder_.readSignedVarint64)},jspb.BinaryReader.prototype.readPackedInt64String=function(){return this.readPackedField_(this.decoder_.readSignedVarint64String)},jspb.BinaryReader.prototype.readPackedUint32=function(){return this.readPackedField_(this.decoder_.readUnsignedVarint32)},jspb.BinaryReader.prototype.readPackedUint32String=function(){return this.readPackedField_(this.decoder_.readUnsignedVarint32String)},jspb.BinaryReader.prototype.readPackedUint64=function(){return this.readPackedField_(this.decoder_.readUnsignedVarint64)},jspb.BinaryReader.prototype.readPackedUint64String=function(){return this.readPackedField_(this.decoder_.readUnsignedVarint64String)},jspb.BinaryReader.prototype.readPackedSint32=function(){return this.readPackedField_(this.decoder_.readZigzagVarint32)},jspb.BinaryReader.prototype.readPackedSint64=function(){return this.readPackedField_(this.decoder_.readZigzagVarint64)},jspb.BinaryReader.prototype.readPackedSint64String=function(){return this.readPackedField_(this.decoder_.readZigzagVarint64String)},jspb.BinaryReader.prototype.readPackedFixed32=function(){return this.readPackedField_(this.decoder_.readUint32)},jspb.BinaryReader.prototype.readPackedFixed64=function(){return this.readPackedField_(this.decoder_.readUint64)},jspb.BinaryReader.prototype.readPackedFixed64String=function(){return this.readPackedField_(this.decoder_.readUint64String)},jspb.BinaryReader.prototype.readPackedSfixed32=function(){return this.readPackedField_(this.decoder_.readInt32)},jspb.BinaryReader.prototype.readPackedSfixed64=function(){return this.readPackedField_(this.decoder_.readInt64)},jspb.BinaryReader.prototype.readPackedSfixed64String=function(){return this.readPackedField_(this.decoder_.readInt64String)},jspb.BinaryReader.prototype.readPackedFloat=function(){return this.readPackedField_(this.decoder_.readFloat)},jspb.BinaryReader.prototype.readPackedDouble=function(){return this.readPackedField_(this.decoder_.readDouble)},jspb.BinaryReader.prototype.readPackedBool=function(){return this.readPackedField_(this.decoder_.readBool)},jspb.BinaryReader.prototype.readPackedEnum=function(){return this.readPackedField_(this.decoder_.readEnum)},jspb.BinaryReader.prototype.readPackedVarintHash64=function(){return this.readPackedField_(this.decoder_.readVarintHash64)},jspb.BinaryReader.prototype.readPackedFixedHash64=function(){return this.readPackedField_(this.decoder_.readFixedHash64)},jspb.BinaryEncoder=function(){this.buffer_=[]},jspb.BinaryEncoder.prototype.length=function(){return this.buffer_.length},jspb.BinaryEncoder.prototype.end=function(){var e=this.buffer_;return this.buffer_=[],e},jspb.BinaryEncoder.prototype.writeSplitVarint64=function(e,t){for(goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(t==Math.floor(t)),goog.asserts.assert(0<=e&&e<jspb.BinaryConstants.TWO_TO_32),goog.asserts.assert(0<=t&&t<jspb.BinaryConstants.TWO_TO_32);0<t||127<e;)this.buffer_.push(127&e|128),e=(e>>>7|t<<25)>>>0,t>>>=7;this.buffer_.push(e)},jspb.BinaryEncoder.prototype.writeSplitFixed64=function(e,t){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(t==Math.floor(t)),goog.asserts.assert(0<=e&&e<jspb.BinaryConstants.TWO_TO_32),goog.asserts.assert(0<=t&&t<jspb.BinaryConstants.TWO_TO_32),this.writeUint32(e),this.writeUint32(t)},jspb.BinaryEncoder.prototype.writeUnsignedVarint32=function(e){for(goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(0<=e&&e<jspb.BinaryConstants.TWO_TO_32);127<e;)this.buffer_.push(127&e|128),e>>>=7;this.buffer_.push(e)},jspb.BinaryEncoder.prototype.writeSignedVarint32=function(e){if(goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_31&&e<jspb.BinaryConstants.TWO_TO_31),0<=e)this.writeUnsignedVarint32(e);else{for(var t=0;9>t;t++)this.buffer_.push(127&e|128),e>>=7;this.buffer_.push(1)}},jspb.BinaryEncoder.prototype.writeUnsignedVarint64=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(0<=e&&e<jspb.BinaryConstants.TWO_TO_64),jspb.utils.splitInt64(e),this.writeSplitVarint64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeSignedVarint64=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_63&&e<jspb.BinaryConstants.TWO_TO_63),jspb.utils.splitInt64(e),this.writeSplitVarint64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeZigzagVarint32=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_31&&e<jspb.BinaryConstants.TWO_TO_31),this.writeUnsignedVarint32((e<<1^e>>31)>>>0)},jspb.BinaryEncoder.prototype.writeZigzagVarint64=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_63&&e<jspb.BinaryConstants.TWO_TO_63),jspb.utils.splitZigzag64(e),this.writeSplitVarint64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeZigzagVarint64String=function(e){this.writeZigzagVarintHash64(jspb.utils.decimalStringToHash64(e))},jspb.BinaryEncoder.prototype.writeZigzagVarintHash64=function(e){var t=this;jspb.utils.splitHash64(e),jspb.utils.toZigzag64(jspb.utils.split64Low,jspb.utils.split64High,(function(e,r){t.writeSplitVarint64(e>>>0,r>>>0)}))},jspb.BinaryEncoder.prototype.writeUint8=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(0<=e&&256>e),this.buffer_.push(e>>>0&255)},jspb.BinaryEncoder.prototype.writeUint16=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(0<=e&&65536>e),this.buffer_.push(e>>>0&255),this.buffer_.push(e>>>8&255)},jspb.BinaryEncoder.prototype.writeUint32=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(0<=e&&e<jspb.BinaryConstants.TWO_TO_32),this.buffer_.push(e>>>0&255),this.buffer_.push(e>>>8&255),this.buffer_.push(e>>>16&255),this.buffer_.push(e>>>24&255)},jspb.BinaryEncoder.prototype.writeUint64=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(0<=e&&e<jspb.BinaryConstants.TWO_TO_64),jspb.utils.splitUint64(e),this.writeUint32(jspb.utils.split64Low),this.writeUint32(jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeInt8=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(-128<=e&&128>e),this.buffer_.push(e>>>0&255)},jspb.BinaryEncoder.prototype.writeInt16=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(-32768<=e&&32768>e),this.buffer_.push(e>>>0&255),this.buffer_.push(e>>>8&255)},jspb.BinaryEncoder.prototype.writeInt32=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_31&&e<jspb.BinaryConstants.TWO_TO_31),this.buffer_.push(e>>>0&255),this.buffer_.push(e>>>8&255),this.buffer_.push(e>>>16&255),this.buffer_.push(e>>>24&255)},jspb.BinaryEncoder.prototype.writeInt64=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_63&&e<jspb.BinaryConstants.TWO_TO_63),jspb.utils.splitInt64(e),this.writeSplitFixed64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeInt64String=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(+e>=-jspb.BinaryConstants.TWO_TO_63&&+e<jspb.BinaryConstants.TWO_TO_63),jspb.utils.splitHash64(jspb.utils.decimalStringToHash64(e)),this.writeSplitFixed64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeFloat=function(e){goog.asserts.assert(1/0===e||-1/0===e||isNaN(e)||e>=-jspb.BinaryConstants.FLOAT32_MAX&&e<=jspb.BinaryConstants.FLOAT32_MAX),jspb.utils.splitFloat32(e),this.writeUint32(jspb.utils.split64Low)},jspb.BinaryEncoder.prototype.writeDouble=function(e){goog.asserts.assert(1/0===e||-1/0===e||isNaN(e)||e>=-jspb.BinaryConstants.FLOAT64_MAX&&e<=jspb.BinaryConstants.FLOAT64_MAX),jspb.utils.splitFloat64(e),this.writeUint32(jspb.utils.split64Low),this.writeUint32(jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeBool=function(e){goog.asserts.assert("boolean"==typeof e||"number"==typeof e),this.buffer_.push(e?1:0)},jspb.BinaryEncoder.prototype.writeEnum=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_31&&e<jspb.BinaryConstants.TWO_TO_31),this.writeSignedVarint32(e)},jspb.BinaryEncoder.prototype.writeBytes=function(e){this.buffer_.push.apply(this.buffer_,e)},jspb.BinaryEncoder.prototype.writeVarintHash64=function(e){jspb.utils.splitHash64(e),this.writeSplitVarint64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeFixedHash64=function(e){jspb.utils.splitHash64(e),this.writeUint32(jspb.utils.split64Low),this.writeUint32(jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeString=function(e){for(var t=this.buffer_.length,r=0;r<e.length;r++){var o=e.charCodeAt(r);if(128>o)this.buffer_.push(o);else if(2048>o)this.buffer_.push(o>>6|192),this.buffer_.push(63&o|128);else if(65536>o)if(55296<=o&&56319>=o&&r+1<e.length){var n=e.charCodeAt(r+1);56320<=n&&57343>=n&&(o=1024*(o-55296)+n-56320+65536,this.buffer_.push(o>>18|240),this.buffer_.push(o>>12&63|128),this.buffer_.push(o>>6&63|128),this.buffer_.push(63&o|128),r++)}else this.buffer_.push(o>>12|224),this.buffer_.push(o>>6&63|128),this.buffer_.push(63&o|128)}return this.buffer_.length-t},jspb.arith={},jspb.arith.UInt64=function(e,t){this.lo=e,this.hi=t},jspb.arith.UInt64.prototype.cmp=function(e){return this.hi<e.hi||this.hi==e.hi&&this.lo<e.lo?-1:this.hi==e.hi&&this.lo==e.lo?0:1},jspb.arith.UInt64.prototype.rightShift=function(){return new jspb.arith.UInt64((this.lo>>>1|(1&this.hi)<<31)>>>0,this.hi>>>1>>>0)},jspb.arith.UInt64.prototype.leftShift=function(){return new jspb.arith.UInt64(this.lo<<1>>>0,(this.hi<<1|this.lo>>>31)>>>0)},jspb.arith.UInt64.prototype.msb=function(){return!!(2147483648&this.hi)},jspb.arith.UInt64.prototype.lsb=function(){return!!(1&this.lo)},jspb.arith.UInt64.prototype.zero=function(){return 0==this.lo&&0==this.hi},jspb.arith.UInt64.prototype.add=function(e){return new jspb.arith.UInt64((this.lo+e.lo&4294967295)>>>0>>>0,((this.hi+e.hi&4294967295)>>>0)+(4294967296<=this.lo+e.lo?1:0)>>>0)},jspb.arith.UInt64.prototype.sub=function(e){return new jspb.arith.UInt64((this.lo-e.lo&4294967295)>>>0>>>0,((this.hi-e.hi&4294967295)>>>0)-(0>this.lo-e.lo?1:0)>>>0)},jspb.arith.UInt64.mul32x32=function(e,t){var r=65535&e,o=65535&t,n=t>>>16;for(t=r*o+65536*(r*n&65535)+65536*((e>>>=16)*o&65535),r=e*n+(r*n>>>16)+(e*o>>>16);4294967296<=t;)t-=4294967296,r+=1;return new jspb.arith.UInt64(t>>>0,r>>>0)},jspb.arith.UInt64.prototype.mul=function(e){var t=jspb.arith.UInt64.mul32x32(this.lo,e);return(e=jspb.arith.UInt64.mul32x32(this.hi,e)).hi=e.lo,e.lo=0,t.add(e)},jspb.arith.UInt64.prototype.div=function(e){if(0==e)return[];var t=new jspb.arith.UInt64(0,0),r=new jspb.arith.UInt64(this.lo,this.hi);e=new jspb.arith.UInt64(e,0);for(var o=new jspb.arith.UInt64(1,0);!e.msb();)e=e.leftShift(),o=o.leftShift();for(;!o.zero();)0>=e.cmp(r)&&(t=t.add(o),r=r.sub(e)),e=e.rightShift(),o=o.rightShift();return[t,r]},jspb.arith.UInt64.prototype.toString=function(){for(var e="",t=this;!t.zero();){var r=(t=t.div(10))[0];e=t[1].lo+e,t=r}return""==e&&(e="0"),e},jspb.arith.UInt64.fromString=function(e){for(var t=new jspb.arith.UInt64(0,0),r=new jspb.arith.UInt64(0,0),o=0;o<e.length;o++){if("0">e[o]||"9"<e[o])return null;var n=parseInt(e[o],10);r.lo=n,t=t.mul(10).add(r)}return t},jspb.arith.UInt64.prototype.clone=function(){return new jspb.arith.UInt64(this.lo,this.hi)},jspb.arith.Int64=function(e,t){this.lo=e,this.hi=t},jspb.arith.Int64.prototype.add=function(e){return new jspb.arith.Int64((this.lo+e.lo&4294967295)>>>0>>>0,((this.hi+e.hi&4294967295)>>>0)+(4294967296<=this.lo+e.lo?1:0)>>>0)},jspb.arith.Int64.prototype.sub=function(e){return new jspb.arith.Int64((this.lo-e.lo&4294967295)>>>0>>>0,((this.hi-e.hi&4294967295)>>>0)-(0>this.lo-e.lo?1:0)>>>0)},jspb.arith.Int64.prototype.clone=function(){return new jspb.arith.Int64(this.lo,this.hi)},jspb.arith.Int64.prototype.toString=function(){var e=0!=(2147483648&this.hi),t=new jspb.arith.UInt64(this.lo,this.hi);return e&&(t=new jspb.arith.UInt64(0,0).sub(t)),(e?"-":"")+t.toString()},jspb.arith.Int64.fromString=function(e){var t=0<e.length&&"-"==e[0];return t&&(e=e.substring(1)),null===(e=jspb.arith.UInt64.fromString(e))?null:(t&&(e=new jspb.arith.UInt64(0,0).sub(e)),new jspb.arith.Int64(e.lo,e.hi))},jspb.BinaryWriter=function(){this.blocks_=[],this.totalLength_=0,this.encoder_=new jspb.BinaryEncoder,this.bookmarks_=[]},jspb.BinaryWriter.prototype.appendUint8Array_=function(e){var t=this.encoder_.end();this.blocks_.push(t),this.blocks_.push(e),this.totalLength_+=t.length+e.length},jspb.BinaryWriter.prototype.beginDelimited_=function(e){return this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),e=this.encoder_.end(),this.blocks_.push(e),this.totalLength_+=e.length,e.push(this.totalLength_),e},jspb.BinaryWriter.prototype.endDelimited_=function(e){var t=e.pop();for(t=this.totalLength_+this.encoder_.length()-t,goog.asserts.assert(0<=t);127<t;)e.push(127&t|128),t>>>=7,this.totalLength_++;e.push(t),this.totalLength_++},jspb.BinaryWriter.prototype.writeSerializedMessage=function(e,t,r){this.appendUint8Array_(e.subarray(t,r))},jspb.BinaryWriter.prototype.maybeWriteSerializedMessage=function(e,t,r){null!=e&&null!=t&&null!=r&&this.writeSerializedMessage(e,t,r)},jspb.BinaryWriter.prototype.reset=function(){this.blocks_=[],this.encoder_.end(),this.totalLength_=0,this.bookmarks_=[]},jspb.BinaryWriter.prototype.getResultBuffer=function(){goog.asserts.assert(0==this.bookmarks_.length);for(var e=new Uint8Array(this.totalLength_+this.encoder_.length()),t=this.blocks_,r=t.length,o=0,n=0;n<r;n++){var i=t[n];e.set(i,o),o+=i.length}return t=this.encoder_.end(),e.set(t,o),o+=t.length,goog.asserts.assert(o==e.length),this.blocks_=[e],e},jspb.BinaryWriter.prototype.getResultBase64String=function(e){return goog.crypt.base64.encodeByteArray(this.getResultBuffer(),e)},jspb.BinaryWriter.prototype.beginSubMessage=function(e){this.bookmarks_.push(this.beginDelimited_(e))},jspb.BinaryWriter.prototype.endSubMessage=function(){goog.asserts.assert(0<=this.bookmarks_.length),this.endDelimited_(this.bookmarks_.pop())},jspb.BinaryWriter.prototype.writeFieldHeader_=function(e,t){goog.asserts.assert(1<=e&&e==Math.floor(e)),this.encoder_.writeUnsignedVarint32(8*e+t)},jspb.BinaryWriter.prototype.writeAny=function(e,t,r){var o=jspb.BinaryConstants.FieldType;switch(e){case o.DOUBLE:this.writeDouble(t,r);break;case o.FLOAT:this.writeFloat(t,r);break;case o.INT64:this.writeInt64(t,r);break;case o.UINT64:this.writeUint64(t,r);break;case o.INT32:this.writeInt32(t,r);break;case o.FIXED64:this.writeFixed64(t,r);break;case o.FIXED32:this.writeFixed32(t,r);break;case o.BOOL:this.writeBool(t,r);break;case o.STRING:this.writeString(t,r);break;case o.GROUP:goog.asserts.fail("Group field type not supported in writeAny()");break;case o.MESSAGE:goog.asserts.fail("Message field type not supported in writeAny()");break;case o.BYTES:this.writeBytes(t,r);break;case o.UINT32:this.writeUint32(t,r);break;case o.ENUM:this.writeEnum(t,r);break;case o.SFIXED32:this.writeSfixed32(t,r);break;case o.SFIXED64:this.writeSfixed64(t,r);break;case o.SINT32:this.writeSint32(t,r);break;case o.SINT64:this.writeSint64(t,r);break;case o.FHASH64:this.writeFixedHash64(t,r);break;case o.VHASH64:this.writeVarintHash64(t,r);break;default:goog.asserts.fail("Invalid field type in writeAny()")}},jspb.BinaryWriter.prototype.writeUnsignedVarint32_=function(e,t){null!=t&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeUnsignedVarint32(t))},jspb.BinaryWriter.prototype.writeSignedVarint32_=function(e,t){null!=t&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSignedVarint32(t))},jspb.BinaryWriter.prototype.writeUnsignedVarint64_=function(e,t){null!=t&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeUnsignedVarint64(t))},jspb.BinaryWriter.prototype.writeSignedVarint64_=function(e,t){null!=t&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSignedVarint64(t))},jspb.BinaryWriter.prototype.writeZigzagVarint32_=function(e,t){null!=t&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeZigzagVarint32(t))},jspb.BinaryWriter.prototype.writeZigzagVarint64_=function(e,t){null!=t&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeZigzagVarint64(t))},jspb.BinaryWriter.prototype.writeZigzagVarint64String_=function(e,t){null!=t&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeZigzagVarint64String(t))},jspb.BinaryWriter.prototype.writeZigzagVarintHash64_=function(e,t){null!=t&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeZigzagVarintHash64(t))},jspb.BinaryWriter.prototype.writeInt32=function(e,t){null!=t&&(goog.asserts.assert(t>=-jspb.BinaryConstants.TWO_TO_31&&t<jspb.BinaryConstants.TWO_TO_31),this.writeSignedVarint32_(e,t))},jspb.BinaryWriter.prototype.writeInt32String=function(e,t){null!=t&&(t=parseInt(t,10),goog.asserts.assert(t>=-jspb.BinaryConstants.TWO_TO_31&&t<jspb.BinaryConstants.TWO_TO_31),this.writeSignedVarint32_(e,t))},jspb.BinaryWriter.prototype.writeInt64=function(e,t){null!=t&&(goog.asserts.assert(t>=-jspb.BinaryConstants.TWO_TO_63&&t<jspb.BinaryConstants.TWO_TO_63),this.writeSignedVarint64_(e,t))},jspb.BinaryWriter.prototype.writeInt64String=function(e,t){null!=t&&(t=jspb.arith.Int64.fromString(t),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSplitVarint64(t.lo,t.hi))},jspb.BinaryWriter.prototype.writeUint32=function(e,t){null!=t&&(goog.asserts.assert(0<=t&&t<jspb.BinaryConstants.TWO_TO_32),this.writeUnsignedVarint32_(e,t))},jspb.BinaryWriter.prototype.writeUint32String=function(e,t){null!=t&&(t=parseInt(t,10),goog.asserts.assert(0<=t&&t<jspb.BinaryConstants.TWO_TO_32),this.writeUnsignedVarint32_(e,t))},jspb.BinaryWriter.prototype.writeUint64=function(e,t){null!=t&&(goog.asserts.assert(0<=t&&t<jspb.BinaryConstants.TWO_TO_64),this.writeUnsignedVarint64_(e,t))},jspb.BinaryWriter.prototype.writeUint64String=function(e,t){null!=t&&(t=jspb.arith.UInt64.fromString(t),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSplitVarint64(t.lo,t.hi))},jspb.BinaryWriter.prototype.writeSint32=function(e,t){null!=t&&(goog.asserts.assert(t>=-jspb.BinaryConstants.TWO_TO_31&&t<jspb.BinaryConstants.TWO_TO_31),this.writeZigzagVarint32_(e,t))},jspb.BinaryWriter.prototype.writeSint64=function(e,t){null!=t&&(goog.asserts.assert(t>=-jspb.BinaryConstants.TWO_TO_63&&t<jspb.BinaryConstants.TWO_TO_63),this.writeZigzagVarint64_(e,t))},jspb.BinaryWriter.prototype.writeSintHash64=function(e,t){null!=t&&this.writeZigzagVarintHash64_(e,t)},jspb.BinaryWriter.prototype.writeSint64String=function(e,t){null!=t&&this.writeZigzagVarint64String_(e,t)},jspb.BinaryWriter.prototype.writeFixed32=function(e,t){null!=t&&(goog.asserts.assert(0<=t&&t<jspb.BinaryConstants.TWO_TO_32),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED32),this.encoder_.writeUint32(t))},jspb.BinaryWriter.prototype.writeFixed64=function(e,t){null!=t&&(goog.asserts.assert(0<=t&&t<jspb.BinaryConstants.TWO_TO_64),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeUint64(t))},jspb.BinaryWriter.prototype.writeFixed64String=function(e,t){null!=t&&(t=jspb.arith.UInt64.fromString(t),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeSplitFixed64(t.lo,t.hi))},jspb.BinaryWriter.prototype.writeSfixed32=function(e,t){null!=t&&(goog.asserts.assert(t>=-jspb.BinaryConstants.TWO_TO_31&&t<jspb.BinaryConstants.TWO_TO_31),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED32),this.encoder_.writeInt32(t))},jspb.BinaryWriter.prototype.writeSfixed64=function(e,t){null!=t&&(goog.asserts.assert(t>=-jspb.BinaryConstants.TWO_TO_63&&t<jspb.BinaryConstants.TWO_TO_63),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeInt64(t))},jspb.BinaryWriter.prototype.writeSfixed64String=function(e,t){null!=t&&(t=jspb.arith.Int64.fromString(t),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeSplitFixed64(t.lo,t.hi))},jspb.BinaryWriter.prototype.writeFloat=function(e,t){null!=t&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED32),this.encoder_.writeFloat(t))},jspb.BinaryWriter.prototype.writeDouble=function(e,t){null!=t&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeDouble(t))},jspb.BinaryWriter.prototype.writeBool=function(e,t){null!=t&&(goog.asserts.assert("boolean"==typeof t||"number"==typeof t),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeBool(t))},jspb.BinaryWriter.prototype.writeEnum=function(e,t){null!=t&&(goog.asserts.assert(t>=-jspb.BinaryConstants.TWO_TO_31&&t<jspb.BinaryConstants.TWO_TO_31),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSignedVarint32(t))},jspb.BinaryWriter.prototype.writeString=function(e,t){null!=t&&(e=this.beginDelimited_(e),this.encoder_.writeString(t),this.endDelimited_(e))},jspb.BinaryWriter.prototype.writeBytes=function(e,t){null!=t&&(t=jspb.utils.byteSourceToUint8Array(t),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(t.length),this.appendUint8Array_(t))},jspb.BinaryWriter.prototype.writeMessage=function(e,t,r){null!=t&&(e=this.beginDelimited_(e),r(t,this),this.endDelimited_(e))},jspb.BinaryWriter.prototype.writeMessageSet=function(e,t,r){null!=t&&(this.writeFieldHeader_(1,jspb.BinaryConstants.WireType.START_GROUP),this.writeFieldHeader_(2,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSignedVarint32(e),e=this.beginDelimited_(3),r(t,this),this.endDelimited_(e),this.writeFieldHeader_(1,jspb.BinaryConstants.WireType.END_GROUP))},jspb.BinaryWriter.prototype.writeGroup=function(e,t,r){null!=t&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.START_GROUP),r(t,this),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.END_GROUP))},jspb.BinaryWriter.prototype.writeFixedHash64=function(e,t){null!=t&&(goog.asserts.assert(8==t.length),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeFixedHash64(t))},jspb.BinaryWriter.prototype.writeVarintHash64=function(e,t){null!=t&&(goog.asserts.assert(8==t.length),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeVarintHash64(t))},jspb.BinaryWriter.prototype.writeSplitFixed64=function(e,t,r){this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeSplitFixed64(t,r)},jspb.BinaryWriter.prototype.writeSplitVarint64=function(e,t,r){this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSplitVarint64(t,r)},jspb.BinaryWriter.prototype.writeSplitZigzagVarint64=function(e,t,r){this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT);var o=this.encoder_;jspb.utils.toZigzag64(t,r,(function(e,t){o.writeSplitVarint64(e>>>0,t>>>0)}))},jspb.BinaryWriter.prototype.writeRepeatedInt32=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeSignedVarint32_(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedInt32String=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeInt32String(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedInt64=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeSignedVarint64_(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedSplitFixed64=function(e,t,r,o){if(null!=t)for(var n=0;n<t.length;n++)this.writeSplitFixed64(e,r(t[n]),o(t[n]))},jspb.BinaryWriter.prototype.writeRepeatedSplitVarint64=function(e,t,r,o){if(null!=t)for(var n=0;n<t.length;n++)this.writeSplitVarint64(e,r(t[n]),o(t[n]))},jspb.BinaryWriter.prototype.writeRepeatedSplitZigzagVarint64=function(e,t,r,o){if(null!=t)for(var n=0;n<t.length;n++)this.writeSplitZigzagVarint64(e,r(t[n]),o(t[n]))},jspb.BinaryWriter.prototype.writeRepeatedInt64String=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeInt64String(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedUint32=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeUnsignedVarint32_(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedUint32String=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeUint32String(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedUint64=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeUnsignedVarint64_(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedUint64String=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeUint64String(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedSint32=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeZigzagVarint32_(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedSint64=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeZigzagVarint64_(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedSint64String=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeZigzagVarint64String_(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedSintHash64=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeZigzagVarintHash64_(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedFixed32=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeFixed32(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedFixed64=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeFixed64(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedFixed64String=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeFixed64String(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedSfixed32=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeSfixed32(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedSfixed64=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeSfixed64(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedSfixed64String=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeSfixed64String(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedFloat=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeFloat(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedDouble=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeDouble(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedBool=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeBool(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedEnum=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeEnum(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedString=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeString(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedBytes=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeBytes(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedMessage=function(e,t,r){if(null!=t)for(var o=0;o<t.length;o++){var n=this.beginDelimited_(e);r(t[o],this),this.endDelimited_(n)}},jspb.BinaryWriter.prototype.writeRepeatedGroup=function(e,t,r){if(null!=t)for(var o=0;o<t.length;o++)this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.START_GROUP),r(t[o],this),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.END_GROUP)},jspb.BinaryWriter.prototype.writeRepeatedFixedHash64=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeFixedHash64(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedVarintHash64=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeVarintHash64(e,t[r])},jspb.BinaryWriter.prototype.writePackedInt32=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++)this.encoder_.writeSignedVarint32(t[r]);this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedInt32String=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++)this.encoder_.writeSignedVarint32(parseInt(t[r],10));this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedInt64=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++)this.encoder_.writeSignedVarint64(t[r]);this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedSplitFixed64=function(e,t,r,o){if(null!=t){e=this.beginDelimited_(e);for(var n=0;n<t.length;n++)this.encoder_.writeSplitFixed64(r(t[n]),o(t[n]));this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedSplitVarint64=function(e,t,r,o){if(null!=t){e=this.beginDelimited_(e);for(var n=0;n<t.length;n++)this.encoder_.writeSplitVarint64(r(t[n]),o(t[n]));this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedSplitZigzagVarint64=function(e,t,r,o){if(null!=t){e=this.beginDelimited_(e);for(var n=this.encoder_,i=0;i<t.length;i++)jspb.utils.toZigzag64(r(t[i]),o(t[i]),(function(e,t){n.writeSplitVarint64(e>>>0,t>>>0)}));this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedInt64String=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++){var o=jspb.arith.Int64.fromString(t[r]);this.encoder_.writeSplitVarint64(o.lo,o.hi)}this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedUint32=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++)this.encoder_.writeUnsignedVarint32(t[r]);this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedUint32String=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++)this.encoder_.writeUnsignedVarint32(parseInt(t[r],10));this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedUint64=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++)this.encoder_.writeUnsignedVarint64(t[r]);this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedUint64String=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++){var o=jspb.arith.UInt64.fromString(t[r]);this.encoder_.writeSplitVarint64(o.lo,o.hi)}this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedSint32=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++)this.encoder_.writeZigzagVarint32(t[r]);this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedSint64=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++)this.encoder_.writeZigzagVarint64(t[r]);this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedSint64String=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++)this.encoder_.writeZigzagVarintHash64(jspb.utils.decimalStringToHash64(t[r]));this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedSintHash64=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++)this.encoder_.writeZigzagVarintHash64(t[r]);this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedFixed32=function(e,t){if(null!=t&&t.length)for(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(4*t.length),e=0;e<t.length;e++)this.encoder_.writeUint32(t[e])},jspb.BinaryWriter.prototype.writePackedFixed64=function(e,t){if(null!=t&&t.length)for(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*t.length),e=0;e<t.length;e++)this.encoder_.writeUint64(t[e])},jspb.BinaryWriter.prototype.writePackedFixed64String=function(e,t){if(null!=t&&t.length)for(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*t.length),e=0;e<t.length;e++){var r=jspb.arith.UInt64.fromString(t[e]);this.encoder_.writeSplitFixed64(r.lo,r.hi)}},jspb.BinaryWriter.prototype.writePackedSfixed32=function(e,t){if(null!=t&&t.length)for(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(4*t.length),e=0;e<t.length;e++)this.encoder_.writeInt32(t[e])},jspb.BinaryWriter.prototype.writePackedSfixed64=function(e,t){if(null!=t&&t.length)for(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*t.length),e=0;e<t.length;e++)this.encoder_.writeInt64(t[e])},jspb.BinaryWriter.prototype.writePackedSfixed64String=function(e,t){if(null!=t&&t.length)for(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*t.length),e=0;e<t.length;e++)this.encoder_.writeInt64String(t[e])},jspb.BinaryWriter.prototype.writePackedFloat=function(e,t){if(null!=t&&t.length)for(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(4*t.length),e=0;e<t.length;e++)this.encoder_.writeFloat(t[e])},jspb.BinaryWriter.prototype.writePackedDouble=function(e,t){if(null!=t&&t.length)for(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*t.length),e=0;e<t.length;e++)this.encoder_.writeDouble(t[e])},jspb.BinaryWriter.prototype.writePackedBool=function(e,t){if(null!=t&&t.length)for(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(t.length),e=0;e<t.length;e++)this.encoder_.writeBool(t[e])},jspb.BinaryWriter.prototype.writePackedEnum=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++)this.encoder_.writeEnum(t[r]);this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedFixedHash64=function(e,t){if(null!=t&&t.length)for(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*t.length),e=0;e<t.length;e++)this.encoder_.writeFixedHash64(t[e])},jspb.BinaryWriter.prototype.writePackedVarintHash64=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++)this.encoder_.writeVarintHash64(t[r]);this.endDelimited_(e)}},jspb.Map=function(e,t){this.arr_=e,this.valueCtor_=t,this.map_={},this.arrClean=!0,0<this.arr_.length&&this.loadFromArray_()},jspb.Map.prototype.loadFromArray_=function(){for(var e=0;e<this.arr_.length;e++){var t=this.arr_[e],r=t[0];this.map_[r.toString()]=new jspb.Map.Entry_(r,t[1])}this.arrClean=!0},jspb.Map.prototype.toArray=function(){if(this.arrClean){if(this.valueCtor_){var e,t=this.map_;for(e in t)if(Object.prototype.hasOwnProperty.call(t,e)){var r=t[e].valueWrapper;r&&r.toArray()}}}else{for(this.arr_.length=0,(t=this.stringKeys_()).sort(),e=0;e<t.length;e++){var o=this.map_[t[e]];(r=o.valueWrapper)&&r.toArray(),this.arr_.push([o.key,o.value])}this.arrClean=!0}return this.arr_},jspb.Map.prototype.toObject=function(e,t){for(var r=this.toArray(),o=[],n=0;n<r.length;n++){var i=this.map_[r[n][0].toString()];this.wrapEntry_(i);var s=i.valueWrapper;s?(goog.asserts.assert(t),o.push([i.key,t(e,s)])):o.push([i.key,i.value])}return o},jspb.Map.fromObject=function(e,t,r){t=new jspb.Map([],t);for(var o=0;o<e.length;o++){var n=e[o][0],i=r(e[o][1]);t.set(n,i)}return t},jspb.Map.ArrayIteratorIterable_=function(e){this.idx_=0,this.arr_=e},jspb.Map.ArrayIteratorIterable_.prototype.next=function(){return this.idx_<this.arr_.length?{done:!1,value:this.arr_[this.idx_++]}:{done:!0,value:void 0}},"undefined"!=typeof Symbol&&(jspb.Map.ArrayIteratorIterable_.prototype[Symbol.iterator]=function(){return this}),jspb.Map.prototype.getLength=function(){return this.stringKeys_().length},jspb.Map.prototype.clear=function(){this.map_={},this.arrClean=!1},jspb.Map.prototype.del=function(e){e=e.toString();var t=this.map_.hasOwnProperty(e);return delete this.map_[e],this.arrClean=!1,t},jspb.Map.prototype.getEntryList=function(){var e=[],t=this.stringKeys_();t.sort();for(var r=0;r<t.length;r++){var o=this.map_[t[r]];e.push([o.key,o.value])}return e},jspb.Map.prototype.entries=function(){var e=[],t=this.stringKeys_();t.sort();for(var r=0;r<t.length;r++){var o=this.map_[t[r]];e.push([o.key,this.wrapEntry_(o)])}return new jspb.Map.ArrayIteratorIterable_(e)},jspb.Map.prototype.keys=function(){var e=[],t=this.stringKeys_();t.sort();for(var r=0;r<t.length;r++)e.push(this.map_[t[r]].key);return new jspb.Map.ArrayIteratorIterable_(e)},jspb.Map.prototype.values=function(){var e=[],t=this.stringKeys_();t.sort();for(var r=0;r<t.length;r++)e.push(this.wrapEntry_(this.map_[t[r]]));return new jspb.Map.ArrayIteratorIterable_(e)},jspb.Map.prototype.forEach=function(e,t){var r=this.stringKeys_();r.sort();for(var o=0;o<r.length;o++){var n=this.map_[r[o]];e.call(t,this.wrapEntry_(n),n.key,this)}},jspb.Map.prototype.set=function(e,t){var r=new jspb.Map.Entry_(e);return this.valueCtor_?(r.valueWrapper=t,r.value=t.toArray()):r.value=t,this.map_[e.toString()]=r,this.arrClean=!1,this},jspb.Map.prototype.wrapEntry_=function(e){return this.valueCtor_?(e.valueWrapper||(e.valueWrapper=new this.valueCtor_(e.value)),e.valueWrapper):e.value},jspb.Map.prototype.get=function(e){if(e=this.map_[e.toString()])return this.wrapEntry_(e)},jspb.Map.prototype.has=function(e){return e.toString()in this.map_},jspb.Map.prototype.serializeBinary=function(e,t,r,o,n){var i=this.stringKeys_();i.sort();for(var s=0;s<i.length;s++){var a=this.map_[i[s]];t.beginSubMessage(e),r.call(t,1,a.key),this.valueCtor_?o.call(t,2,this.wrapEntry_(a),n):o.call(t,2,a.value),t.endSubMessage()}},jspb.Map.deserializeBinary=function(e,t,r,o,n,i,s){for(;t.nextField()&&!t.isEndGroup();){var a=t.getFieldNumber();1==a?i=r.call(t):2==a&&(e.valueCtor_?(goog.asserts.assert(n),s||(s=new e.valueCtor_),o.call(t,s,n)):s=o.call(t))}goog.asserts.assert(null!=i),goog.asserts.assert(null!=s),e.set(i,s)},jspb.Map.prototype.stringKeys_=function(){var e,t=this.map_,r=[];for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&r.push(e);return r},jspb.Map.Entry_=function(e,t){this.key=e,this.value=t,this.valueWrapper=void 0},jspb.ExtensionFieldInfo=function(e,t,r,o,n){this.fieldIndex=e,this.fieldName=t,this.ctor=r,this.toObjectFn=o,this.isRepeated=n},jspb.ExtensionFieldBinaryInfo=function(e,t,r,o,n,i){this.fieldInfo=e,this.binaryReaderFn=t,this.binaryWriterFn=r,this.binaryMessageSerializeFn=o,this.binaryMessageDeserializeFn=n,this.isPacked=i},jspb.ExtensionFieldInfo.prototype.isMessageType=function(){return!!this.ctor},jspb.Message=function(){},jspb.Message.GENERATE_TO_OBJECT=!0,jspb.Message.GENERATE_FROM_OBJECT=!goog.DISALLOW_TEST_ONLY_CODE,jspb.Message.GENERATE_TO_STRING=!0,jspb.Message.ASSUME_LOCAL_ARRAYS=!1,jspb.Message.SERIALIZE_EMPTY_TRAILING_FIELDS=!0,jspb.Message.SUPPORTS_UINT8ARRAY_="function"==typeof Uint8Array,jspb.Message.prototype.getJsPbMessageId=function(){return this.messageId_},jspb.Message.getIndex_=function(e,t){return t+e.arrayIndexOffset_},jspb.Message.hiddenES6Property_=function(){},jspb.Message.getFieldNumber_=function(e,t){return t-e.arrayIndexOffset_},jspb.Message.initialize=function(e,t,r,o,n,i){if(e.wrappers_=null,t||(t=r?[r]:[]),e.messageId_=r?String(r):void 0,e.arrayIndexOffset_=0===r?-1:0,e.array=t,jspb.Message.initPivotAndExtensionObject_(e,o),e.convertedPrimitiveFields_={},jspb.Message.SERIALIZE_EMPTY_TRAILING_FIELDS||(e.repeatedFields=n),n)for(t=0;t<n.length;t++)(r=n[t])<e.pivot_?(r=jspb.Message.getIndex_(e,r),e.array[r]=e.array[r]||jspb.Message.EMPTY_LIST_SENTINEL_):(jspb.Message.maybeInitEmptyExtensionObject_(e),e.extensionObject_[r]=e.extensionObject_[r]||jspb.Message.EMPTY_LIST_SENTINEL_);if(i&&i.length)for(t=0;t<i.length;t++)jspb.Message.computeOneofCase(e,i[t])},jspb.Message.EMPTY_LIST_SENTINEL_=goog.DEBUG&&Object.freeze?Object.freeze([]):[],jspb.Message.isArray_=function(e){return jspb.Message.ASSUME_LOCAL_ARRAYS?e instanceof Array:Array.isArray(e)},jspb.Message.isExtensionObject_=function(e){return!(null===e||"object"!=typeof e||jspb.Message.isArray_(e)||jspb.Message.SUPPORTS_UINT8ARRAY_&&e instanceof Uint8Array)},jspb.Message.initPivotAndExtensionObject_=function(e,t){var r=e.array.length,o=-1;if(r&&(o=r-1,r=e.array[o],jspb.Message.isExtensionObject_(r)))return e.pivot_=jspb.Message.getFieldNumber_(e,o),void(e.extensionObject_=r);-1<t?(e.pivot_=Math.max(t,jspb.Message.getFieldNumber_(e,o+1)),e.extensionObject_=null):e.pivot_=Number.MAX_VALUE},jspb.Message.maybeInitEmptyExtensionObject_=function(e){var t=jspb.Message.getIndex_(e,e.pivot_);e.array[t]||(e.extensionObject_=e.array[t]={})},jspb.Message.toObjectList=function(e,t,r){for(var o=[],n=0;n<e.length;n++)o[n]=t.call(e[n],r,e[n]);return o},jspb.Message.toObjectExtension=function(e,t,r,o,n){for(var i in r){var s=r[i],a=o.call(e,s);if(null!=a){for(var u in s.fieldName)if(s.fieldName.hasOwnProperty(u))break;t[u]=s.toObjectFn?s.isRepeated?jspb.Message.toObjectList(a,s.toObjectFn,n):s.toObjectFn(n,a):a}}},jspb.Message.serializeBinaryExtensions=function(e,t,r,o){for(var n in r){var i=r[n],s=i.fieldInfo;if(!i.binaryWriterFn)throw Error("Message extension present that was generated without binary serialization support");var a=o.call(e,s);if(null!=a)if(s.isMessageType()){if(!i.binaryMessageSerializeFn)throw Error("Message extension present holding submessage without binary support enabled, and message is being serialized to binary format");i.binaryWriterFn.call(t,s.fieldIndex,a,i.binaryMessageSerializeFn)}else i.binaryWriterFn.call(t,s.fieldIndex,a)}},jspb.Message.readBinaryExtension=function(e,t,r,o,n){var i=r[t.getFieldNumber()];if(i){if(r=i.fieldInfo,!i.binaryReaderFn)throw Error("Deserializing extension whose generated code does not support binary format");if(r.isMessageType()){var s=new r.ctor;i.binaryReaderFn.call(t,s,i.binaryMessageDeserializeFn)}else s=i.binaryReaderFn.call(t);r.isRepeated&&!i.isPacked?(t=o.call(e,r))?t.push(s):n.call(e,r,[s]):n.call(e,r,s)}else t.skipField()},jspb.Message.getField=function(e,t){if(t<e.pivot_){t=jspb.Message.getIndex_(e,t);var r=e.array[t];return r===jspb.Message.EMPTY_LIST_SENTINEL_?e.array[t]=[]:r}if(e.extensionObject_)return(r=e.extensionObject_[t])===jspb.Message.EMPTY_LIST_SENTINEL_?e.extensionObject_[t]=[]:r},jspb.Message.getRepeatedField=function(e,t){return jspb.Message.getField(e,t)},jspb.Message.getOptionalFloatingPointField=function(e,t){return null==(e=jspb.Message.getField(e,t))?e:+e},jspb.Message.getBooleanField=function(e,t){return null==(e=jspb.Message.getField(e,t))?e:!!e},jspb.Message.getRepeatedFloatingPointField=function(e,t){var r=jspb.Message.getRepeatedField(e,t);if(e.convertedPrimitiveFields_||(e.convertedPrimitiveFields_={}),!e.convertedPrimitiveFields_[t]){for(var o=0;o<r.length;o++)r[o]=+r[o];e.convertedPrimitiveFields_[t]=!0}return r},jspb.Message.getRepeatedBooleanField=function(e,t){var r=jspb.Message.getRepeatedField(e,t);if(e.convertedPrimitiveFields_||(e.convertedPrimitiveFields_={}),!e.convertedPrimitiveFields_[t]){for(var o=0;o<r.length;o++)r[o]=!!r[o];e.convertedPrimitiveFields_[t]=!0}return r},jspb.Message.bytesAsB64=function(e){return null==e||"string"==typeof e?e:jspb.Message.SUPPORTS_UINT8ARRAY_&&e instanceof Uint8Array?goog.crypt.base64.encodeByteArray(e):(goog.asserts.fail("Cannot coerce to b64 string: "+goog.typeOf(e)),null)},jspb.Message.bytesAsU8=function(e){return null==e||e instanceof Uint8Array?e:"string"==typeof e?goog.crypt.base64.decodeStringToUint8Array(e):(goog.asserts.fail("Cannot coerce to Uint8Array: "+goog.typeOf(e)),null)},jspb.Message.bytesListAsB64=function(e){return jspb.Message.assertConsistentTypes_(e),e.length&&"string"!=typeof e[0]?goog.array.map(e,jspb.Message.bytesAsB64):e},jspb.Message.bytesListAsU8=function(e){return jspb.Message.assertConsistentTypes_(e),!e.length||e[0]instanceof Uint8Array?e:goog.array.map(e,jspb.Message.bytesAsU8)},jspb.Message.assertConsistentTypes_=function(e){if(goog.DEBUG&&e&&1<e.length){var t=goog.typeOf(e[0]);goog.array.forEach(e,(function(e){goog.typeOf(e)!=t&&goog.asserts.fail("Inconsistent type in JSPB repeated field array. Got "+goog.typeOf(e)+" expected "+t)}))}},jspb.Message.getFieldWithDefault=function(e,t,r){return null==(e=jspb.Message.getField(e,t))?r:e},jspb.Message.getBooleanFieldWithDefault=function(e,t,r){return null==(e=jspb.Message.getBooleanField(e,t))?r:e},jspb.Message.getFloatingPointFieldWithDefault=function(e,t,r){return null==(e=jspb.Message.getOptionalFloatingPointField(e,t))?r:e},jspb.Message.getFieldProto3=jspb.Message.getFieldWithDefault,jspb.Message.getMapField=function(e,t,r,o){if(e.wrappers_||(e.wrappers_={}),t in e.wrappers_)return e.wrappers_[t];var n=jspb.Message.getField(e,t);if(!n){if(r)return;n=[],jspb.Message.setField(e,t,n)}return e.wrappers_[t]=new jspb.Map(n,o)},jspb.Message.setField=function(e,t,r){return goog.asserts.assertInstanceof(e,jspb.Message),t<e.pivot_?e.array[jspb.Message.getIndex_(e,t)]=r:(jspb.Message.maybeInitEmptyExtensionObject_(e),e.extensionObject_[t]=r),e},jspb.Message.setProto3IntField=function(e,t,r){return jspb.Message.setFieldIgnoringDefault_(e,t,r,0)},jspb.Message.setProto3FloatField=function(e,t,r){return jspb.Message.setFieldIgnoringDefault_(e,t,r,0)},jspb.Message.setProto3BooleanField=function(e,t,r){return jspb.Message.setFieldIgnoringDefault_(e,t,r,!1)},jspb.Message.setProto3StringField=function(e,t,r){return jspb.Message.setFieldIgnoringDefault_(e,t,r,"")},jspb.Message.setProto3BytesField=function(e,t,r){return jspb.Message.setFieldIgnoringDefault_(e,t,r,"")},jspb.Message.setProto3EnumField=function(e,t,r){return jspb.Message.setFieldIgnoringDefault_(e,t,r,0)},jspb.Message.setProto3StringIntField=function(e,t,r){return jspb.Message.setFieldIgnoringDefault_(e,t,r,"0")},jspb.Message.setFieldIgnoringDefault_=function(e,t,r,o){return goog.asserts.assertInstanceof(e,jspb.Message),r!==o?jspb.Message.setField(e,t,r):t<e.pivot_?e.array[jspb.Message.getIndex_(e,t)]=null:(jspb.Message.maybeInitEmptyExtensionObject_(e),delete e.extensionObject_[t]),e},jspb.Message.addToRepeatedField=function(e,t,r,o){return goog.asserts.assertInstanceof(e,jspb.Message),t=jspb.Message.getRepeatedField(e,t),null!=o?t.splice(o,0,r):t.push(r),e},jspb.Message.setOneofField=function(e,t,r,o){return goog.asserts.assertInstanceof(e,jspb.Message),(r=jspb.Message.computeOneofCase(e,r))&&r!==t&&void 0!==o&&(e.wrappers_&&r in e.wrappers_&&(e.wrappers_[r]=void 0),jspb.Message.setField(e,r,void 0)),jspb.Message.setField(e,t,o)},jspb.Message.computeOneofCase=function(e,t){for(var r,o,n=0;n<t.length;n++){var i=t[n],s=jspb.Message.getField(e,i);null!=s&&(r=i,o=s,jspb.Message.setField(e,i,void 0))}return r?(jspb.Message.setField(e,r,o),r):0},jspb.Message.getWrapperField=function(e,t,r,o){if(e.wrappers_||(e.wrappers_={}),!e.wrappers_[r]){var n=jspb.Message.getField(e,r);(o||n)&&(e.wrappers_[r]=new t(n))}return e.wrappers_[r]},jspb.Message.getRepeatedWrapperField=function(e,t,r){return jspb.Message.wrapRepeatedField_(e,t,r),(t=e.wrappers_[r])==jspb.Message.EMPTY_LIST_SENTINEL_&&(t=e.wrappers_[r]=[]),t},jspb.Message.wrapRepeatedField_=function(e,t,r){if(e.wrappers_||(e.wrappers_={}),!e.wrappers_[r]){for(var o=jspb.Message.getRepeatedField(e,r),n=[],i=0;i<o.length;i++)n[i]=new t(o[i]);e.wrappers_[r]=n}},jspb.Message.setWrapperField=function(e,t,r){goog.asserts.assertInstanceof(e,jspb.Message),e.wrappers_||(e.wrappers_={});var o=r?r.toArray():r;return e.wrappers_[t]=r,jspb.Message.setField(e,t,o)},jspb.Message.setOneofWrapperField=function(e,t,r,o){goog.asserts.assertInstanceof(e,jspb.Message),e.wrappers_||(e.wrappers_={});var n=o?o.toArray():o;return e.wrappers_[t]=o,jspb.Message.setOneofField(e,t,r,n)},jspb.Message.setRepeatedWrapperField=function(e,t,r){goog.asserts.assertInstanceof(e,jspb.Message),e.wrappers_||(e.wrappers_={}),r=r||[];for(var o=[],n=0;n<r.length;n++)o[n]=r[n].toArray();return e.wrappers_[t]=r,jspb.Message.setField(e,t,o)},jspb.Message.addToRepeatedWrapperField=function(e,t,r,o,n){jspb.Message.wrapRepeatedField_(e,o,t);var i=e.wrappers_[t];return i||(i=e.wrappers_[t]=[]),r=r||new o,e=jspb.Message.getRepeatedField(e,t),null!=n?(i.splice(n,0,r),e.splice(n,0,r.toArray())):(i.push(r),e.push(r.toArray())),r},jspb.Message.toMap=function(e,t,r,o){for(var n={},i=0;i<e.length;i++)n[t.call(e[i])]=r?r.call(e[i],o,e[i]):e[i];return n},jspb.Message.prototype.syncMapFields_=function(){if(this.wrappers_)for(var e in this.wrappers_){var t=this.wrappers_[e];if(Array.isArray(t))for(var r=0;r<t.length;r++)t[r]&&t[r].toArray();else t&&t.toArray()}},jspb.Message.prototype.toArray=function(){return this.syncMapFields_(),this.array},jspb.Message.GENERATE_TO_STRING&&(jspb.Message.prototype.toString=function(){return this.syncMapFields_(),this.array.toString()}),jspb.Message.prototype.getExtension=function(e){if(this.extensionObject_){this.wrappers_||(this.wrappers_={});var t=e.fieldIndex;if(e.isRepeated){if(e.isMessageType())return this.wrappers_[t]||(this.wrappers_[t]=goog.array.map(this.extensionObject_[t]||[],(function(t){return new e.ctor(t)}))),this.wrappers_[t]}else if(e.isMessageType())return!this.wrappers_[t]&&this.extensionObject_[t]&&(this.wrappers_[t]=new e.ctor(this.extensionObject_[t])),this.wrappers_[t];return this.extensionObject_[t]}},jspb.Message.prototype.setExtension=function(e,t){this.wrappers_||(this.wrappers_={}),jspb.Message.maybeInitEmptyExtensionObject_(this);var r=e.fieldIndex;return e.isRepeated?(t=t||[],e.isMessageType()?(this.wrappers_[r]=t,this.extensionObject_[r]=goog.array.map(t,(function(e){return e.toArray()}))):this.extensionObject_[r]=t):e.isMessageType()?(this.wrappers_[r]=t,this.extensionObject_[r]=t?t.toArray():t):this.extensionObject_[r]=t,this},jspb.Message.difference=function(e,t){if(!(e instanceof t.constructor))throw Error("Messages have different types.");var r=e.toArray();t=t.toArray();var o=[],n=0,i=r.length>t.length?r.length:t.length;for(e.getJsPbMessageId()&&(o[0]=e.getJsPbMessageId(),n=1);n<i;n++)jspb.Message.compareFields(r[n],t[n])||(o[n]=t[n]);return new e.constructor(o)},jspb.Message.equals=function(e,t){return e==t||!(!e||!t)&&e instanceof t.constructor&&jspb.Message.compareFields(e.toArray(),t.toArray())},jspb.Message.compareExtensions=function(e,t){e=e||{},t=t||{};var r,o={};for(r in e)o[r]=0;for(r in t)o[r]=0;for(r in o)if(!jspb.Message.compareFields(e[r],t[r]))return!1;return!0},jspb.Message.compareFields=function(e,t){if(e==t)return!0;if(!goog.isObject(e)||!goog.isObject(t))return!!("number"==typeof e&&isNaN(e)||"number"==typeof t&&isNaN(t))&&String(e)==String(t);if(e.constructor!=t.constructor)return!1;if(jspb.Message.SUPPORTS_UINT8ARRAY_&&e.constructor===Uint8Array){if(e.length!=t.length)return!1;for(var r=0;r<e.length;r++)if(e[r]!=t[r])return!1;return!0}if(e.constructor===Array){var o=void 0,n=void 0,i=Math.max(e.length,t.length);for(r=0;r<i;r++){var s=e[r],a=t[r];if(s&&s.constructor==Object&&(goog.asserts.assert(void 0===o),goog.asserts.assert(r===e.length-1),o=s,s=void 0),a&&a.constructor==Object&&(goog.asserts.assert(void 0===n),goog.asserts.assert(r===t.length-1),n=a,a=void 0),!jspb.Message.compareFields(s,a))return!1}return!o&&!n||(o=o||{},n=n||{},jspb.Message.compareExtensions(o,n))}if(e.constructor===Object)return jspb.Message.compareExtensions(e,t);throw Error("Invalid type in JSPB array")},jspb.Message.prototype.cloneMessage=function(){return jspb.Message.cloneMessage(this)},jspb.Message.prototype.clone=function(){return jspb.Message.cloneMessage(this)},jspb.Message.clone=function(e){return jspb.Message.cloneMessage(e)},jspb.Message.cloneMessage=function(e){return new e.constructor(jspb.Message.clone_(e.toArray()))},jspb.Message.copyInto=function(e,t){goog.asserts.assertInstanceof(e,jspb.Message),goog.asserts.assertInstanceof(t,jspb.Message),goog.asserts.assert(e.constructor==t.constructor,"Copy source and target message should have the same type."),e=jspb.Message.clone(e);for(var r=t.toArray(),o=e.toArray(),n=r.length=0;n<o.length;n++)r[n]=o[n];t.wrappers_=e.wrappers_,t.extensionObject_=e.extensionObject_},jspb.Message.clone_=function(e){if(Array.isArray(e)){for(var t=Array(e.length),r=0;r<e.length;r++){var o=e[r];null!=o&&(t[r]="object"==typeof o?jspb.Message.clone_(goog.asserts.assert(o)):o)}return t}if(jspb.Message.SUPPORTS_UINT8ARRAY_&&e instanceof Uint8Array)return new Uint8Array(e);for(r in t={},e)null!=(o=e[r])&&(t[r]="object"==typeof o?jspb.Message.clone_(goog.asserts.assert(o)):o);return t},jspb.Message.registerMessageType=function(e,t){t.messageId=e},jspb.Message.messageSetExtensions={},jspb.Message.messageSetExtensionsBinary={},jspb.Export={};var _Map=jspb.Map,Message=jspb.Message,BinaryReader=jspb.BinaryReader,BinaryWriter=jspb.BinaryWriter,ExtensionFieldInfo=jspb.ExtensionFieldInfo,ExtensionFieldBinaryInfo=jspb.ExtensionFieldBinaryInfo,exportSymbol=goog.exportSymbol,inherits=goog.inherits,object={extend:goog.object.extend},typeOf=goog.typeOf,googleProtobuf={Map:_Map,Message,BinaryReader,BinaryWriter,ExtensionFieldInfo,ExtensionFieldBinaryInfo,exportSymbol,inherits,object,typeOf},threads_pb=createCommonjsModule((function(e,t){var r=googleProtobuf,o=Function("return this")();r.exportSymbol("proto.threads.pb.CollectionConfig",null,o),r.exportSymbol("proto.threads.pb.CreateReply",null,o),r.exportSymbol("proto.threads.pb.CreateRequest",null,o),r.exportSymbol("proto.threads.pb.DeleteCollectionReply",null,o),r.exportSymbol("proto.threads.pb.DeleteCollectionRequest",null,o),r.exportSymbol("proto.threads.pb.DeleteDBReply",null,o),r.exportSymbol("proto.threads.pb.DeleteDBRequest",null,o),r.exportSymbol("proto.threads.pb.DeleteReply",null,o),r.exportSymbol("proto.threads.pb.DeleteRequest",null,o),r.exportSymbol("proto.threads.pb.DiscardReply",null,o),r.exportSymbol("proto.threads.pb.DiscardRequest",null,o),r.exportSymbol("proto.threads.pb.FindByIDReply",null,o),r.exportSymbol("proto.threads.pb.FindByIDRequest",null,o),r.exportSymbol("proto.threads.pb.FindReply",null,o),r.exportSymbol("proto.threads.pb.FindRequest",null,o),r.exportSymbol("proto.threads.pb.GetCollectionIndexesReply",null,o),r.exportSymbol("proto.threads.pb.GetCollectionIndexesRequest",null,o),r.exportSymbol("proto.threads.pb.GetCollectionInfoReply",null,o),r.exportSymbol("proto.threads.pb.GetCollectionInfoRequest",null,o),r.exportSymbol("proto.threads.pb.GetDBInfoReply",null,o),r.exportSymbol("proto.threads.pb.GetDBInfoRequest",null,o),r.exportSymbol("proto.threads.pb.GetTokenReply",null,o),r.exportSymbol("proto.threads.pb.GetTokenReply.PayloadCase",null,o),r.exportSymbol("proto.threads.pb.GetTokenRequest",null,o),r.exportSymbol("proto.threads.pb.GetTokenRequest.PayloadCase",null,o),r.exportSymbol("proto.threads.pb.HasReply",null,o),r.exportSymbol("proto.threads.pb.HasRequest",null,o),r.exportSymbol("proto.threads.pb.Index",null,o),r.exportSymbol("proto.threads.pb.ListCollectionsReply",null,o),r.exportSymbol("proto.threads.pb.ListCollectionsRequest",null,o),r.exportSymbol("proto.threads.pb.ListDBsReply",null,o),r.exportSymbol("proto.threads.pb.ListDBsReply.DB",null,o),r.exportSymbol("proto.threads.pb.ListDBsRequest",null,o),r.exportSymbol("proto.threads.pb.ListenReply",null,o),r.exportSymbol("proto.threads.pb.ListenReply.Action",null,o),r.exportSymbol("proto.threads.pb.ListenRequest",null,o),r.exportSymbol("proto.threads.pb.ListenRequest.Filter",null,o),r.exportSymbol("proto.threads.pb.ListenRequest.Filter.Action",null,o),r.exportSymbol("proto.threads.pb.NewCollectionReply",null,o),r.exportSymbol("proto.threads.pb.NewCollectionRequest",null,o),r.exportSymbol("proto.threads.pb.NewDBFromAddrRequest",null,o),r.exportSymbol("proto.threads.pb.NewDBReply",null,o),r.exportSymbol("proto.threads.pb.NewDBRequest",null,o),r.exportSymbol("proto.threads.pb.ReadTransactionReply",null,o),r.exportSymbol("proto.threads.pb.ReadTransactionReply.OptionCase",null,o),r.exportSymbol("proto.threads.pb.ReadTransactionRequest",null,o),r.exportSymbol("proto.threads.pb.ReadTransactionRequest.OptionCase",null,o),r.exportSymbol("proto.threads.pb.SaveReply",null,o),r.exportSymbol("proto.threads.pb.SaveRequest",null,o),r.exportSymbol("proto.threads.pb.StartTransactionRequest",null,o),r.exportSymbol("proto.threads.pb.UpdateCollectionReply",null,o),r.exportSymbol("proto.threads.pb.UpdateCollectionRequest",null,o),r.exportSymbol("proto.threads.pb.VerifyReply",null,o),r.exportSymbol("proto.threads.pb.VerifyRequest",null,o),r.exportSymbol("proto.threads.pb.WriteTransactionReply",null,o),r.exportSymbol("proto.threads.pb.WriteTransactionReply.OptionCase",null,o),r.exportSymbol("proto.threads.pb.WriteTransactionRequest",null,o),r.exportSymbol("proto.threads.pb.WriteTransactionRequest.OptionCase",null,o),proto.threads.pb.GetTokenRequest=function(e){googleProtobuf.Message.initialize(this,e,0,-1,null,proto.threads.pb.GetTokenRequest.oneofGroups_)},r.inherits(proto.threads.pb.GetTokenRequest,googleProtobuf.Message),r.DEBUG&&!COMPILED&&(proto.threads.pb.GetTokenRequest.displayName="proto.threads.pb.GetTokenRequest"),proto.threads.pb.GetTokenReply=function(e){googleProtobuf.Message.initialize(this,e,0,-1,null,proto.threads.pb.GetTokenReply.oneofGroups_)},r.inherits(proto.threads.pb.GetTokenReply,googleProtobuf.Message),r.DEBUG&&!COMPILED&&(proto.threads.pb.GetTokenReply.displayName="proto.threads.pb.GetTokenReply"),proto.threads.pb.NewDBRequest=function(e){googleProtobuf.Message.initialize(this,e,0,-1,proto.threads.pb.NewDBRequest.repeatedFields_,null)},r.inherits(proto.threads.pb.NewDBRequest,googleProtobuf.Message),r.DEBUG&&!COMPILED&&(proto.threads.pb.NewDBRequest.displayName="proto.threads.pb.NewDBRequest"),proto.threads.pb.NewDBFromAddrRequest=function(e){googleProtobuf.Message.initialize(this,e,0,-1,proto.threads.pb.NewDBFromAddrRequest.repeatedFields_,null)},r.inherits(proto.threads.pb.NewDBFromAddrRequest,googleProtobuf.Message),r.DEBUG&&!COMPILED&&(proto.threads.pb.NewDBFromAddrRequest.displayName="proto.threads.pb.NewDBFromAddrRequest"),proto.threads.pb.CollectionConfig=function(e){googleProtobuf.Message.initialize(this,e,0,-1,proto.threads.pb.CollectionConfig.repeatedFields_,null)},r.inherits(proto.threads.pb.CollectionConfig,googleProtobuf.Message),r.DEBUG&&!COMPILED&&(proto.threads.pb.CollectionConfig.displayName="proto.threads.pb.CollectionConfig"),proto.threads.pb.Index=function(e){googleProtobuf.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.threads.pb.Index,googleProtobuf.Message),r.DEBUG&&!COMPILED&&(proto.threads.pb.Index.displayName="proto.threads.pb.Index"),proto.threads.pb.NewDBReply=function(e){googleProtobuf.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.threads.pb.NewDBReply,googleProtobuf.Message),r.DEBUG&&!COMPILED&&(proto.threads.pb.NewDBReply.displayName="proto.threads.pb.NewDBReply"),proto.threads.pb.ListDBsRequest=function(e){googleProtobuf.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.threads.pb.ListDBsRequest,googleProtobuf.Message),r.DEBUG&&!COMPILED&&(proto.threads.pb.ListDBsRequest.displayName="proto.threads.pb.ListDBsRequest"),proto.threads.pb.ListDBsReply=function(e){googleProtobuf.Message.initialize(this,e,0,-1,proto.threads.pb.ListDBsReply.repeatedFields_,null)},r.inherits(proto.threads.pb.ListDBsReply,googleProtobuf.Message),r.DEBUG&&!COMPILED&&(proto.threads.pb.ListDBsReply.displayName="proto.threads.pb.ListDBsReply"),proto.threads.pb.ListDBsReply.DB=function(e){googleProtobuf.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.threads.pb.ListDBsReply.DB,googleProtobuf.Message),r.DEBUG&&!COMPILED&&(proto.threads.pb.ListDBsReply.DB.displayName="proto.threads.pb.ListDBsReply.DB"),proto.threads.pb.GetDBInfoRequest=function(e){googleProtobuf.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.threads.pb.GetDBInfoRequest,googleProtobuf.Message),r.DEBUG&&!COMPILED&&(proto.threads.pb.GetDBInfoRequest.displayName="proto.threads.pb.GetDBInfoRequest"),proto.threads.pb.GetDBInfoReply=function(e){googleProtobuf.Message.initialize(this,e,0,-1,proto.threads.pb.GetDBInfoReply.repeatedFields_,null)},r.inherits(proto.threads.pb.GetDBInfoReply,googleProtobuf.Message),r.DEBUG&&!COMPILED&&(proto.threads.pb.GetDBInfoReply.displayName="proto.threads.pb.GetDBInfoReply"),proto.threads.pb.DeleteDBRequest=function(e){googleProtobuf.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.threads.pb.DeleteDBRequest,googleProtobuf.Message),r.DEBUG&&!COMPILED&&(proto.threads.pb.DeleteDBRequest.displayName="proto.threads.pb.DeleteDBRequest"),proto.threads.pb.DeleteDBReply=function(e){googleProtobuf.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.threads.pb.DeleteDBReply,googleProtobuf.Message),r.DEBUG&&!COMPILED&&(proto.threads.pb.DeleteDBReply.displayName="proto.threads.pb.DeleteDBReply"),proto.threads.pb.NewCollectionRequest=function(e){googleProtobuf.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.threads.pb.NewCollectionRequest,googleProtobuf.Message),r.DEBUG&&!COMPILED&&(proto.threads.pb.NewCollectionRequest.displayName="proto.threads.pb.NewCollectionRequest"),proto.threads.pb.NewCollectionReply=function(e){googleProtobuf.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.threads.pb.NewCollectionReply,googleProtobuf.Message),r.DEBUG&&!COMPILED&&(proto.threads.pb.NewCollectionReply.displayName="proto.threads.pb.NewCollectionReply"),proto.threads.pb.UpdateCollectionRequest=function(e){googleProtobuf.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.threads.pb.UpdateCollectionRequest,googleProtobuf.Message),r.DEBUG&&!COMPILED&&(proto.threads.pb.UpdateCollectionRequest.displayName="proto.threads.pb.UpdateCollectionRequest"),proto.threads.pb.UpdateCollectionReply=function(e){googleProtobuf.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.threads.pb.UpdateCollectionReply,googleProtobuf.Message),r.DEBUG&&!COMPILED&&(proto.threads.pb.UpdateCollectionReply.displayName="proto.threads.pb.UpdateCollectionReply"),proto.threads.pb.DeleteCollectionRequest=function(e){googleProtobuf.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.threads.pb.DeleteCollectionRequest,googleProtobuf.Message),r.DEBUG&&!COMPILED&&(proto.threads.pb.DeleteCollectionRequest.displayName="proto.threads.pb.DeleteCollectionRequest"),proto.threads.pb.DeleteCollectionReply=function(e){googleProtobuf.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.threads.pb.DeleteCollectionReply,googleProtobuf.Message),r.DEBUG&&!COMPILED&&(proto.threads.pb.DeleteCollectionReply.displayName="proto.threads.pb.DeleteCollectionReply"),proto.threads.pb.GetCollectionInfoRequest=function(e){googleProtobuf.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.threads.pb.GetCollectionInfoRequest,googleProtobuf.Message),r.DEBUG&&!COMPILED&&(proto.threads.pb.GetCollectionInfoRequest.displayName="proto.threads.pb.GetCollectionInfoRequest"),proto.threads.pb.GetCollectionInfoReply=function(e){googleProtobuf.Message.initialize(this,e,0,-1,proto.threads.pb.GetCollectionInfoReply.repeatedFields_,null)},r.inherits(proto.threads.pb.GetCollectionInfoReply,googleProtobuf.Message),r.DEBUG&&!COMPILED&&(proto.threads.pb.GetCollectionInfoReply.displayName="proto.threads.pb.GetCollectionInfoReply"),proto.threads.pb.GetCollectionIndexesRequest=function(e){googleProtobuf.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.threads.pb.GetCollectionIndexesRequest,googleProtobuf.Message),r.DEBUG&&!COMPILED&&(proto.threads.pb.GetCollectionIndexesRequest.displayName="proto.threads.pb.GetCollectionIndexesRequest"),proto.threads.pb.GetCollectionIndexesReply=function(e){googleProtobuf.Message.initialize(this,e,0,-1,proto.threads.pb.GetCollectionIndexesReply.repeatedFields_,null)},r.inherits(proto.threads.pb.GetCollectionIndexesReply,googleProtobuf.Message),r.DEBUG&&!COMPILED&&(proto.threads.pb.GetCollectionIndexesReply.displayName="proto.threads.pb.GetCollectionIndexesReply"),proto.threads.pb.ListCollectionsRequest=function(e){googleProtobuf.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.threads.pb.ListCollectionsRequest,googleProtobuf.Message),r.DEBUG&&!COMPILED&&(proto.threads.pb.ListCollectionsRequest.displayName="proto.threads.pb.ListCollectionsRequest"),proto.threads.pb.ListCollectionsReply=function(e){googleProtobuf.Message.initialize(this,e,0,-1,proto.threads.pb.ListCollectionsReply.repeatedFields_,null)},r.inherits(proto.threads.pb.ListCollectionsReply,googleProtobuf.Message),r.DEBUG&&!COMPILED&&(proto.threads.pb.ListCollectionsReply.displayName="proto.threads.pb.ListCollectionsReply"),proto.threads.pb.CreateRequest=function(e){googleProtobuf.Message.initialize(this,e,0,-1,proto.threads.pb.CreateRequest.repeatedFields_,null)},r.inherits(proto.threads.pb.CreateRequest,googleProtobuf.Message),r.DEBUG&&!COMPILED&&(proto.threads.pb.CreateRequest.displayName="proto.threads.pb.CreateRequest"),proto.threads.pb.CreateReply=function(e){googleProtobuf.Message.initialize(this,e,0,-1,proto.threads.pb.CreateReply.repeatedFields_,null)},r.inherits(proto.threads.pb.CreateReply,googleProtobuf.Message),r.DEBUG&&!COMPILED&&(proto.threads.pb.CreateReply.displayName="proto.threads.pb.CreateReply"),proto.threads.pb.VerifyRequest=function(e){googleProtobuf.Message.initialize(this,e,0,-1,proto.threads.pb.VerifyRequest.repeatedFields_,null)},r.inherits(proto.threads.pb.VerifyRequest,googleProtobuf.Message),r.DEBUG&&!COMPILED&&(proto.threads.pb.VerifyRequest.displayName="proto.threads.pb.VerifyRequest"),proto.threads.pb.VerifyReply=function(e){googleProtobuf.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.threads.pb.VerifyReply,googleProtobuf.Message),r.DEBUG&&!COMPILED&&(proto.threads.pb.VerifyReply.displayName="proto.threads.pb.VerifyReply"),proto.threads.pb.SaveRequest=function(e){googleProtobuf.Message.initialize(this,e,0,-1,proto.threads.pb.SaveRequest.repeatedFields_,null)},r.inherits(proto.threads.pb.SaveRequest,googleProtobuf.Message),r.DEBUG&&!COMPILED&&(proto.threads.pb.SaveRequest.displayName="proto.threads.pb.SaveRequest"),proto.threads.pb.SaveReply=function(e){googleProtobuf.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.threads.pb.SaveReply,googleProtobuf.Message),r.DEBUG&&!COMPILED&&(proto.threads.pb.SaveReply.displayName="proto.threads.pb.SaveReply"),proto.threads.pb.DeleteRequest=function(e){googleProtobuf.Message.initialize(this,e,0,-1,proto.threads.pb.DeleteRequest.repeatedFields_,null)},r.inherits(proto.threads.pb.DeleteRequest,googleProtobuf.Message),r.DEBUG&&!COMPILED&&(proto.threads.pb.DeleteRequest.displayName="proto.threads.pb.DeleteRequest"),proto.threads.pb.DeleteReply=function(e){googleProtobuf.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.threads.pb.DeleteReply,googleProtobuf.Message),r.DEBUG&&!COMPILED&&(proto.threads.pb.DeleteReply.displayName="proto.threads.pb.DeleteReply"),proto.threads.pb.HasRequest=function(e){googleProtobuf.Message.initialize(this,e,0,-1,proto.threads.pb.HasRequest.repeatedFields_,null)},r.inherits(proto.threads.pb.HasRequest,googleProtobuf.Message),r.DEBUG&&!COMPILED&&(proto.threads.pb.HasRequest.displayName="proto.threads.pb.HasRequest"),proto.threads.pb.HasReply=function(e){googleProtobuf.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.threads.pb.HasReply,googleProtobuf.Message),r.DEBUG&&!COMPILED&&(proto.threads.pb.HasReply.displayName="proto.threads.pb.HasReply"),proto.threads.pb.FindRequest=function(e){googleProtobuf.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.threads.pb.FindRequest,googleProtobuf.Message),r.DEBUG&&!COMPILED&&(proto.threads.pb.FindRequest.displayName="proto.threads.pb.FindRequest"),proto.threads.pb.FindReply=function(e){googleProtobuf.Message.initialize(this,e,0,-1,proto.threads.pb.FindReply.repeatedFields_,null)},r.inherits(proto.threads.pb.FindReply,googleProtobuf.Message),r.DEBUG&&!COMPILED&&(proto.threads.pb.FindReply.displayName="proto.threads.pb.FindReply"),proto.threads.pb.FindByIDRequest=function(e){googleProtobuf.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.threads.pb.FindByIDRequest,googleProtobuf.Message),r.DEBUG&&!COMPILED&&(proto.threads.pb.FindByIDRequest.displayName="proto.threads.pb.FindByIDRequest"),proto.threads.pb.FindByIDReply=function(e){googleProtobuf.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.threads.pb.FindByIDReply,googleProtobuf.Message),r.DEBUG&&!COMPILED&&(proto.threads.pb.FindByIDReply.displayName="proto.threads.pb.FindByIDReply"),proto.threads.pb.DiscardRequest=function(e){googleProtobuf.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.threads.pb.DiscardRequest,googleProtobuf.Message),r.DEBUG&&!COMPILED&&(proto.threads.pb.DiscardRequest.displayName="proto.threads.pb.DiscardRequest"),proto.threads.pb.DiscardReply=function(e){googleProtobuf.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.threads.pb.DiscardReply,googleProtobuf.Message),r.DEBUG&&!COMPILED&&(proto.threads.pb.DiscardReply.displayName="proto.threads.pb.DiscardReply"),proto.threads.pb.StartTransactionRequest=function(e){googleProtobuf.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.threads.pb.StartTransactionRequest,googleProtobuf.Message),r.DEBUG&&!COMPILED&&(proto.threads.pb.StartTransactionRequest.displayName="proto.threads.pb.StartTransactionRequest"),proto.threads.pb.ReadTransactionRequest=function(e){googleProtobuf.Message.initialize(this,e,0,-1,null,proto.threads.pb.ReadTransactionRequest.oneofGroups_)},r.inherits(proto.threads.pb.ReadTransactionRequest,googleProtobuf.Message),r.DEBUG&&!COMPILED&&(proto.threads.pb.ReadTransactionRequest.displayName="proto.threads.pb.ReadTransactionRequest"),proto.threads.pb.ReadTransactionReply=function(e){googleProtobuf.Message.initialize(this,e,0,-1,null,proto.threads.pb.ReadTransactionReply.oneofGroups_)},r.inherits(proto.threads.pb.ReadTransactionReply,googleProtobuf.Message),r.DEBUG&&!COMPILED&&(proto.threads.pb.ReadTransactionReply.displayName="proto.threads.pb.ReadTransactionReply"),proto.threads.pb.WriteTransactionRequest=function(e){googleProtobuf.Message.initialize(this,e,0,-1,null,proto.threads.pb.WriteTransactionRequest.oneofGroups_)},r.inherits(proto.threads.pb.WriteTransactionRequest,googleProtobuf.Message),r.DEBUG&&!COMPILED&&(proto.threads.pb.WriteTransactionRequest.displayName="proto.threads.pb.WriteTransactionRequest"),proto.threads.pb.WriteTransactionReply=function(e){googleProtobuf.Message.initialize(this,e,0,-1,null,proto.threads.pb.WriteTransactionReply.oneofGroups_)},r.inherits(proto.threads.pb.WriteTransactionReply,googleProtobuf.Message),r.DEBUG&&!COMPILED&&(proto.threads.pb.WriteTransactionReply.displayName="proto.threads.pb.WriteTransactionReply"),proto.threads.pb.ListenRequest=function(e){googleProtobuf.Message.initialize(this,e,0,-1,proto.threads.pb.ListenRequest.repeatedFields_,null)},r.inherits(proto.threads.pb.ListenRequest,googleProtobuf.Message),r.DEBUG&&!COMPILED&&(proto.threads.pb.ListenRequest.displayName="proto.threads.pb.ListenRequest"),proto.threads.pb.ListenRequest.Filter=function(e){googleProtobuf.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.threads.pb.ListenRequest.Filter,googleProtobuf.Message),r.DEBUG&&!COMPILED&&(proto.threads.pb.ListenRequest.Filter.displayName="proto.threads.pb.ListenRequest.Filter"),proto.threads.pb.ListenReply=function(e){googleProtobuf.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.threads.pb.ListenReply,googleProtobuf.Message),r.DEBUG&&!COMPILED&&(proto.threads.pb.ListenReply.displayName="proto.threads.pb.ListenReply"),proto.threads.pb.GetTokenRequest.oneofGroups_=[[1,2]],proto.threads.pb.GetTokenRequest.PayloadCase={PAYLOAD_NOT_SET:0,KEY:1,SIGNATURE:2},proto.threads.pb.GetTokenRequest.prototype.getPayloadCase=function(){return googleProtobuf.Message.computeOneofCase(this,proto.threads.pb.GetTokenRequest.oneofGroups_[0])},googleProtobuf.Message.GENERATE_TO_OBJECT&&(proto.threads.pb.GetTokenRequest.prototype.toObject=function(e){return proto.threads.pb.GetTokenRequest.toObject(e,this)},proto.threads.pb.GetTokenRequest.toObject=function(e,t){var r={key:googleProtobuf.Message.getFieldWithDefault(t,1,""),signature:t.getSignature_asB64()};return e&&(r.$jspbMessageInstance=t),r}),proto.threads.pb.GetTokenRequest.deserializeBinary=function(e){var t=new googleProtobuf.BinaryReader(e),r=new proto.threads.pb.GetTokenRequest;return proto.threads.pb.GetTokenRequest.deserializeBinaryFromReader(r,t)},proto.threads.pb.GetTokenRequest.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readString();e.setKey(r);break;case 2:r=t.readBytes(),e.setSignature(r);break;default:t.skipField()}return e},proto.threads.pb.GetTokenRequest.prototype.serializeBinary=function(){var e=new googleProtobuf.BinaryWriter;return proto.threads.pb.GetTokenRequest.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.threads.pb.GetTokenRequest.serializeBinaryToWriter=function(e,t){var r=void 0;null!=(r=googleProtobuf.Message.getField(e,1))&&t.writeString(1,r),null!=(r=googleProtobuf.Message.getField(e,2))&&t.writeBytes(2,r)},proto.threads.pb.GetTokenRequest.prototype.getKey=function(){return googleProtobuf.Message.getFieldWithDefault(this,1,"")},proto.threads.pb.GetTokenRequest.prototype.setKey=function(e){return googleProtobuf.Message.setOneofField(this,1,proto.threads.pb.GetTokenRequest.oneofGroups_[0],e)},proto.threads.pb.GetTokenRequest.prototype.clearKey=function(){return googleProtobuf.Message.setOneofField(this,1,proto.threads.pb.GetTokenRequest.oneofGroups_[0],void 0)},proto.threads.pb.GetTokenRequest.prototype.hasKey=function(){return null!=googleProtobuf.Message.getField(this,1)},proto.threads.pb.GetTokenRequest.prototype.getSignature=function(){return googleProtobuf.Message.getFieldWithDefault(this,2,"")},proto.threads.pb.GetTokenRequest.prototype.getSignature_asB64=function(){return googleProtobuf.Message.bytesAsB64(this.getSignature())},proto.threads.pb.GetTokenRequest.prototype.getSignature_asU8=function(){return googleProtobuf.Message.bytesAsU8(this.getSignature())},proto.threads.pb.GetTokenRequest.prototype.setSignature=function(e){return googleProtobuf.Message.setOneofField(this,2,proto.threads.pb.GetTokenRequest.oneofGroups_[0],e)},proto.threads.pb.GetTokenRequest.prototype.clearSignature=function(){return googleProtobuf.Message.setOneofField(this,2,proto.threads.pb.GetTokenRequest.oneofGroups_[0],void 0)},proto.threads.pb.GetTokenRequest.prototype.hasSignature=function(){return null!=googleProtobuf.Message.getField(this,2)},proto.threads.pb.GetTokenReply.oneofGroups_=[[1,2]],proto.threads.pb.GetTokenReply.PayloadCase={PAYLOAD_NOT_SET:0,CHALLENGE:1,TOKEN:2},proto.threads.pb.GetTokenReply.prototype.getPayloadCase=function(){return googleProtobuf.Message.computeOneofCase(this,proto.threads.pb.GetTokenReply.oneofGroups_[0])},googleProtobuf.Message.GENERATE_TO_OBJECT&&(proto.threads.pb.GetTokenReply.prototype.toObject=function(e){return proto.threads.pb.GetTokenReply.toObject(e,this)},proto.threads.pb.GetTokenReply.toObject=function(e,t){var r={challenge:t.getChallenge_asB64(),token:googleProtobuf.Message.getFieldWithDefault(t,2,"")};return e&&(r.$jspbMessageInstance=t),r}),proto.threads.pb.GetTokenReply.deserializeBinary=function(e){var t=new googleProtobuf.BinaryReader(e),r=new proto.threads.pb.GetTokenReply;return proto.threads.pb.GetTokenReply.deserializeBinaryFromReader(r,t)},proto.threads.pb.GetTokenReply.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readBytes();e.setChallenge(r);break;case 2:r=t.readString(),e.setToken(r);break;default:t.skipField()}return e},proto.threads.pb.GetTokenReply.prototype.serializeBinary=function(){var e=new googleProtobuf.BinaryWriter;return proto.threads.pb.GetTokenReply.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.threads.pb.GetTokenReply.serializeBinaryToWriter=function(e,t){var r=void 0;null!=(r=googleProtobuf.Message.getField(e,1))&&t.writeBytes(1,r),null!=(r=googleProtobuf.Message.getField(e,2))&&t.writeString(2,r)},proto.threads.pb.GetTokenReply.prototype.getChallenge=function(){return googleProtobuf.Message.getFieldWithDefault(this,1,"")},proto.threads.pb.GetTokenReply.prototype.getChallenge_asB64=function(){return googleProtobuf.Message.bytesAsB64(this.getChallenge())},proto.threads.pb.GetTokenReply.prototype.getChallenge_asU8=function(){return googleProtobuf.Message.bytesAsU8(this.getChallenge())},proto.threads.pb.GetTokenReply.prototype.setChallenge=function(e){return googleProtobuf.Message.setOneofField(this,1,proto.threads.pb.GetTokenReply.oneofGroups_[0],e)},proto.threads.pb.GetTokenReply.prototype.clearChallenge=function(){return googleProtobuf.Message.setOneofField(this,1,proto.threads.pb.GetTokenReply.oneofGroups_[0],void 0)},proto.threads.pb.GetTokenReply.prototype.hasChallenge=function(){return null!=googleProtobuf.Message.getField(this,1)},proto.threads.pb.GetTokenReply.prototype.getToken=function(){return googleProtobuf.Message.getFieldWithDefault(this,2,"")},proto.threads.pb.GetTokenReply.prototype.setToken=function(e){return googleProtobuf.Message.setOneofField(this,2,proto.threads.pb.GetTokenReply.oneofGroups_[0],e)},proto.threads.pb.GetTokenReply.prototype.clearToken=function(){return googleProtobuf.Message.setOneofField(this,2,proto.threads.pb.GetTokenReply.oneofGroups_[0],void 0)},proto.threads.pb.GetTokenReply.prototype.hasToken=function(){return null!=googleProtobuf.Message.getField(this,2)},proto.threads.pb.NewDBRequest.repeatedFields_=[2],googleProtobuf.Message.GENERATE_TO_OBJECT&&(proto.threads.pb.NewDBRequest.prototype.toObject=function(e){return proto.threads.pb.NewDBRequest.toObject(e,this)},proto.threads.pb.NewDBRequest.toObject=function(e,t){var r={dbid:t.getDbid_asB64(),key:t.getKey_asB64(),logkey:t.getLogkey_asB64(),name:googleProtobuf.Message.getFieldWithDefault(t,3,""),collectionsList:googleProtobuf.Message.toObjectList(t.getCollectionsList(),proto.threads.pb.CollectionConfig.toObject,e),block:googleProtobuf.Message.getBooleanFieldWithDefault(t,5,!1)};return e&&(r.$jspbMessageInstance=t),r}),proto.threads.pb.NewDBRequest.deserializeBinary=function(e){var t=new googleProtobuf.BinaryReader(e),r=new proto.threads.pb.NewDBRequest;return proto.threads.pb.NewDBRequest.deserializeBinaryFromReader(r,t)},proto.threads.pb.NewDBRequest.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readBytes();e.setDbid(r);break;case 6:r=t.readBytes(),e.setKey(r);break;case 7:r=t.readBytes(),e.setLogkey(r);break;case 3:r=t.readString(),e.setName(r);break;case 2:r=new proto.threads.pb.CollectionConfig,t.readMessage(r,proto.threads.pb.CollectionConfig.deserializeBinaryFromReader),e.addCollections(r);break;case 5:r=t.readBool(),e.setBlock(r);break;default:t.skipField()}return e},proto.threads.pb.NewDBRequest.prototype.serializeBinary=function(){var e=new googleProtobuf.BinaryWriter;return proto.threads.pb.NewDBRequest.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.threads.pb.NewDBRequest.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getDbid_asU8()).length>0&&t.writeBytes(1,r),(r=e.getKey_asU8()).length>0&&t.writeBytes(6,r),(r=e.getLogkey_asU8()).length>0&&t.writeBytes(7,r),(r=e.getName()).length>0&&t.writeString(3,r),(r=e.getCollectionsList()).length>0&&t.writeRepeatedMessage(2,r,proto.threads.pb.CollectionConfig.serializeBinaryToWriter),(r=e.getBlock())&&t.writeBool(5,r)},proto.threads.pb.NewDBRequest.prototype.getDbid=function(){return googleProtobuf.Message.getFieldWithDefault(this,1,"")},proto.threads.pb.NewDBRequest.prototype.getDbid_asB64=function(){return googleProtobuf.Message.bytesAsB64(this.getDbid())},proto.threads.pb.NewDBRequest.prototype.getDbid_asU8=function(){return googleProtobuf.Message.bytesAsU8(this.getDbid())},proto.threads.pb.NewDBRequest.prototype.setDbid=function(e){return googleProtobuf.Message.setProto3BytesField(this,1,e)},proto.threads.pb.NewDBRequest.prototype.getKey=function(){return googleProtobuf.Message.getFieldWithDefault(this,6,"")},proto.threads.pb.NewDBRequest.prototype.getKey_asB64=function(){return googleProtobuf.Message.bytesAsB64(this.getKey())},proto.threads.pb.NewDBRequest.prototype.getKey_asU8=function(){return googleProtobuf.Message.bytesAsU8(this.getKey())},proto.threads.pb.NewDBRequest.prototype.setKey=function(e){return googleProtobuf.Message.setProto3BytesField(this,6,e)},proto.threads.pb.NewDBRequest.prototype.getLogkey=function(){return googleProtobuf.Message.getFieldWithDefault(this,7,"")},proto.threads.pb.NewDBRequest.prototype.getLogkey_asB64=function(){return googleProtobuf.Message.bytesAsB64(this.getLogkey())},proto.threads.pb.NewDBRequest.prototype.getLogkey_asU8=function(){return googleProtobuf.Message.bytesAsU8(this.getLogkey())},proto.threads.pb.NewDBRequest.prototype.setLogkey=function(e){return googleProtobuf.Message.setProto3BytesField(this,7,e)},proto.threads.pb.NewDBRequest.prototype.getName=function(){return googleProtobuf.Message.getFieldWithDefault(this,3,"")},proto.threads.pb.NewDBRequest.prototype.setName=function(e){return googleProtobuf.Message.setProto3StringField(this,3,e)},proto.threads.pb.NewDBRequest.prototype.getCollectionsList=function(){return googleProtobuf.Message.getRepeatedWrapperField(this,proto.threads.pb.CollectionConfig,2)},proto.threads.pb.NewDBRequest.prototype.setCollectionsList=function(e){return googleProtobuf.Message.setRepeatedWrapperField(this,2,e)},proto.threads.pb.NewDBRequest.prototype.addCollections=function(e,t){return googleProtobuf.Message.addToRepeatedWrapperField(this,2,e,proto.threads.pb.CollectionConfig,t)},proto.threads.pb.NewDBRequest.prototype.clearCollectionsList=function(){return this.setCollectionsList([])},proto.threads.pb.NewDBRequest.prototype.getBlock=function(){return googleProtobuf.Message.getBooleanFieldWithDefault(this,5,!1)},proto.threads.pb.NewDBRequest.prototype.setBlock=function(e){return googleProtobuf.Message.setProto3BooleanField(this,5,e)},proto.threads.pb.NewDBFromAddrRequest.repeatedFields_=[3],googleProtobuf.Message.GENERATE_TO_OBJECT&&(proto.threads.pb.NewDBFromAddrRequest.prototype.toObject=function(e){return proto.threads.pb.NewDBFromAddrRequest.toObject(e,this)},proto.threads.pb.NewDBFromAddrRequest.toObject=function(e,t){var r={addr:t.getAddr_asB64(),key:t.getKey_asB64(),logkey:t.getLogkey_asB64(),name:googleProtobuf.Message.getFieldWithDefault(t,4,""),collectionsList:googleProtobuf.Message.toObjectList(t.getCollectionsList(),proto.threads.pb.CollectionConfig.toObject,e),block:googleProtobuf.Message.getBooleanFieldWithDefault(t,5,!1),threadkey:t.getThreadkey_asB64()};return e&&(r.$jspbMessageInstance=t),r}),proto.threads.pb.NewDBFromAddrRequest.deserializeBinary=function(e){var t=new googleProtobuf.BinaryReader(e),r=new proto.threads.pb.NewDBFromAddrRequest;return proto.threads.pb.NewDBFromAddrRequest.deserializeBinaryFromReader(r,t)},proto.threads.pb.NewDBFromAddrRequest.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readBytes();e.setAddr(r);break;case 2:r=t.readBytes(),e.setKey(r);break;case 7:r=t.readBytes(),e.setLogkey(r);break;case 4:r=t.readString(),e.setName(r);break;case 3:r=new proto.threads.pb.CollectionConfig,t.readMessage(r,proto.threads.pb.CollectionConfig.deserializeBinaryFromReader),e.addCollections(r);break;case 5:r=t.readBool(),e.setBlock(r);break;case 6:r=t.readBytes(),e.setThreadkey(r);break;default:t.skipField()}return e},proto.threads.pb.NewDBFromAddrRequest.prototype.serializeBinary=function(){var e=new googleProtobuf.BinaryWriter;return proto.threads.pb.NewDBFromAddrRequest.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.threads.pb.NewDBFromAddrRequest.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getAddr_asU8()).length>0&&t.writeBytes(1,r),(r=e.getKey_asU8()).length>0&&t.writeBytes(2,r),(r=e.getLogkey_asU8()).length>0&&t.writeBytes(7,r),(r=e.getName()).length>0&&t.writeString(4,r),(r=e.getCollectionsList()).length>0&&t.writeRepeatedMessage(3,r,proto.threads.pb.CollectionConfig.serializeBinaryToWriter),(r=e.getBlock())&&t.writeBool(5,r),(r=e.getThreadkey_asU8()).length>0&&t.writeBytes(6,r)},proto.threads.pb.NewDBFromAddrRequest.prototype.getAddr=function(){return googleProtobuf.Message.getFieldWithDefault(this,1,"")},proto.threads.pb.NewDBFromAddrRequest.prototype.getAddr_asB64=function(){return googleProtobuf.Message.bytesAsB64(this.getAddr())},proto.threads.pb.NewDBFromAddrRequest.prototype.getAddr_asU8=function(){return googleProtobuf.Message.bytesAsU8(this.getAddr())},proto.threads.pb.NewDBFromAddrRequest.prototype.setAddr=function(e){return googleProtobuf.Message.setProto3BytesField(this,1,e)},proto.threads.pb.NewDBFromAddrRequest.prototype.getKey=function(){return googleProtobuf.Message.getFieldWithDefault(this,2,"")},proto.threads.pb.NewDBFromAddrRequest.prototype.getKey_asB64=function(){return googleProtobuf.Message.bytesAsB64(this.getKey())},proto.threads.pb.NewDBFromAddrRequest.prototype.getKey_asU8=function(){return googleProtobuf.Message.bytesAsU8(this.getKey())},proto.threads.pb.NewDBFromAddrRequest.prototype.setKey=function(e){return googleProtobuf.Message.setProto3BytesField(this,2,e)},proto.threads.pb.NewDBFromAddrRequest.prototype.getLogkey=function(){return googleProtobuf.Message.getFieldWithDefault(this,7,"")},proto.threads.pb.NewDBFromAddrRequest.prototype.getLogkey_asB64=function(){return googleProtobuf.Message.bytesAsB64(this.getLogkey())},proto.threads.pb.NewDBFromAddrRequest.prototype.getLogkey_asU8=function(){return googleProtobuf.Message.bytesAsU8(this.getLogkey())},proto.threads.pb.NewDBFromAddrRequest.prototype.setLogkey=function(e){return googleProtobuf.Message.setProto3BytesField(this,7,e)},proto.threads.pb.NewDBFromAddrRequest.prototype.getName=function(){return googleProtobuf.Message.getFieldWithDefault(this,4,"")},proto.threads.pb.NewDBFromAddrRequest.prototype.setName=function(e){return googleProtobuf.Message.setProto3StringField(this,4,e)},proto.threads.pb.NewDBFromAddrRequest.prototype.getCollectionsList=function(){return googleProtobuf.Message.getRepeatedWrapperField(this,proto.threads.pb.CollectionConfig,3)},proto.threads.pb.NewDBFromAddrRequest.prototype.setCollectionsList=function(e){return googleProtobuf.Message.setRepeatedWrapperField(this,3,e)},proto.threads.pb.NewDBFromAddrRequest.prototype.addCollections=function(e,t){return googleProtobuf.Message.addToRepeatedWrapperField(this,3,e,proto.threads.pb.CollectionConfig,t)},proto.threads.pb.NewDBFromAddrRequest.prototype.clearCollectionsList=function(){return this.setCollectionsList([])},proto.threads.pb.NewDBFromAddrRequest.prototype.getBlock=function(){return googleProtobuf.Message.getBooleanFieldWithDefault(this,5,!1)},proto.threads.pb.NewDBFromAddrRequest.prototype.setBlock=function(e){return googleProtobuf.Message.setProto3BooleanField(this,5,e)},proto.threads.pb.NewDBFromAddrRequest.prototype.getThreadkey=function(){return googleProtobuf.Message.getFieldWithDefault(this,6,"")},proto.threads.pb.NewDBFromAddrRequest.prototype.getThreadkey_asB64=function(){return googleProtobuf.Message.bytesAsB64(this.getThreadkey())},proto.threads.pb.NewDBFromAddrRequest.prototype.getThreadkey_asU8=function(){return googleProtobuf.Message.bytesAsU8(this.getThreadkey())},proto.threads.pb.NewDBFromAddrRequest.prototype.setThreadkey=function(e){return googleProtobuf.Message.setProto3BytesField(this,6,e)},proto.threads.pb.CollectionConfig.repeatedFields_=[3],googleProtobuf.Message.GENERATE_TO_OBJECT&&(proto.threads.pb.CollectionConfig.prototype.toObject=function(e){return proto.threads.pb.CollectionConfig.toObject(e,this)},proto.threads.pb.CollectionConfig.toObject=function(e,t){var r={name:googleProtobuf.Message.getFieldWithDefault(t,1,""),schema:t.getSchema_asB64(),indexesList:googleProtobuf.Message.toObjectList(t.getIndexesList(),proto.threads.pb.Index.toObject,e),writevalidator:googleProtobuf.Message.getFieldWithDefault(t,4,""),readfilter:googleProtobuf.Message.getFieldWithDefault(t,5,"")};return e&&(r.$jspbMessageInstance=t),r}),proto.threads.pb.CollectionConfig.deserializeBinary=function(e){var t=new googleProtobuf.BinaryReader(e),r=new proto.threads.pb.CollectionConfig;return proto.threads.pb.CollectionConfig.deserializeBinaryFromReader(r,t)},proto.threads.pb.CollectionConfig.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readString();e.setName(r);break;case 2:r=t.readBytes(),e.setSchema(r);break;case 3:r=new proto.threads.pb.Index,t.readMessage(r,proto.threads.pb.Index.deserializeBinaryFromReader),e.addIndexes(r);break;case 4:r=t.readString(),e.setWritevalidator(r);break;case 5:r=t.readString(),e.setReadfilter(r);break;default:t.skipField()}return e},proto.threads.pb.CollectionConfig.prototype.serializeBinary=function(){var e=new googleProtobuf.BinaryWriter;return proto.threads.pb.CollectionConfig.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.threads.pb.CollectionConfig.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getName()).length>0&&t.writeString(1,r),(r=e.getSchema_asU8()).length>0&&t.writeBytes(2,r),(r=e.getIndexesList()).length>0&&t.writeRepeatedMessage(3,r,proto.threads.pb.Index.serializeBinaryToWriter),(r=e.getWritevalidator()).length>0&&t.writeString(4,r),(r=e.getReadfilter()).length>0&&t.writeString(5,r)},proto.threads.pb.CollectionConfig.prototype.getName=function(){return googleProtobuf.Message.getFieldWithDefault(this,1,"")},proto.threads.pb.CollectionConfig.prototype.setName=function(e){return googleProtobuf.Message.setProto3StringField(this,1,e)},proto.threads.pb.CollectionConfig.prototype.getSchema=function(){return googleProtobuf.Message.getFieldWithDefault(this,2,"")},proto.threads.pb.CollectionConfig.prototype.getSchema_asB64=function(){return googleProtobuf.Message.bytesAsB64(this.getSchema())},proto.threads.pb.CollectionConfig.prototype.getSchema_asU8=function(){return googleProtobuf.Message.bytesAsU8(this.getSchema())},proto.threads.pb.CollectionConfig.prototype.setSchema=function(e){return googleProtobuf.Message.setProto3BytesField(this,2,e)},proto.threads.pb.CollectionConfig.prototype.getIndexesList=function(){return googleProtobuf.Message.getRepeatedWrapperField(this,proto.threads.pb.Index,3)},proto.threads.pb.CollectionConfig.prototype.setIndexesList=function(e){return googleProtobuf.Message.setRepeatedWrapperField(this,3,e)},proto.threads.pb.CollectionConfig.prototype.addIndexes=function(e,t){return googleProtobuf.Message.addToRepeatedWrapperField(this,3,e,proto.threads.pb.Index,t)},proto.threads.pb.CollectionConfig.prototype.clearIndexesList=function(){return this.setIndexesList([])},proto.threads.pb.CollectionConfig.prototype.getWritevalidator=function(){return googleProtobuf.Message.getFieldWithDefault(this,4,"")},proto.threads.pb.CollectionConfig.prototype.setWritevalidator=function(e){return googleProtobuf.Message.setProto3StringField(this,4,e)},proto.threads.pb.CollectionConfig.prototype.getReadfilter=function(){return googleProtobuf.Message.getFieldWithDefault(this,5,"")},proto.threads.pb.CollectionConfig.prototype.setReadfilter=function(e){return googleProtobuf.Message.setProto3StringField(this,5,e)},googleProtobuf.Message.GENERATE_TO_OBJECT&&(proto.threads.pb.Index.prototype.toObject=function(e){return proto.threads.pb.Index.toObject(e,this)},proto.threads.pb.Index.toObject=function(e,t){var r={path:googleProtobuf.Message.getFieldWithDefault(t,1,""),unique:googleProtobuf.Message.getBooleanFieldWithDefault(t,2,!1)};return e&&(r.$jspbMessageInstance=t),r}),proto.threads.pb.Index.deserializeBinary=function(e){var t=new googleProtobuf.BinaryReader(e),r=new proto.threads.pb.Index;return proto.threads.pb.Index.deserializeBinaryFromReader(r,t)},proto.threads.pb.Index.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readString();e.setPath(r);break;case 2:r=t.readBool(),e.setUnique(r);break;default:t.skipField()}return e},proto.threads.pb.Index.prototype.serializeBinary=function(){var e=new googleProtobuf.BinaryWriter;return proto.threads.pb.Index.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.threads.pb.Index.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getPath()).length>0&&t.writeString(1,r),(r=e.getUnique())&&t.writeBool(2,r)},proto.threads.pb.Index.prototype.getPath=function(){return googleProtobuf.Message.getFieldWithDefault(this,1,"")},proto.threads.pb.Index.prototype.setPath=function(e){return googleProtobuf.Message.setProto3StringField(this,1,e)},proto.threads.pb.Index.prototype.getUnique=function(){return googleProtobuf.Message.getBooleanFieldWithDefault(this,2,!1)},proto.threads.pb.Index.prototype.setUnique=function(e){return googleProtobuf.Message.setProto3BooleanField(this,2,e)},googleProtobuf.Message.GENERATE_TO_OBJECT&&(proto.threads.pb.NewDBReply.prototype.toObject=function(e){return proto.threads.pb.NewDBReply.toObject(e,this)},proto.threads.pb.NewDBReply.toObject=function(e,t){var r={};return e&&(r.$jspbMessageInstance=t),r}),proto.threads.pb.NewDBReply.deserializeBinary=function(e){var t=new googleProtobuf.BinaryReader(e),r=new proto.threads.pb.NewDBReply;return proto.threads.pb.NewDBReply.deserializeBinaryFromReader(r,t)},proto.threads.pb.NewDBReply.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)t.getFieldNumber(),t.skipField();return e},proto.threads.pb.NewDBReply.prototype.serializeBinary=function(){var e=new googleProtobuf.BinaryWriter;return proto.threads.pb.NewDBReply.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.threads.pb.NewDBReply.serializeBinaryToWriter=function(e,t){},googleProtobuf.Message.GENERATE_TO_OBJECT&&(proto.threads.pb.ListDBsRequest.prototype.toObject=function(e){return proto.threads.pb.ListDBsRequest.toObject(e,this)},proto.threads.pb.ListDBsRequest.toObject=function(e,t){var r={};return e&&(r.$jspbMessageInstance=t),r}),proto.threads.pb.ListDBsRequest.deserializeBinary=function(e){var t=new googleProtobuf.BinaryReader(e),r=new proto.threads.pb.ListDBsRequest;return proto.threads.pb.ListDBsRequest.deserializeBinaryFromReader(r,t)},proto.threads.pb.ListDBsRequest.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)t.getFieldNumber(),t.skipField();return e},proto.threads.pb.ListDBsRequest.prototype.serializeBinary=function(){var e=new googleProtobuf.BinaryWriter;return proto.threads.pb.ListDBsRequest.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.threads.pb.ListDBsRequest.serializeBinaryToWriter=function(e,t){},proto.threads.pb.ListDBsReply.repeatedFields_=[1],googleProtobuf.Message.GENERATE_TO_OBJECT&&(proto.threads.pb.ListDBsReply.prototype.toObject=function(e){return proto.threads.pb.ListDBsReply.toObject(e,this)},proto.threads.pb.ListDBsReply.toObject=function(e,t){var r={dbsList:googleProtobuf.Message.toObjectList(t.getDbsList(),proto.threads.pb.ListDBsReply.DB.toObject,e)};return e&&(r.$jspbMessageInstance=t),r}),proto.threads.pb.ListDBsReply.deserializeBinary=function(e){var t=new googleProtobuf.BinaryReader(e),r=new proto.threads.pb.ListDBsReply;return proto.threads.pb.ListDBsReply.deserializeBinaryFromReader(r,t)},proto.threads.pb.ListDBsReply.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)if(1===t.getFieldNumber()){var r=new proto.threads.pb.ListDBsReply.DB;t.readMessage(r,proto.threads.pb.ListDBsReply.DB.deserializeBinaryFromReader),e.addDbs(r)}else t.skipField();return e},proto.threads.pb.ListDBsReply.prototype.serializeBinary=function(){var e=new googleProtobuf.BinaryWriter;return proto.threads.pb.ListDBsReply.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.threads.pb.ListDBsReply.serializeBinaryToWriter=function(e,t){var r;(r=e.getDbsList()).length>0&&t.writeRepeatedMessage(1,r,proto.threads.pb.ListDBsReply.DB.serializeBinaryToWriter)},googleProtobuf.Message.GENERATE_TO_OBJECT&&(proto.threads.pb.ListDBsReply.DB.prototype.toObject=function(e){return proto.threads.pb.ListDBsReply.DB.toObject(e,this)},proto.threads.pb.ListDBsReply.DB.toObject=function(e,t){var r,o={dbid:t.getDbid_asB64(),info:(r=t.getInfo())&&proto.threads.pb.GetDBInfoReply.toObject(e,r)};return e&&(o.$jspbMessageInstance=t),o}),proto.threads.pb.ListDBsReply.DB.deserializeBinary=function(e){var t=new googleProtobuf.BinaryReader(e),r=new proto.threads.pb.ListDBsReply.DB;return proto.threads.pb.ListDBsReply.DB.deserializeBinaryFromReader(r,t)},proto.threads.pb.ListDBsReply.DB.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readBytes();e.setDbid(r);break;case 2:r=new proto.threads.pb.GetDBInfoReply,t.readMessage(r,proto.threads.pb.GetDBInfoReply.deserializeBinaryFromReader),e.setInfo(r);break;default:t.skipField()}return e},proto.threads.pb.ListDBsReply.DB.prototype.serializeBinary=function(){var e=new googleProtobuf.BinaryWriter;return proto.threads.pb.ListDBsReply.DB.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.threads.pb.ListDBsReply.DB.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getDbid_asU8()).length>0&&t.writeBytes(1,r),null!=(r=e.getInfo())&&t.writeMessage(2,r,proto.threads.pb.GetDBInfoReply.serializeBinaryToWriter)},proto.threads.pb.ListDBsReply.DB.prototype.getDbid=function(){return googleProtobuf.Message.getFieldWithDefault(this,1,"")},proto.threads.pb.ListDBsReply.DB.prototype.getDbid_asB64=function(){return googleProtobuf.Message.bytesAsB64(this.getDbid())},proto.threads.pb.ListDBsReply.DB.prototype.getDbid_asU8=function(){return googleProtobuf.Message.bytesAsU8(this.getDbid())},proto.threads.pb.ListDBsReply.DB.prototype.setDbid=function(e){return googleProtobuf.Message.setProto3BytesField(this,1,e)},proto.threads.pb.ListDBsReply.DB.prototype.getInfo=function(){return googleProtobuf.Message.getWrapperField(this,proto.threads.pb.GetDBInfoReply,2)},proto.threads.pb.ListDBsReply.DB.prototype.setInfo=function(e){return googleProtobuf.Message.setWrapperField(this,2,e)},proto.threads.pb.ListDBsReply.DB.prototype.clearInfo=function(){return this.setInfo(void 0)},proto.threads.pb.ListDBsReply.DB.prototype.hasInfo=function(){return null!=googleProtobuf.Message.getField(this,2)},proto.threads.pb.ListDBsReply.prototype.getDbsList=function(){return googleProtobuf.Message.getRepeatedWrapperField(this,proto.threads.pb.ListDBsReply.DB,1)},proto.threads.pb.ListDBsReply.prototype.setDbsList=function(e){return googleProtobuf.Message.setRepeatedWrapperField(this,1,e)},proto.threads.pb.ListDBsReply.prototype.addDbs=function(e,t){return googleProtobuf.Message.addToRepeatedWrapperField(this,1,e,proto.threads.pb.ListDBsReply.DB,t)},proto.threads.pb.ListDBsReply.prototype.clearDbsList=function(){return this.setDbsList([])},googleProtobuf.Message.GENERATE_TO_OBJECT&&(proto.threads.pb.GetDBInfoRequest.prototype.toObject=function(e){return proto.threads.pb.GetDBInfoRequest.toObject(e,this)},proto.threads.pb.GetDBInfoRequest.toObject=function(e,t){var r={dbid:t.getDbid_asB64()};return e&&(r.$jspbMessageInstance=t),r}),proto.threads.pb.GetDBInfoRequest.deserializeBinary=function(e){var t=new googleProtobuf.BinaryReader(e),r=new proto.threads.pb.GetDBInfoRequest;return proto.threads.pb.GetDBInfoRequest.deserializeBinaryFromReader(r,t)},proto.threads.pb.GetDBInfoRequest.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)if(1===t.getFieldNumber()){var r=t.readBytes();e.setDbid(r)}else t.skipField();return e},proto.threads.pb.GetDBInfoRequest.prototype.serializeBinary=function(){var e=new googleProtobuf.BinaryWriter;return proto.threads.pb.GetDBInfoRequest.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.threads.pb.GetDBInfoRequest.serializeBinaryToWriter=function(e,t){var r;(r=e.getDbid_asU8()).length>0&&t.writeBytes(1,r)},proto.threads.pb.GetDBInfoRequest.prototype.getDbid=function(){return googleProtobuf.Message.getFieldWithDefault(this,1,"")},proto.threads.pb.GetDBInfoRequest.prototype.getDbid_asB64=function(){return googleProtobuf.Message.bytesAsB64(this.getDbid())},proto.threads.pb.GetDBInfoRequest.prototype.getDbid_asU8=function(){return googleProtobuf.Message.bytesAsU8(this.getDbid())},proto.threads.pb.GetDBInfoRequest.prototype.setDbid=function(e){return googleProtobuf.Message.setProto3BytesField(this,1,e)},proto.threads.pb.GetDBInfoReply.repeatedFields_=[1],googleProtobuf.Message.GENERATE_TO_OBJECT&&(proto.threads.pb.GetDBInfoReply.prototype.toObject=function(e){return proto.threads.pb.GetDBInfoReply.toObject(e,this)},proto.threads.pb.GetDBInfoReply.toObject=function(e,t){var r={addrsList:t.getAddrsList_asB64(),key:t.getKey_asB64(),name:googleProtobuf.Message.getFieldWithDefault(t,3,"")};return e&&(r.$jspbMessageInstance=t),r}),proto.threads.pb.GetDBInfoReply.deserializeBinary=function(e){var t=new googleProtobuf.BinaryReader(e),r=new proto.threads.pb.GetDBInfoReply;return proto.threads.pb.GetDBInfoReply.deserializeBinaryFromReader(r,t)},proto.threads.pb.GetDBInfoReply.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readBytes();e.addAddrs(r);break;case 2:r=t.readBytes(),e.setKey(r);break;case 3:r=t.readString(),e.setName(r);break;default:t.skipField()}return e},proto.threads.pb.GetDBInfoReply.prototype.serializeBinary=function(){var e=new googleProtobuf.BinaryWriter;return proto.threads.pb.GetDBInfoReply.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.threads.pb.GetDBInfoReply.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getAddrsList_asU8()).length>0&&t.writeRepeatedBytes(1,r),(r=e.getKey_asU8()).length>0&&t.writeBytes(2,r),(r=e.getName()).length>0&&t.writeString(3,r)},proto.threads.pb.GetDBInfoReply.prototype.getAddrsList=function(){return googleProtobuf.Message.getRepeatedField(this,1)},proto.threads.pb.GetDBInfoReply.prototype.getAddrsList_asB64=function(){return googleProtobuf.Message.bytesListAsB64(this.getAddrsList())},proto.threads.pb.GetDBInfoReply.prototype.getAddrsList_asU8=function(){return googleProtobuf.Message.bytesListAsU8(this.getAddrsList())},proto.threads.pb.GetDBInfoReply.prototype.setAddrsList=function(e){return googleProtobuf.Message.setField(this,1,e||[])},proto.threads.pb.GetDBInfoReply.prototype.addAddrs=function(e,t){return googleProtobuf.Message.addToRepeatedField(this,1,e,t)},proto.threads.pb.GetDBInfoReply.prototype.clearAddrsList=function(){return this.setAddrsList([])},proto.threads.pb.GetDBInfoReply.prototype.getKey=function(){return googleProtobuf.Message.getFieldWithDefault(this,2,"")},proto.threads.pb.GetDBInfoReply.prototype.getKey_asB64=function(){return googleProtobuf.Message.bytesAsB64(this.getKey())},proto.threads.pb.GetDBInfoReply.prototype.getKey_asU8=function(){return googleProtobuf.Message.bytesAsU8(this.getKey())},proto.threads.pb.GetDBInfoReply.prototype.setKey=function(e){return googleProtobuf.Message.setProto3BytesField(this,2,e)},proto.threads.pb.GetDBInfoReply.prototype.getName=function(){return googleProtobuf.Message.getFieldWithDefault(this,3,"")},proto.threads.pb.GetDBInfoReply.prototype.setName=function(e){return googleProtobuf.Message.setProto3StringField(this,3,e)},googleProtobuf.Message.GENERATE_TO_OBJECT&&(proto.threads.pb.DeleteDBRequest.prototype.toObject=function(e){return proto.threads.pb.DeleteDBRequest.toObject(e,this)},proto.threads.pb.DeleteDBRequest.toObject=function(e,t){var r={dbid:t.getDbid_asB64()};return e&&(r.$jspbMessageInstance=t),r}),proto.threads.pb.DeleteDBRequest.deserializeBinary=function(e){var t=new googleProtobuf.BinaryReader(e),r=new proto.threads.pb.DeleteDBRequest;return proto.threads.pb.DeleteDBRequest.deserializeBinaryFromReader(r,t)},proto.threads.pb.DeleteDBRequest.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)if(1===t.getFieldNumber()){var r=t.readBytes();e.setDbid(r)}else t.skipField();return e},proto.threads.pb.DeleteDBRequest.prototype.serializeBinary=function(){var e=new googleProtobuf.BinaryWriter;return proto.threads.pb.DeleteDBRequest.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.threads.pb.DeleteDBRequest.serializeBinaryToWriter=function(e,t){var r;(r=e.getDbid_asU8()).length>0&&t.writeBytes(1,r)},proto.threads.pb.DeleteDBRequest.prototype.getDbid=function(){return googleProtobuf.Message.getFieldWithDefault(this,1,"")},proto.threads.pb.DeleteDBRequest.prototype.getDbid_asB64=function(){return googleProtobuf.Message.bytesAsB64(this.getDbid())},proto.threads.pb.DeleteDBRequest.prototype.getDbid_asU8=function(){return googleProtobuf.Message.bytesAsU8(this.getDbid())},proto.threads.pb.DeleteDBRequest.prototype.setDbid=function(e){return googleProtobuf.Message.setProto3BytesField(this,1,e)},googleProtobuf.Message.GENERATE_TO_OBJECT&&(proto.threads.pb.DeleteDBReply.prototype.toObject=function(e){return proto.threads.pb.DeleteDBReply.toObject(e,this)},proto.threads.pb.DeleteDBReply.toObject=function(e,t){var r={};return e&&(r.$jspbMessageInstance=t),r}),proto.threads.pb.DeleteDBReply.deserializeBinary=function(e){var t=new googleProtobuf.BinaryReader(e),r=new proto.threads.pb.DeleteDBReply;return proto.threads.pb.DeleteDBReply.deserializeBinaryFromReader(r,t)},proto.threads.pb.DeleteDBReply.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)t.getFieldNumber(),t.skipField();return e},proto.threads.pb.DeleteDBReply.prototype.serializeBinary=function(){var e=new googleProtobuf.BinaryWriter;return proto.threads.pb.DeleteDBReply.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.threads.pb.DeleteDBReply.serializeBinaryToWriter=function(e,t){},googleProtobuf.Message.GENERATE_TO_OBJECT&&(proto.threads.pb.NewCollectionRequest.prototype.toObject=function(e){return proto.threads.pb.NewCollectionRequest.toObject(e,this)},proto.threads.pb.NewCollectionRequest.toObject=function(e,t){var r,o={dbid:t.getDbid_asB64(),config:(r=t.getConfig())&&proto.threads.pb.CollectionConfig.toObject(e,r)};return e&&(o.$jspbMessageInstance=t),o}),proto.threads.pb.NewCollectionRequest.deserializeBinary=function(e){var t=new googleProtobuf.BinaryReader(e),r=new proto.threads.pb.NewCollectionRequest;return proto.threads.pb.NewCollectionRequest.deserializeBinaryFromReader(r,t)},proto.threads.pb.NewCollectionRequest.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readBytes();e.setDbid(r);break;case 2:r=new proto.threads.pb.CollectionConfig,t.readMessage(r,proto.threads.pb.CollectionConfig.deserializeBinaryFromReader),e.setConfig(r);break;default:t.skipField()}return e},proto.threads.pb.NewCollectionRequest.prototype.serializeBinary=function(){var e=new googleProtobuf.BinaryWriter;return proto.threads.pb.NewCollectionRequest.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.threads.pb.NewCollectionRequest.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getDbid_asU8()).length>0&&t.writeBytes(1,r),null!=(r=e.getConfig())&&t.writeMessage(2,r,proto.threads.pb.CollectionConfig.serializeBinaryToWriter)},proto.threads.pb.NewCollectionRequest.prototype.getDbid=function(){return googleProtobuf.Message.getFieldWithDefault(this,1,"")},proto.threads.pb.NewCollectionRequest.prototype.getDbid_asB64=function(){return googleProtobuf.Message.bytesAsB64(this.getDbid())},proto.threads.pb.NewCollectionRequest.prototype.getDbid_asU8=function(){return googleProtobuf.Message.bytesAsU8(this.getDbid())},proto.threads.pb.NewCollectionRequest.prototype.setDbid=function(e){return googleProtobuf.Message.setProto3BytesField(this,1,e)},proto.threads.pb.NewCollectionRequest.prototype.getConfig=function(){return googleProtobuf.Message.getWrapperField(this,proto.threads.pb.CollectionConfig,2)},proto.threads.pb.NewCollectionRequest.prototype.setConfig=function(e){return googleProtobuf.Message.setWrapperField(this,2,e)},proto.threads.pb.NewCollectionRequest.prototype.clearConfig=function(){return this.setConfig(void 0)},proto.threads.pb.NewCollectionRequest.prototype.hasConfig=function(){return null!=googleProtobuf.Message.getField(this,2)},googleProtobuf.Message.GENERATE_TO_OBJECT&&(proto.threads.pb.NewCollectionReply.prototype.toObject=function(e){return proto.threads.pb.NewCollectionReply.toObject(e,this)},proto.threads.pb.NewCollectionReply.toObject=function(e,t){var r={};return e&&(r.$jspbMessageInstance=t),r}),proto.threads.pb.NewCollectionReply.deserializeBinary=function(e){var t=new googleProtobuf.BinaryReader(e),r=new proto.threads.pb.NewCollectionReply;return proto.threads.pb.NewCollectionReply.deserializeBinaryFromReader(r,t)},proto.threads.pb.NewCollectionReply.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)t.getFieldNumber(),t.skipField();return e},proto.threads.pb.NewCollectionReply.prototype.serializeBinary=function(){var e=new googleProtobuf.BinaryWriter;return proto.threads.pb.NewCollectionReply.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.threads.pb.NewCollectionReply.serializeBinaryToWriter=function(e,t){},googleProtobuf.Message.GENERATE_TO_OBJECT&&(proto.threads.pb.UpdateCollectionRequest.prototype.toObject=function(e){return proto.threads.pb.UpdateCollectionRequest.toObject(e,this)},proto.threads.pb.UpdateCollectionRequest.toObject=function(e,t){var r,o={dbid:t.getDbid_asB64(),config:(r=t.getConfig())&&proto.threads.pb.CollectionConfig.toObject(e,r)};return e&&(o.$jspbMessageInstance=t),o}),proto.threads.pb.UpdateCollectionRequest.deserializeBinary=function(e){var t=new googleProtobuf.BinaryReader(e),r=new proto.threads.pb.UpdateCollectionRequest;return proto.threads.pb.UpdateCollectionRequest.deserializeBinaryFromReader(r,t)},proto.threads.pb.UpdateCollectionRequest.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readBytes();e.setDbid(r);break;case 2:r=new proto.threads.pb.CollectionConfig,t.readMessage(r,proto.threads.pb.CollectionConfig.deserializeBinaryFromReader),e.setConfig(r);break;default:t.skipField()}return e},proto.threads.pb.UpdateCollectionRequest.prototype.serializeBinary=function(){var e=new googleProtobuf.BinaryWriter;return proto.threads.pb.UpdateCollectionRequest.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.threads.pb.UpdateCollectionRequest.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getDbid_asU8()).length>0&&t.writeBytes(1,r),null!=(r=e.getConfig())&&t.writeMessage(2,r,proto.threads.pb.CollectionConfig.serializeBinaryToWriter)},proto.threads.pb.UpdateCollectionRequest.prototype.getDbid=function(){return googleProtobuf.Message.getFieldWithDefault(this,1,"")},proto.threads.pb.UpdateCollectionRequest.prototype.getDbid_asB64=function(){return googleProtobuf.Message.bytesAsB64(this.getDbid())},proto.threads.pb.UpdateCollectionRequest.prototype.getDbid_asU8=function(){return googleProtobuf.Message.bytesAsU8(this.getDbid())},proto.threads.pb.UpdateCollectionRequest.prototype.setDbid=function(e){return googleProtobuf.Message.setProto3BytesField(this,1,e)},proto.threads.pb.UpdateCollectionRequest.prototype.getConfig=function(){return googleProtobuf.Message.getWrapperField(this,proto.threads.pb.CollectionConfig,2)},proto.threads.pb.UpdateCollectionRequest.prototype.setConfig=function(e){return googleProtobuf.Message.setWrapperField(this,2,e)},proto.threads.pb.UpdateCollectionRequest.prototype.clearConfig=function(){return this.setConfig(void 0)},proto.threads.pb.UpdateCollectionRequest.prototype.hasConfig=function(){return null!=googleProtobuf.Message.getField(this,2)},googleProtobuf.Message.GENERATE_TO_OBJECT&&(proto.threads.pb.UpdateCollectionReply.prototype.toObject=function(e){return proto.threads.pb.UpdateCollectionReply.toObject(e,this)},proto.threads.pb.UpdateCollectionReply.toObject=function(e,t){var r={};return e&&(r.$jspbMessageInstance=t),r}),proto.threads.pb.UpdateCollectionReply.deserializeBinary=function(e){var t=new googleProtobuf.BinaryReader(e),r=new proto.threads.pb.UpdateCollectionReply;return proto.threads.pb.UpdateCollectionReply.deserializeBinaryFromReader(r,t)},proto.threads.pb.UpdateCollectionReply.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)t.getFieldNumber(),t.skipField();return e},proto.threads.pb.UpdateCollectionReply.prototype.serializeBinary=function(){var e=new googleProtobuf.BinaryWriter;return proto.threads.pb.UpdateCollectionReply.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.threads.pb.UpdateCollectionReply.serializeBinaryToWriter=function(e,t){},googleProtobuf.Message.GENERATE_TO_OBJECT&&(proto.threads.pb.DeleteCollectionRequest.prototype.toObject=function(e){return proto.threads.pb.DeleteCollectionRequest.toObject(e,this)},proto.threads.pb.DeleteCollectionRequest.toObject=function(e,t){var r={dbid:t.getDbid_asB64(),name:googleProtobuf.Message.getFieldWithDefault(t,2,"")};return e&&(r.$jspbMessageInstance=t),r}),proto.threads.pb.DeleteCollectionRequest.deserializeBinary=function(e){var t=new googleProtobuf.BinaryReader(e),r=new proto.threads.pb.DeleteCollectionRequest;return proto.threads.pb.DeleteCollectionRequest.deserializeBinaryFromReader(r,t)},proto.threads.pb.DeleteCollectionRequest.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readBytes();e.setDbid(r);break;case 2:r=t.readString(),e.setName(r);break;default:t.skipField()}return e},proto.threads.pb.DeleteCollectionRequest.prototype.serializeBinary=function(){var e=new googleProtobuf.BinaryWriter;return proto.threads.pb.DeleteCollectionRequest.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.threads.pb.DeleteCollectionRequest.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getDbid_asU8()).length>0&&t.writeBytes(1,r),(r=e.getName()).length>0&&t.writeString(2,r)},proto.threads.pb.DeleteCollectionRequest.prototype.getDbid=function(){return googleProtobuf.Message.getFieldWithDefault(this,1,"")},proto.threads.pb.DeleteCollectionRequest.prototype.getDbid_asB64=function(){return googleProtobuf.Message.bytesAsB64(this.getDbid())},proto.threads.pb.DeleteCollectionRequest.prototype.getDbid_asU8=function(){return googleProtobuf.Message.bytesAsU8(this.getDbid())},proto.threads.pb.DeleteCollectionRequest.prototype.setDbid=function(e){return googleProtobuf.Message.setProto3BytesField(this,1,e)},proto.threads.pb.DeleteCollectionRequest.prototype.getName=function(){return googleProtobuf.Message.getFieldWithDefault(this,2,"")},proto.threads.pb.DeleteCollectionRequest.prototype.setName=function(e){return googleProtobuf.Message.setProto3StringField(this,2,e)},googleProtobuf.Message.GENERATE_TO_OBJECT&&(proto.threads.pb.DeleteCollectionReply.prototype.toObject=function(e){return proto.threads.pb.DeleteCollectionReply.toObject(e,this)},proto.threads.pb.DeleteCollectionReply.toObject=function(e,t){var r={};return e&&(r.$jspbMessageInstance=t),r}),proto.threads.pb.DeleteCollectionReply.deserializeBinary=function(e){var t=new googleProtobuf.BinaryReader(e),r=new proto.threads.pb.DeleteCollectionReply;return proto.threads.pb.DeleteCollectionReply.deserializeBinaryFromReader(r,t)},proto.threads.pb.DeleteCollectionReply.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)t.getFieldNumber(),t.skipField();return e},proto.threads.pb.DeleteCollectionReply.prototype.serializeBinary=function(){var e=new googleProtobuf.BinaryWriter;return proto.threads.pb.DeleteCollectionReply.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.threads.pb.DeleteCollectionReply.serializeBinaryToWriter=function(e,t){},googleProtobuf.Message.GENERATE_TO_OBJECT&&(proto.threads.pb.GetCollectionInfoRequest.prototype.toObject=function(e){return proto.threads.pb.GetCollectionInfoRequest.toObject(e,this)},proto.threads.pb.GetCollectionInfoRequest.toObject=function(e,t){var r={dbid:t.getDbid_asB64(),name:googleProtobuf.Message.getFieldWithDefault(t,2,"")};return e&&(r.$jspbMessageInstance=t),r}),proto.threads.pb.GetCollectionInfoRequest.deserializeBinary=function(e){var t=new googleProtobuf.BinaryReader(e),r=new proto.threads.pb.GetCollectionInfoRequest;return proto.threads.pb.GetCollectionInfoRequest.deserializeBinaryFromReader(r,t)},proto.threads.pb.GetCollectionInfoRequest.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readBytes();e.setDbid(r);break;case 2:r=t.readString(),e.setName(r);break;default:t.skipField()}return e},proto.threads.pb.GetCollectionInfoRequest.prototype.serializeBinary=function(){var e=new googleProtobuf.BinaryWriter;return proto.threads.pb.GetCollectionInfoRequest.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.threads.pb.GetCollectionInfoRequest.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getDbid_asU8()).length>0&&t.writeBytes(1,r),(r=e.getName()).length>0&&t.writeString(2,r)},proto.threads.pb.GetCollectionInfoRequest.prototype.getDbid=function(){return googleProtobuf.Message.getFieldWithDefault(this,1,"")},proto.threads.pb.GetCollectionInfoRequest.prototype.getDbid_asB64=function(){return googleProtobuf.Message.bytesAsB64(this.getDbid())},proto.threads.pb.GetCollectionInfoRequest.prototype.getDbid_asU8=function(){return googleProtobuf.Message.bytesAsU8(this.getDbid())},proto.threads.pb.GetCollectionInfoRequest.prototype.setDbid=function(e){return googleProtobuf.Message.setProto3BytesField(this,1,e)},proto.threads.pb.GetCollectionInfoRequest.prototype.getName=function(){return googleProtobuf.Message.getFieldWithDefault(this,2,"")},proto.threads.pb.GetCollectionInfoRequest.prototype.setName=function(e){return googleProtobuf.Message.setProto3StringField(this,2,e)},proto.threads.pb.GetCollectionInfoReply.repeatedFields_=[3],googleProtobuf.Message.GENERATE_TO_OBJECT&&(proto.threads.pb.GetCollectionInfoReply.prototype.toObject=function(e){return proto.threads.pb.GetCollectionInfoReply.toObject(e,this)},proto.threads.pb.GetCollectionInfoReply.toObject=function(e,t){var r={name:googleProtobuf.Message.getFieldWithDefault(t,1,""),schema:t.getSchema_asB64(),indexesList:googleProtobuf.Message.toObjectList(t.getIndexesList(),proto.threads.pb.Index.toObject,e),writevalidator:googleProtobuf.Message.getFieldWithDefault(t,4,""),readfilter:googleProtobuf.Message.getFieldWithDefault(t,5,"")};return e&&(r.$jspbMessageInstance=t),r}),proto.threads.pb.GetCollectionInfoReply.deserializeBinary=function(e){var t=new googleProtobuf.BinaryReader(e),r=new proto.threads.pb.GetCollectionInfoReply;return proto.threads.pb.GetCollectionInfoReply.deserializeBinaryFromReader(r,t)},proto.threads.pb.GetCollectionInfoReply.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readString();e.setName(r);break;case 2:r=t.readBytes(),e.setSchema(r);break;case 3:r=new proto.threads.pb.Index,t.readMessage(r,proto.threads.pb.Index.deserializeBinaryFromReader),e.addIndexes(r);break;case 4:r=t.readString(),e.setWritevalidator(r);break;case 5:r=t.readString(),e.setReadfilter(r);break;default:t.skipField()}return e},proto.threads.pb.GetCollectionInfoReply.prototype.serializeBinary=function(){var e=new googleProtobuf.BinaryWriter;return proto.threads.pb.GetCollectionInfoReply.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.threads.pb.GetCollectionInfoReply.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getName()).length>0&&t.writeString(1,r),(r=e.getSchema_asU8()).length>0&&t.writeBytes(2,r),(r=e.getIndexesList()).length>0&&t.writeRepeatedMessage(3,r,proto.threads.pb.Index.serializeBinaryToWriter),(r=e.getWritevalidator()).length>0&&t.writeString(4,r),(r=e.getReadfilter()).length>0&&t.writeString(5,r)},proto.threads.pb.GetCollectionInfoReply.prototype.getName=function(){return googleProtobuf.Message.getFieldWithDefault(this,1,"")},proto.threads.pb.GetCollectionInfoReply.prototype.setName=function(e){return googleProtobuf.Message.setProto3StringField(this,1,e)},proto.threads.pb.GetCollectionInfoReply.prototype.getSchema=function(){return googleProtobuf.Message.getFieldWithDefault(this,2,"")},proto.threads.pb.GetCollectionInfoReply.prototype.getSchema_asB64=function(){return googleProtobuf.Message.bytesAsB64(this.getSchema())},proto.threads.pb.GetCollectionInfoReply.prototype.getSchema_asU8=function(){return googleProtobuf.Message.bytesAsU8(this.getSchema())},proto.threads.pb.GetCollectionInfoReply.prototype.setSchema=function(e){return googleProtobuf.Message.setProto3BytesField(this,2,e)},proto.threads.pb.GetCollectionInfoReply.prototype.getIndexesList=function(){return googleProtobuf.Message.getRepeatedWrapperField(this,proto.threads.pb.Index,3)},proto.threads.pb.GetCollectionInfoReply.prototype.setIndexesList=function(e){return googleProtobuf.Message.setRepeatedWrapperField(this,3,e)},proto.threads.pb.GetCollectionInfoReply.prototype.addIndexes=function(e,t){return googleProtobuf.Message.addToRepeatedWrapperField(this,3,e,proto.threads.pb.Index,t)},proto.threads.pb.GetCollectionInfoReply.prototype.clearIndexesList=function(){return this.setIndexesList([])},proto.threads.pb.GetCollectionInfoReply.prototype.getWritevalidator=function(){return googleProtobuf.Message.getFieldWithDefault(this,4,"")},proto.threads.pb.GetCollectionInfoReply.prototype.setWritevalidator=function(e){return googleProtobuf.Message.setProto3StringField(this,4,e)},proto.threads.pb.GetCollectionInfoReply.prototype.getReadfilter=function(){return googleProtobuf.Message.getFieldWithDefault(this,5,"")},proto.threads.pb.GetCollectionInfoReply.prototype.setReadfilter=function(e){return googleProtobuf.Message.setProto3StringField(this,5,e)},googleProtobuf.Message.GENERATE_TO_OBJECT&&(proto.threads.pb.GetCollectionIndexesRequest.prototype.toObject=function(e){return proto.threads.pb.GetCollectionIndexesRequest.toObject(e,this)},proto.threads.pb.GetCollectionIndexesRequest.toObject=function(e,t){var r={dbid:t.getDbid_asB64(),name:googleProtobuf.Message.getFieldWithDefault(t,2,"")};return e&&(r.$jspbMessageInstance=t),r}),proto.threads.pb.GetCollectionIndexesRequest.deserializeBinary=function(e){var t=new googleProtobuf.BinaryReader(e),r=new proto.threads.pb.GetCollectionIndexesRequest;return proto.threads.pb.GetCollectionIndexesRequest.deserializeBinaryFromReader(r,t)},proto.threads.pb.GetCollectionIndexesRequest.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readBytes();e.setDbid(r);break;case 2:r=t.readString(),e.setName(r);break;default:t.skipField()}return e},proto.threads.pb.GetCollectionIndexesRequest.prototype.serializeBinary=function(){var e=new googleProtobuf.BinaryWriter;return proto.threads.pb.GetCollectionIndexesRequest.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.threads.pb.GetCollectionIndexesRequest.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getDbid_asU8()).length>0&&t.writeBytes(1,r),(r=e.getName()).length>0&&t.writeString(2,r)},proto.threads.pb.GetCollectionIndexesRequest.prototype.getDbid=function(){return googleProtobuf.Message.getFieldWithDefault(this,1,"")},proto.threads.pb.GetCollectionIndexesRequest.prototype.getDbid_asB64=function(){return googleProtobuf.Message.bytesAsB64(this.getDbid())},proto.threads.pb.GetCollectionIndexesRequest.prototype.getDbid_asU8=function(){return googleProtobuf.Message.bytesAsU8(this.getDbid())},proto.threads.pb.GetCollectionIndexesRequest.prototype.setDbid=function(e){return googleProtobuf.Message.setProto3BytesField(this,1,e)},proto.threads.pb.GetCollectionIndexesRequest.prototype.getName=function(){return googleProtobuf.Message.getFieldWithDefault(this,2,"")},proto.threads.pb.GetCollectionIndexesRequest.prototype.setName=function(e){return googleProtobuf.Message.setProto3StringField(this,2,e)},proto.threads.pb.GetCollectionIndexesReply.repeatedFields_=[1],googleProtobuf.Message.GENERATE_TO_OBJECT&&(proto.threads.pb.GetCollectionIndexesReply.prototype.toObject=function(e){return proto.threads.pb.GetCollectionIndexesReply.toObject(e,this)},proto.threads.pb.GetCollectionIndexesReply.toObject=function(e,t){var r={indexesList:googleProtobuf.Message.toObjectList(t.getIndexesList(),proto.threads.pb.Index.toObject,e)};return e&&(r.$jspbMessageInstance=t),r}),proto.threads.pb.GetCollectionIndexesReply.deserializeBinary=function(e){var t=new googleProtobuf.BinaryReader(e),r=new proto.threads.pb.GetCollectionIndexesReply;return proto.threads.pb.GetCollectionIndexesReply.deserializeBinaryFromReader(r,t)},proto.threads.pb.GetCollectionIndexesReply.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)if(1===t.getFieldNumber()){var r=new proto.threads.pb.Index;t.readMessage(r,proto.threads.pb.Index.deserializeBinaryFromReader),e.addIndexes(r)}else t.skipField();return e},proto.threads.pb.GetCollectionIndexesReply.prototype.serializeBinary=function(){var e=new googleProtobuf.BinaryWriter;return proto.threads.pb.GetCollectionIndexesReply.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.threads.pb.GetCollectionIndexesReply.serializeBinaryToWriter=function(e,t){var r;(r=e.getIndexesList()).length>0&&t.writeRepeatedMessage(1,r,proto.threads.pb.Index.serializeBinaryToWriter)},proto.threads.pb.GetCollectionIndexesReply.prototype.getIndexesList=function(){return googleProtobuf.Message.getRepeatedWrapperField(this,proto.threads.pb.Index,1)},proto.threads.pb.GetCollectionIndexesReply.prototype.setIndexesList=function(e){return googleProtobuf.Message.setRepeatedWrapperField(this,1,e)},proto.threads.pb.GetCollectionIndexesReply.prototype.addIndexes=function(e,t){return googleProtobuf.Message.addToRepeatedWrapperField(this,1,e,proto.threads.pb.Index,t)},proto.threads.pb.GetCollectionIndexesReply.prototype.clearIndexesList=function(){return this.setIndexesList([])},googleProtobuf.Message.GENERATE_TO_OBJECT&&(proto.threads.pb.ListCollectionsRequest.prototype.toObject=function(e){return proto.threads.pb.ListCollectionsRequest.toObject(e,this)},proto.threads.pb.ListCollectionsRequest.toObject=function(e,t){var r={dbid:t.getDbid_asB64()};return e&&(r.$jspbMessageInstance=t),r}),proto.threads.pb.ListCollectionsRequest.deserializeBinary=function(e){var t=new googleProtobuf.BinaryReader(e),r=new proto.threads.pb.ListCollectionsRequest;return proto.threads.pb.ListCollectionsRequest.deserializeBinaryFromReader(r,t)},proto.threads.pb.ListCollectionsRequest.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)if(1===t.getFieldNumber()){var r=t.readBytes();e.setDbid(r)}else t.skipField();return e},proto.threads.pb.ListCollectionsRequest.prototype.serializeBinary=function(){var e=new googleProtobuf.BinaryWriter;return proto.threads.pb.ListCollectionsRequest.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.threads.pb.ListCollectionsRequest.serializeBinaryToWriter=function(e,t){var r;(r=e.getDbid_asU8()).length>0&&t.writeBytes(1,r)},proto.threads.pb.ListCollectionsRequest.prototype.getDbid=function(){return googleProtobuf.Message.getFieldWithDefault(this,1,"")},proto.threads.pb.ListCollectionsRequest.prototype.getDbid_asB64=function(){return googleProtobuf.Message.bytesAsB64(this.getDbid())},proto.threads.pb.ListCollectionsRequest.prototype.getDbid_asU8=function(){return googleProtobuf.Message.bytesAsU8(this.getDbid())},proto.threads.pb.ListCollectionsRequest.prototype.setDbid=function(e){return googleProtobuf.Message.setProto3BytesField(this,1,e)},proto.threads.pb.ListCollectionsReply.repeatedFields_=[1],googleProtobuf.Message.GENERATE_TO_OBJECT&&(proto.threads.pb.ListCollectionsReply.prototype.toObject=function(e){return proto.threads.pb.ListCollectionsReply.toObject(e,this)},proto.threads.pb.ListCollectionsReply.toObject=function(e,t){var r={collectionsList:googleProtobuf.Message.toObjectList(t.getCollectionsList(),proto.threads.pb.GetCollectionInfoReply.toObject,e)};return e&&(r.$jspbMessageInstance=t),r}),proto.threads.pb.ListCollectionsReply.deserializeBinary=function(e){var t=new googleProtobuf.BinaryReader(e),r=new proto.threads.pb.ListCollectionsReply;return proto.threads.pb.ListCollectionsReply.deserializeBinaryFromReader(r,t)},proto.threads.pb.ListCollectionsReply.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)if(1===t.getFieldNumber()){var r=new proto.threads.pb.GetCollectionInfoReply;t.readMessage(r,proto.threads.pb.GetCollectionInfoReply.deserializeBinaryFromReader),e.addCollections(r)}else t.skipField();return e},proto.threads.pb.ListCollectionsReply.prototype.serializeBinary=function(){var e=new googleProtobuf.BinaryWriter;return proto.threads.pb.ListCollectionsReply.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.threads.pb.ListCollectionsReply.serializeBinaryToWriter=function(e,t){var r;(r=e.getCollectionsList()).length>0&&t.writeRepeatedMessage(1,r,proto.threads.pb.GetCollectionInfoReply.serializeBinaryToWriter)},proto.threads.pb.ListCollectionsReply.prototype.getCollectionsList=function(){return googleProtobuf.Message.getRepeatedWrapperField(this,proto.threads.pb.GetCollectionInfoReply,1)},proto.threads.pb.ListCollectionsReply.prototype.setCollectionsList=function(e){return googleProtobuf.Message.setRepeatedWrapperField(this,1,e)},proto.threads.pb.ListCollectionsReply.prototype.addCollections=function(e,t){return googleProtobuf.Message.addToRepeatedWrapperField(this,1,e,proto.threads.pb.GetCollectionInfoReply,t)},proto.threads.pb.ListCollectionsReply.prototype.clearCollectionsList=function(){return this.setCollectionsList([])},proto.threads.pb.CreateRequest.repeatedFields_=[3],googleProtobuf.Message.GENERATE_TO_OBJECT&&(proto.threads.pb.CreateRequest.prototype.toObject=function(e){return proto.threads.pb.CreateRequest.toObject(e,this)},proto.threads.pb.CreateRequest.toObject=function(e,t){var r={dbid:t.getDbid_asB64(),collectionname:googleProtobuf.Message.getFieldWithDefault(t,2,""),instancesList:t.getInstancesList_asB64()};return e&&(r.$jspbMessageInstance=t),r}),proto.threads.pb.CreateRequest.deserializeBinary=function(e){var t=new googleProtobuf.BinaryReader(e),r=new proto.threads.pb.CreateRequest;return proto.threads.pb.CreateRequest.deserializeBinaryFromReader(r,t)},proto.threads.pb.CreateRequest.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readBytes();e.setDbid(r);break;case 2:r=t.readString(),e.setCollectionname(r);break;case 3:r=t.readBytes(),e.addInstances(r);break;default:t.skipField()}return e},proto.threads.pb.CreateRequest.prototype.serializeBinary=function(){var e=new googleProtobuf.BinaryWriter;return proto.threads.pb.CreateRequest.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.threads.pb.CreateRequest.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getDbid_asU8()).length>0&&t.writeBytes(1,r),(r=e.getCollectionname()).length>0&&t.writeString(2,r),(r=e.getInstancesList_asU8()).length>0&&t.writeRepeatedBytes(3,r)},proto.threads.pb.CreateRequest.prototype.getDbid=function(){return googleProtobuf.Message.getFieldWithDefault(this,1,"")},proto.threads.pb.CreateRequest.prototype.getDbid_asB64=function(){return googleProtobuf.Message.bytesAsB64(this.getDbid())},proto.threads.pb.CreateRequest.prototype.getDbid_asU8=function(){return googleProtobuf.Message.bytesAsU8(this.getDbid())},proto.threads.pb.CreateRequest.prototype.setDbid=function(e){return googleProtobuf.Message.setProto3BytesField(this,1,e)},proto.threads.pb.CreateRequest.prototype.getCollectionname=function(){return googleProtobuf.Message.getFieldWithDefault(this,2,"")},proto.threads.pb.CreateRequest.prototype.setCollectionname=function(e){return googleProtobuf.Message.setProto3StringField(this,2,e)},proto.threads.pb.CreateRequest.prototype.getInstancesList=function(){return googleProtobuf.Message.getRepeatedField(this,3)},proto.threads.pb.CreateRequest.prototype.getInstancesList_asB64=function(){return googleProtobuf.Message.bytesListAsB64(this.getInstancesList())},proto.threads.pb.CreateRequest.prototype.getInstancesList_asU8=function(){return googleProtobuf.Message.bytesListAsU8(this.getInstancesList())},proto.threads.pb.CreateRequest.prototype.setInstancesList=function(e){return googleProtobuf.Message.setField(this,3,e||[])},proto.threads.pb.CreateRequest.prototype.addInstances=function(e,t){return googleProtobuf.Message.addToRepeatedField(this,3,e,t)},proto.threads.pb.CreateRequest.prototype.clearInstancesList=function(){return this.setInstancesList([])},proto.threads.pb.CreateReply.repeatedFields_=[1],googleProtobuf.Message.GENERATE_TO_OBJECT&&(proto.threads.pb.CreateReply.prototype.toObject=function(e){return proto.threads.pb.CreateReply.toObject(e,this)},proto.threads.pb.CreateReply.toObject=function(e,t){var r,o={instanceidsList:null==(r=googleProtobuf.Message.getRepeatedField(t,1))?void 0:r,transactionerror:googleProtobuf.Message.getFieldWithDefault(t,2,"")};return e&&(o.$jspbMessageInstance=t),o}),proto.threads.pb.CreateReply.deserializeBinary=function(e){var t=new googleProtobuf.BinaryReader(e),r=new proto.threads.pb.CreateReply;return proto.threads.pb.CreateReply.deserializeBinaryFromReader(r,t)},proto.threads.pb.CreateReply.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readString();e.addInstanceids(r);break;case 2:r=t.readString(),e.setTransactionerror(r);break;default:t.skipField()}return e},proto.threads.pb.CreateReply.prototype.serializeBinary=function(){var e=new googleProtobuf.BinaryWriter;return proto.threads.pb.CreateReply.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.threads.pb.CreateReply.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getInstanceidsList()).length>0&&t.writeRepeatedString(1,r),(r=e.getTransactionerror()).length>0&&t.writeString(2,r)},proto.threads.pb.CreateReply.prototype.getInstanceidsList=function(){return googleProtobuf.Message.getRepeatedField(this,1)},proto.threads.pb.CreateReply.prototype.setInstanceidsList=function(e){return googleProtobuf.Message.setField(this,1,e||[])},proto.threads.pb.CreateReply.prototype.addInstanceids=function(e,t){return googleProtobuf.Message.addToRepeatedField(this,1,e,t)},proto.threads.pb.CreateReply.prototype.clearInstanceidsList=function(){return this.setInstanceidsList([])},proto.threads.pb.CreateReply.prototype.getTransactionerror=function(){return googleProtobuf.Message.getFieldWithDefault(this,2,"")},proto.threads.pb.CreateReply.prototype.setTransactionerror=function(e){return googleProtobuf.Message.setProto3StringField(this,2,e)},proto.threads.pb.VerifyRequest.repeatedFields_=[3],googleProtobuf.Message.GENERATE_TO_OBJECT&&(proto.threads.pb.VerifyRequest.prototype.toObject=function(e){return proto.threads.pb.VerifyRequest.toObject(e,this)},proto.threads.pb.VerifyRequest.toObject=function(e,t){var r={dbid:t.getDbid_asB64(),collectionname:googleProtobuf.Message.getFieldWithDefault(t,2,""),instancesList:t.getInstancesList_asB64()};return e&&(r.$jspbMessageInstance=t),r}),proto.threads.pb.VerifyRequest.deserializeBinary=function(e){var t=new googleProtobuf.BinaryReader(e),r=new proto.threads.pb.VerifyRequest;return proto.threads.pb.VerifyRequest.deserializeBinaryFromReader(r,t)},proto.threads.pb.VerifyRequest.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readBytes();e.setDbid(r);break;case 2:r=t.readString(),e.setCollectionname(r);break;case 3:r=t.readBytes(),e.addInstances(r);break;default:t.skipField()}return e},proto.threads.pb.VerifyRequest.prototype.serializeBinary=function(){var e=new googleProtobuf.BinaryWriter;return proto.threads.pb.VerifyRequest.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.threads.pb.VerifyRequest.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getDbid_asU8()).length>0&&t.writeBytes(1,r),(r=e.getCollectionname()).length>0&&t.writeString(2,r),(r=e.getInstancesList_asU8()).length>0&&t.writeRepeatedBytes(3,r)},proto.threads.pb.VerifyRequest.prototype.getDbid=function(){return googleProtobuf.Message.getFieldWithDefault(this,1,"")},proto.threads.pb.VerifyRequest.prototype.getDbid_asB64=function(){return googleProtobuf.Message.bytesAsB64(this.getDbid())},proto.threads.pb.VerifyRequest.prototype.getDbid_asU8=function(){return googleProtobuf.Message.bytesAsU8(this.getDbid())},proto.threads.pb.VerifyRequest.prototype.setDbid=function(e){return googleProtobuf.Message.setProto3BytesField(this,1,e)},proto.threads.pb.VerifyRequest.prototype.getCollectionname=function(){return googleProtobuf.Message.getFieldWithDefault(this,2,"")},proto.threads.pb.VerifyRequest.prototype.setCollectionname=function(e){return googleProtobuf.Message.setProto3StringField(this,2,e)},proto.threads.pb.VerifyRequest.prototype.getInstancesList=function(){return googleProtobuf.Message.getRepeatedField(this,3)},proto.threads.pb.VerifyRequest.prototype.getInstancesList_asB64=function(){return googleProtobuf.Message.bytesListAsB64(this.getInstancesList())},proto.threads.pb.VerifyRequest.prototype.getInstancesList_asU8=function(){return googleProtobuf.Message.bytesListAsU8(this.getInstancesList())},proto.threads.pb.VerifyRequest.prototype.setInstancesList=function(e){return googleProtobuf.Message.setField(this,3,e||[])},proto.threads.pb.VerifyRequest.prototype.addInstances=function(e,t){return googleProtobuf.Message.addToRepeatedField(this,3,e,t)},proto.threads.pb.VerifyRequest.prototype.clearInstancesList=function(){return this.setInstancesList([])},googleProtobuf.Message.GENERATE_TO_OBJECT&&(proto.threads.pb.VerifyReply.prototype.toObject=function(e){return proto.threads.pb.VerifyReply.toObject(e,this)},proto.threads.pb.VerifyReply.toObject=function(e,t){var r={transactionerror:googleProtobuf.Message.getFieldWithDefault(t,1,"")};return e&&(r.$jspbMessageInstance=t),r}),proto.threads.pb.VerifyReply.deserializeBinary=function(e){var t=new googleProtobuf.BinaryReader(e),r=new proto.threads.pb.VerifyReply;return proto.threads.pb.VerifyReply.deserializeBinaryFromReader(r,t)},proto.threads.pb.VerifyReply.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)if(1===t.getFieldNumber()){var r=t.readString();e.setTransactionerror(r)}else t.skipField();return e},proto.threads.pb.VerifyReply.prototype.serializeBinary=function(){var e=new googleProtobuf.BinaryWriter;return proto.threads.pb.VerifyReply.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.threads.pb.VerifyReply.serializeBinaryToWriter=function(e,t){var r;(r=e.getTransactionerror()).length>0&&t.writeString(1,r)},proto.threads.pb.VerifyReply.prototype.getTransactionerror=function(){return googleProtobuf.Message.getFieldWithDefault(this,1,"")},proto.threads.pb.VerifyReply.prototype.setTransactionerror=function(e){return googleProtobuf.Message.setProto3StringField(this,1,e)},proto.threads.pb.SaveRequest.repeatedFields_=[3],googleProtobuf.Message.GENERATE_TO_OBJECT&&(proto.threads.pb.SaveRequest.prototype.toObject=function(e){return proto.threads.pb.SaveRequest.toObject(e,this)},proto.threads.pb.SaveRequest.toObject=function(e,t){var r={dbid:t.getDbid_asB64(),collectionname:googleProtobuf.Message.getFieldWithDefault(t,2,""),instancesList:t.getInstancesList_asB64()};return e&&(r.$jspbMessageInstance=t),r}),proto.threads.pb.SaveRequest.deserializeBinary=function(e){var t=new googleProtobuf.BinaryReader(e),r=new proto.threads.pb.SaveRequest;return proto.threads.pb.SaveRequest.deserializeBinaryFromReader(r,t)},proto.threads.pb.SaveRequest.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readBytes();e.setDbid(r);break;case 2:r=t.readString(),e.setCollectionname(r);break;case 3:r=t.readBytes(),e.addInstances(r);break;default:t.skipField()}return e},proto.threads.pb.SaveRequest.prototype.serializeBinary=function(){var e=new googleProtobuf.BinaryWriter;return proto.threads.pb.SaveRequest.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.threads.pb.SaveRequest.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getDbid_asU8()).length>0&&t.writeBytes(1,r),(r=e.getCollectionname()).length>0&&t.writeString(2,r),(r=e.getInstancesList_asU8()).length>0&&t.writeRepeatedBytes(3,r)},proto.threads.pb.SaveRequest.prototype.getDbid=function(){return googleProtobuf.Message.getFieldWithDefault(this,1,"")},proto.threads.pb.SaveRequest.prototype.getDbid_asB64=function(){return googleProtobuf.Message.bytesAsB64(this.getDbid())},proto.threads.pb.SaveRequest.prototype.getDbid_asU8=function(){return googleProtobuf.Message.bytesAsU8(this.getDbid())},proto.threads.pb.SaveRequest.prototype.setDbid=function(e){return googleProtobuf.Message.setProto3BytesField(this,1,e)},proto.threads.pb.SaveRequest.prototype.getCollectionname=function(){return googleProtobuf.Message.getFieldWithDefault(this,2,"")},proto.threads.pb.SaveRequest.prototype.setCollectionname=function(e){return googleProtobuf.Message.setProto3StringField(this,2,e)},proto.threads.pb.SaveRequest.prototype.getInstancesList=function(){return googleProtobuf.Message.getRepeatedField(this,3)},proto.threads.pb.SaveRequest.prototype.getInstancesList_asB64=function(){return googleProtobuf.Message.bytesListAsB64(this.getInstancesList())},proto.threads.pb.SaveRequest.prototype.getInstancesList_asU8=function(){return googleProtobuf.Message.bytesListAsU8(this.getInstancesList())},proto.threads.pb.SaveRequest.prototype.setInstancesList=function(e){return googleProtobuf.Message.setField(this,3,e||[])},proto.threads.pb.SaveRequest.prototype.addInstances=function(e,t){return googleProtobuf.Message.addToRepeatedField(this,3,e,t)},proto.threads.pb.SaveRequest.prototype.clearInstancesList=function(){return this.setInstancesList([])},googleProtobuf.Message.GENERATE_TO_OBJECT&&(proto.threads.pb.SaveReply.prototype.toObject=function(e){return proto.threads.pb.SaveReply.toObject(e,this)},proto.threads.pb.SaveReply.toObject=function(e,t){var r={transactionerror:googleProtobuf.Message.getFieldWithDefault(t,1,"")};return e&&(r.$jspbMessageInstance=t),r}),proto.threads.pb.SaveReply.deserializeBinary=function(e){var t=new googleProtobuf.BinaryReader(e),r=new proto.threads.pb.SaveReply;return proto.threads.pb.SaveReply.deserializeBinaryFromReader(r,t)},proto.threads.pb.SaveReply.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)if(1===t.getFieldNumber()){var r=t.readString();e.setTransactionerror(r)}else t.skipField();return e},proto.threads.pb.SaveReply.prototype.serializeBinary=function(){var e=new googleProtobuf.BinaryWriter;return proto.threads.pb.SaveReply.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.threads.pb.SaveReply.serializeBinaryToWriter=function(e,t){var r;(r=e.getTransactionerror()).length>0&&t.writeString(1,r)},proto.threads.pb.SaveReply.prototype.getTransactionerror=function(){return googleProtobuf.Message.getFieldWithDefault(this,1,"")},proto.threads.pb.SaveReply.prototype.setTransactionerror=function(e){return googleProtobuf.Message.setProto3StringField(this,1,e)},proto.threads.pb.DeleteRequest.repeatedFields_=[3],googleProtobuf.Message.GENERATE_TO_OBJECT&&(proto.threads.pb.DeleteRequest.prototype.toObject=function(e){return proto.threads.pb.DeleteRequest.toObject(e,this)},proto.threads.pb.DeleteRequest.toObject=function(e,t){var r,o={dbid:t.getDbid_asB64(),collectionname:googleProtobuf.Message.getFieldWithDefault(t,2,""),instanceidsList:null==(r=googleProtobuf.Message.getRepeatedField(t,3))?void 0:r};return e&&(o.$jspbMessageInstance=t),o}),proto.threads.pb.DeleteRequest.deserializeBinary=function(e){var t=new googleProtobuf.BinaryReader(e),r=new proto.threads.pb.DeleteRequest;return proto.threads.pb.DeleteRequest.deserializeBinaryFromReader(r,t)},proto.threads.pb.DeleteRequest.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readBytes();e.setDbid(r);break;case 2:r=t.readString(),e.setCollectionname(r);break;case 3:r=t.readString(),e.addInstanceids(r);break;default:t.skipField()}return e},proto.threads.pb.DeleteRequest.prototype.serializeBinary=function(){var e=new googleProtobuf.BinaryWriter;return proto.threads.pb.DeleteRequest.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.threads.pb.DeleteRequest.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getDbid_asU8()).length>0&&t.writeBytes(1,r),(r=e.getCollectionname()).length>0&&t.writeString(2,r),(r=e.getInstanceidsList()).length>0&&t.writeRepeatedString(3,r)},proto.threads.pb.DeleteRequest.prototype.getDbid=function(){return googleProtobuf.Message.getFieldWithDefault(this,1,"")},proto.threads.pb.DeleteRequest.prototype.getDbid_asB64=function(){return googleProtobuf.Message.bytesAsB64(this.getDbid())},proto.threads.pb.DeleteRequest.prototype.getDbid_asU8=function(){return googleProtobuf.Message.bytesAsU8(this.getDbid())},proto.threads.pb.DeleteRequest.prototype.setDbid=function(e){return googleProtobuf.Message.setProto3BytesField(this,1,e)},proto.threads.pb.DeleteRequest.prototype.getCollectionname=function(){return googleProtobuf.Message.getFieldWithDefault(this,2,"")},proto.threads.pb.DeleteRequest.prototype.setCollectionname=function(e){return googleProtobuf.Message.setProto3StringField(this,2,e)},proto.threads.pb.DeleteRequest.prototype.getInstanceidsList=function(){return googleProtobuf.Message.getRepeatedField(this,3)},proto.threads.pb.DeleteRequest.prototype.setInstanceidsList=function(e){return googleProtobuf.Message.setField(this,3,e||[])},proto.threads.pb.DeleteRequest.prototype.addInstanceids=function(e,t){return googleProtobuf.Message.addToRepeatedField(this,3,e,t)},proto.threads.pb.DeleteRequest.prototype.clearInstanceidsList=function(){return this.setInstanceidsList([])},googleProtobuf.Message.GENERATE_TO_OBJECT&&(proto.threads.pb.DeleteReply.prototype.toObject=function(e){return proto.threads.pb.DeleteReply.toObject(e,this)},proto.threads.pb.DeleteReply.toObject=function(e,t){var r={transactionerror:googleProtobuf.Message.getFieldWithDefault(t,1,"")};return e&&(r.$jspbMessageInstance=t),r}),proto.threads.pb.DeleteReply.deserializeBinary=function(e){var t=new googleProtobuf.BinaryReader(e),r=new proto.threads.pb.DeleteReply;return proto.threads.pb.DeleteReply.deserializeBinaryFromReader(r,t)},proto.threads.pb.DeleteReply.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)if(1===t.getFieldNumber()){var r=t.readString();e.setTransactionerror(r)}else t.skipField();return e},proto.threads.pb.DeleteReply.prototype.serializeBinary=function(){var e=new googleProtobuf.BinaryWriter;return proto.threads.pb.DeleteReply.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.threads.pb.DeleteReply.serializeBinaryToWriter=function(e,t){var r;(r=e.getTransactionerror()).length>0&&t.writeString(1,r)},proto.threads.pb.DeleteReply.prototype.getTransactionerror=function(){return googleProtobuf.Message.getFieldWithDefault(this,1,"")},proto.threads.pb.DeleteReply.prototype.setTransactionerror=function(e){return googleProtobuf.Message.setProto3StringField(this,1,e)},proto.threads.pb.HasRequest.repeatedFields_=[3],googleProtobuf.Message.GENERATE_TO_OBJECT&&(proto.threads.pb.HasRequest.prototype.toObject=function(e){return proto.threads.pb.HasRequest.toObject(e,this)},proto.threads.pb.HasRequest.toObject=function(e,t){var r,o={dbid:t.getDbid_asB64(),collectionname:googleProtobuf.Message.getFieldWithDefault(t,2,""),instanceidsList:null==(r=googleProtobuf.Message.getRepeatedField(t,3))?void 0:r};return e&&(o.$jspbMessageInstance=t),o}),proto.threads.pb.HasRequest.deserializeBinary=function(e){var t=new googleProtobuf.BinaryReader(e),r=new proto.threads.pb.HasRequest;return proto.threads.pb.HasRequest.deserializeBinaryFromReader(r,t)},proto.threads.pb.HasRequest.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readBytes();e.setDbid(r);break;case 2:r=t.readString(),e.setCollectionname(r);break;case 3:r=t.readString(),e.addInstanceids(r);break;default:t.skipField()}return e},proto.threads.pb.HasRequest.prototype.serializeBinary=function(){var e=new googleProtobuf.BinaryWriter;return proto.threads.pb.HasRequest.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.threads.pb.HasRequest.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getDbid_asU8()).length>0&&t.writeBytes(1,r),(r=e.getCollectionname()).length>0&&t.writeString(2,r),(r=e.getInstanceidsList()).length>0&&t.writeRepeatedString(3,r)},proto.threads.pb.HasRequest.prototype.getDbid=function(){return googleProtobuf.Message.getFieldWithDefault(this,1,"")},proto.threads.pb.HasRequest.prototype.getDbid_asB64=function(){return googleProtobuf.Message.bytesAsB64(this.getDbid())},proto.threads.pb.HasRequest.prototype.getDbid_asU8=function(){return googleProtobuf.Message.bytesAsU8(this.getDbid())},proto.threads.pb.HasRequest.prototype.setDbid=function(e){return googleProtobuf.Message.setProto3BytesField(this,1,e)},proto.threads.pb.HasRequest.prototype.getCollectionname=function(){return googleProtobuf.Message.getFieldWithDefault(this,2,"")},proto.threads.pb.HasRequest.prototype.setCollectionname=function(e){return googleProtobuf.Message.setProto3StringField(this,2,e)},proto.threads.pb.HasRequest.prototype.getInstanceidsList=function(){return googleProtobuf.Message.getRepeatedField(this,3)},proto.threads.pb.HasRequest.prototype.setInstanceidsList=function(e){return googleProtobuf.Message.setField(this,3,e||[])},proto.threads.pb.HasRequest.prototype.addInstanceids=function(e,t){return googleProtobuf.Message.addToRepeatedField(this,3,e,t)},proto.threads.pb.HasRequest.prototype.clearInstanceidsList=function(){return this.setInstanceidsList([])},googleProtobuf.Message.GENERATE_TO_OBJECT&&(proto.threads.pb.HasReply.prototype.toObject=function(e){return proto.threads.pb.HasReply.toObject(e,this)},proto.threads.pb.HasReply.toObject=function(e,t){var r={exists:googleProtobuf.Message.getBooleanFieldWithDefault(t,1,!1),transactionerror:googleProtobuf.Message.getFieldWithDefault(t,2,"")};return e&&(r.$jspbMessageInstance=t),r}),proto.threads.pb.HasReply.deserializeBinary=function(e){var t=new googleProtobuf.BinaryReader(e),r=new proto.threads.pb.HasReply;return proto.threads.pb.HasReply.deserializeBinaryFromReader(r,t)},proto.threads.pb.HasReply.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readBool();e.setExists(r);break;case 2:r=t.readString(),e.setTransactionerror(r);break;default:t.skipField()}return e},proto.threads.pb.HasReply.prototype.serializeBinary=function(){var e=new googleProtobuf.BinaryWriter;return proto.threads.pb.HasReply.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.threads.pb.HasReply.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getExists())&&t.writeBool(1,r),(r=e.getTransactionerror()).length>0&&t.writeString(2,r)},proto.threads.pb.HasReply.prototype.getExists=function(){return googleProtobuf.Message.getBooleanFieldWithDefault(this,1,!1)},proto.threads.pb.HasReply.prototype.setExists=function(e){return googleProtobuf.Message.setProto3BooleanField(this,1,e)},proto.threads.pb.HasReply.prototype.getTransactionerror=function(){return googleProtobuf.Message.getFieldWithDefault(this,2,"")},proto.threads.pb.HasReply.prototype.setTransactionerror=function(e){return googleProtobuf.Message.setProto3StringField(this,2,e)},googleProtobuf.Message.GENERATE_TO_OBJECT&&(proto.threads.pb.FindRequest.prototype.toObject=function(e){return proto.threads.pb.FindRequest.toObject(e,this)},proto.threads.pb.FindRequest.toObject=function(e,t){var r={dbid:t.getDbid_asB64(),collectionname:googleProtobuf.Message.getFieldWithDefault(t,2,""),queryjson:t.getQueryjson_asB64()};return e&&(r.$jspbMessageInstance=t),r}),proto.threads.pb.FindRequest.deserializeBinary=function(e){var t=new googleProtobuf.BinaryReader(e),r=new proto.threads.pb.FindRequest;return proto.threads.pb.FindRequest.deserializeBinaryFromReader(r,t)},proto.threads.pb.FindRequest.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readBytes();e.setDbid(r);break;case 2:r=t.readString(),e.setCollectionname(r);break;case 3:r=t.readBytes(),e.setQueryjson(r);break;default:t.skipField()}return e},proto.threads.pb.FindRequest.prototype.serializeBinary=function(){var e=new googleProtobuf.BinaryWriter;return proto.threads.pb.FindRequest.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.threads.pb.FindRequest.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getDbid_asU8()).length>0&&t.writeBytes(1,r),(r=e.getCollectionname()).length>0&&t.writeString(2,r),(r=e.getQueryjson_asU8()).length>0&&t.writeBytes(3,r)},proto.threads.pb.FindRequest.prototype.getDbid=function(){return googleProtobuf.Message.getFieldWithDefault(this,1,"")},proto.threads.pb.FindRequest.prototype.getDbid_asB64=function(){return googleProtobuf.Message.bytesAsB64(this.getDbid())},proto.threads.pb.FindRequest.prototype.getDbid_asU8=function(){return googleProtobuf.Message.bytesAsU8(this.getDbid())},proto.threads.pb.FindRequest.prototype.setDbid=function(e){return googleProtobuf.Message.setProto3BytesField(this,1,e)},proto.threads.pb.FindRequest.prototype.getCollectionname=function(){return googleProtobuf.Message.getFieldWithDefault(this,2,"")},proto.threads.pb.FindRequest.prototype.setCollectionname=function(e){return googleProtobuf.Message.setProto3StringField(this,2,e)},proto.threads.pb.FindRequest.prototype.getQueryjson=function(){return googleProtobuf.Message.getFieldWithDefault(this,3,"")},proto.threads.pb.FindRequest.prototype.getQueryjson_asB64=function(){return googleProtobuf.Message.bytesAsB64(this.getQueryjson())},proto.threads.pb.FindRequest.prototype.getQueryjson_asU8=function(){return googleProtobuf.Message.bytesAsU8(this.getQueryjson())},proto.threads.pb.FindRequest.prototype.setQueryjson=function(e){return googleProtobuf.Message.setProto3BytesField(this,3,e)},proto.threads.pb.FindReply.repeatedFields_=[1],googleProtobuf.Message.GENERATE_TO_OBJECT&&(proto.threads.pb.FindReply.prototype.toObject=function(e){return proto.threads.pb.FindReply.toObject(e,this)},proto.threads.pb.FindReply.toObject=function(e,t){var r={instancesList:t.getInstancesList_asB64(),transactionerror:googleProtobuf.Message.getFieldWithDefault(t,2,"")};return e&&(r.$jspbMessageInstance=t),r}),proto.threads.pb.FindReply.deserializeBinary=function(e){var t=new googleProtobuf.BinaryReader(e),r=new proto.threads.pb.FindReply;return proto.threads.pb.FindReply.deserializeBinaryFromReader(r,t)},proto.threads.pb.FindReply.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readBytes();e.addInstances(r);break;case 2:r=t.readString(),e.setTransactionerror(r);break;default:t.skipField()}return e},proto.threads.pb.FindReply.prototype.serializeBinary=function(){var e=new googleProtobuf.BinaryWriter;return proto.threads.pb.FindReply.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.threads.pb.FindReply.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getInstancesList_asU8()).length>0&&t.writeRepeatedBytes(1,r),(r=e.getTransactionerror()).length>0&&t.writeString(2,r)},proto.threads.pb.FindReply.prototype.getInstancesList=function(){return googleProtobuf.Message.getRepeatedField(this,1)},proto.threads.pb.FindReply.prototype.getInstancesList_asB64=function(){return googleProtobuf.Message.bytesListAsB64(this.getInstancesList())},proto.threads.pb.FindReply.prototype.getInstancesList_asU8=function(){return googleProtobuf.Message.bytesListAsU8(this.getInstancesList())},proto.threads.pb.FindReply.prototype.setInstancesList=function(e){return googleProtobuf.Message.setField(this,1,e||[])},proto.threads.pb.FindReply.prototype.addInstances=function(e,t){return googleProtobuf.Message.addToRepeatedField(this,1,e,t)},proto.threads.pb.FindReply.prototype.clearInstancesList=function(){return this.setInstancesList([])},proto.threads.pb.FindReply.prototype.getTransactionerror=function(){return googleProtobuf.Message.getFieldWithDefault(this,2,"")},proto.threads.pb.FindReply.prototype.setTransactionerror=function(e){return googleProtobuf.Message.setProto3StringField(this,2,e)},googleProtobuf.Message.GENERATE_TO_OBJECT&&(proto.threads.pb.FindByIDRequest.prototype.toObject=function(e){return proto.threads.pb.FindByIDRequest.toObject(e,this)},proto.threads.pb.FindByIDRequest.toObject=function(e,t){var r={dbid:t.getDbid_asB64(),collectionname:googleProtobuf.Message.getFieldWithDefault(t,2,""),instanceid:googleProtobuf.Message.getFieldWithDefault(t,3,"")};return e&&(r.$jspbMessageInstance=t),r}),proto.threads.pb.FindByIDRequest.deserializeBinary=function(e){var t=new googleProtobuf.BinaryReader(e),r=new proto.threads.pb.FindByIDRequest;return proto.threads.pb.FindByIDRequest.deserializeBinaryFromReader(r,t)},proto.threads.pb.FindByIDRequest.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readBytes();e.setDbid(r);break;case 2:r=t.readString(),e.setCollectionname(r);break;case 3:r=t.readString(),e.setInstanceid(r);break;default:t.skipField()}return e},proto.threads.pb.FindByIDRequest.prototype.serializeBinary=function(){var e=new googleProtobuf.BinaryWriter;return proto.threads.pb.FindByIDRequest.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.threads.pb.FindByIDRequest.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getDbid_asU8()).length>0&&t.writeBytes(1,r),(r=e.getCollectionname()).length>0&&t.writeString(2,r),(r=e.getInstanceid()).length>0&&t.writeString(3,r)},proto.threads.pb.FindByIDRequest.prototype.getDbid=function(){return googleProtobuf.Message.getFieldWithDefault(this,1,"")},proto.threads.pb.FindByIDRequest.prototype.getDbid_asB64=function(){return googleProtobuf.Message.bytesAsB64(this.getDbid())},proto.threads.pb.FindByIDRequest.prototype.getDbid_asU8=function(){return googleProtobuf.Message.bytesAsU8(this.getDbid())},proto.threads.pb.FindByIDRequest.prototype.setDbid=function(e){return googleProtobuf.Message.setProto3BytesField(this,1,e)},proto.threads.pb.FindByIDRequest.prototype.getCollectionname=function(){return googleProtobuf.Message.getFieldWithDefault(this,2,"")},proto.threads.pb.FindByIDRequest.prototype.setCollectionname=function(e){return googleProtobuf.Message.setProto3StringField(this,2,e)},proto.threads.pb.FindByIDRequest.prototype.getInstanceid=function(){return googleProtobuf.Message.getFieldWithDefault(this,3,"")},proto.threads.pb.FindByIDRequest.prototype.setInstanceid=function(e){return googleProtobuf.Message.setProto3StringField(this,3,e)},googleProtobuf.Message.GENERATE_TO_OBJECT&&(proto.threads.pb.FindByIDReply.prototype.toObject=function(e){return proto.threads.pb.FindByIDReply.toObject(e,this)},proto.threads.pb.FindByIDReply.toObject=function(e,t){var r={instance:t.getInstance_asB64(),transactionerror:googleProtobuf.Message.getFieldWithDefault(t,2,"")};return e&&(r.$jspbMessageInstance=t),r}),proto.threads.pb.FindByIDReply.deserializeBinary=function(e){var t=new googleProtobuf.BinaryReader(e),r=new proto.threads.pb.FindByIDReply;return proto.threads.pb.FindByIDReply.deserializeBinaryFromReader(r,t)},proto.threads.pb.FindByIDReply.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readBytes();e.setInstance(r);break;case 2:r=t.readString(),e.setTransactionerror(r);break;default:t.skipField()}return e},proto.threads.pb.FindByIDReply.prototype.serializeBinary=function(){var e=new googleProtobuf.BinaryWriter;return proto.threads.pb.FindByIDReply.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.threads.pb.FindByIDReply.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getInstance_asU8()).length>0&&t.writeBytes(1,r),(r=e.getTransactionerror()).length>0&&t.writeString(2,r)},proto.threads.pb.FindByIDReply.prototype.getInstance=function(){return googleProtobuf.Message.getFieldWithDefault(this,1,"")},proto.threads.pb.FindByIDReply.prototype.getInstance_asB64=function(){return googleProtobuf.Message.bytesAsB64(this.getInstance())},proto.threads.pb.FindByIDReply.prototype.getInstance_asU8=function(){return googleProtobuf.Message.bytesAsU8(this.getInstance())},proto.threads.pb.FindByIDReply.prototype.setInstance=function(e){return googleProtobuf.Message.setProto3BytesField(this,1,e)},proto.threads.pb.FindByIDReply.prototype.getTransactionerror=function(){return googleProtobuf.Message.getFieldWithDefault(this,2,"")},proto.threads.pb.FindByIDReply.prototype.setTransactionerror=function(e){return googleProtobuf.Message.setProto3StringField(this,2,e)},googleProtobuf.Message.GENERATE_TO_OBJECT&&(proto.threads.pb.DiscardRequest.prototype.toObject=function(e){return proto.threads.pb.DiscardRequest.toObject(e,this)},proto.threads.pb.DiscardRequest.toObject=function(e,t){var r={};return e&&(r.$jspbMessageInstance=t),r}),proto.threads.pb.DiscardRequest.deserializeBinary=function(e){var t=new googleProtobuf.BinaryReader(e),r=new proto.threads.pb.DiscardRequest;return proto.threads.pb.DiscardRequest.deserializeBinaryFromReader(r,t)},proto.threads.pb.DiscardRequest.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)t.getFieldNumber(),t.skipField();return e},proto.threads.pb.DiscardRequest.prototype.serializeBinary=function(){var e=new googleProtobuf.BinaryWriter;return proto.threads.pb.DiscardRequest.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.threads.pb.DiscardRequest.serializeBinaryToWriter=function(e,t){},googleProtobuf.Message.GENERATE_TO_OBJECT&&(proto.threads.pb.DiscardReply.prototype.toObject=function(e){return proto.threads.pb.DiscardReply.toObject(e,this)},proto.threads.pb.DiscardReply.toObject=function(e,t){var r={};return e&&(r.$jspbMessageInstance=t),r}),proto.threads.pb.DiscardReply.deserializeBinary=function(e){var t=new googleProtobuf.BinaryReader(e),r=new proto.threads.pb.DiscardReply;return proto.threads.pb.DiscardReply.deserializeBinaryFromReader(r,t)},proto.threads.pb.DiscardReply.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)t.getFieldNumber(),t.skipField();return e},proto.threads.pb.DiscardReply.prototype.serializeBinary=function(){var e=new googleProtobuf.BinaryWriter;return proto.threads.pb.DiscardReply.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.threads.pb.DiscardReply.serializeBinaryToWriter=function(e,t){},googleProtobuf.Message.GENERATE_TO_OBJECT&&(proto.threads.pb.StartTransactionRequest.prototype.toObject=function(e){return proto.threads.pb.StartTransactionRequest.toObject(e,this)},proto.threads.pb.StartTransactionRequest.toObject=function(e,t){var r={dbid:t.getDbid_asB64(),collectionname:googleProtobuf.Message.getFieldWithDefault(t,2,"")};return e&&(r.$jspbMessageInstance=t),r}),proto.threads.pb.StartTransactionRequest.deserializeBinary=function(e){var t=new googleProtobuf.BinaryReader(e),r=new proto.threads.pb.StartTransactionRequest;return proto.threads.pb.StartTransactionRequest.deserializeBinaryFromReader(r,t)},proto.threads.pb.StartTransactionRequest.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readBytes();e.setDbid(r);break;case 2:r=t.readString(),e.setCollectionname(r);break;default:t.skipField()}return e},proto.threads.pb.StartTransactionRequest.prototype.serializeBinary=function(){var e=new googleProtobuf.BinaryWriter;return proto.threads.pb.StartTransactionRequest.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.threads.pb.StartTransactionRequest.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getDbid_asU8()).length>0&&t.writeBytes(1,r),(r=e.getCollectionname()).length>0&&t.writeString(2,r)},proto.threads.pb.StartTransactionRequest.prototype.getDbid=function(){return googleProtobuf.Message.getFieldWithDefault(this,1,"")},proto.threads.pb.StartTransactionRequest.prototype.getDbid_asB64=function(){return googleProtobuf.Message.bytesAsB64(this.getDbid())},proto.threads.pb.StartTransactionRequest.prototype.getDbid_asU8=function(){return googleProtobuf.Message.bytesAsU8(this.getDbid())},proto.threads.pb.StartTransactionRequest.prototype.setDbid=function(e){return googleProtobuf.Message.setProto3BytesField(this,1,e)},proto.threads.pb.StartTransactionRequest.prototype.getCollectionname=function(){return googleProtobuf.Message.getFieldWithDefault(this,2,"")},proto.threads.pb.StartTransactionRequest.prototype.setCollectionname=function(e){return googleProtobuf.Message.setProto3StringField(this,2,e)},proto.threads.pb.ReadTransactionRequest.oneofGroups_=[[1,2,3,4]],proto.threads.pb.ReadTransactionRequest.OptionCase={OPTION_NOT_SET:0,STARTTRANSACTIONREQUEST:1,HASREQUEST:2,FINDREQUEST:3,FINDBYIDREQUEST:4},proto.threads.pb.ReadTransactionRequest.prototype.getOptionCase=function(){return googleProtobuf.Message.computeOneofCase(this,proto.threads.pb.ReadTransactionRequest.oneofGroups_[0])},googleProtobuf.Message.GENERATE_TO_OBJECT&&(proto.threads.pb.ReadTransactionRequest.prototype.toObject=function(e){return proto.threads.pb.ReadTransactionRequest.toObject(e,this)},proto.threads.pb.ReadTransactionRequest.toObject=function(e,t){var r,o={starttransactionrequest:(r=t.getStarttransactionrequest())&&proto.threads.pb.StartTransactionRequest.toObject(e,r),hasrequest:(r=t.getHasrequest())&&proto.threads.pb.HasRequest.toObject(e,r),findrequest:(r=t.getFindrequest())&&proto.threads.pb.FindRequest.toObject(e,r),findbyidrequest:(r=t.getFindbyidrequest())&&proto.threads.pb.FindByIDRequest.toObject(e,r)};return e&&(o.$jspbMessageInstance=t),o}),proto.threads.pb.ReadTransactionRequest.deserializeBinary=function(e){var t=new googleProtobuf.BinaryReader(e),r=new proto.threads.pb.ReadTransactionRequest;return proto.threads.pb.ReadTransactionRequest.deserializeBinaryFromReader(r,t)},proto.threads.pb.ReadTransactionRequest.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=new proto.threads.pb.StartTransactionRequest;t.readMessage(r,proto.threads.pb.StartTransactionRequest.deserializeBinaryFromReader),e.setStarttransactionrequest(r);break;case 2:r=new proto.threads.pb.HasRequest,t.readMessage(r,proto.threads.pb.HasRequest.deserializeBinaryFromReader),e.setHasrequest(r);break;case 3:r=new proto.threads.pb.FindRequest,t.readMessage(r,proto.threads.pb.FindRequest.deserializeBinaryFromReader),e.setFindrequest(r);break;case 4:r=new proto.threads.pb.FindByIDRequest,t.readMessage(r,proto.threads.pb.FindByIDRequest.deserializeBinaryFromReader),e.setFindbyidrequest(r);break;default:t.skipField()}return e},proto.threads.pb.ReadTransactionRequest.prototype.serializeBinary=function(){var e=new googleProtobuf.BinaryWriter;return proto.threads.pb.ReadTransactionRequest.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.threads.pb.ReadTransactionRequest.serializeBinaryToWriter=function(e,t){var r=void 0;null!=(r=e.getStarttransactionrequest())&&t.writeMessage(1,r,proto.threads.pb.StartTransactionRequest.serializeBinaryToWriter),null!=(r=e.getHasrequest())&&t.writeMessage(2,r,proto.threads.pb.HasRequest.serializeBinaryToWriter),null!=(r=e.getFindrequest())&&t.writeMessage(3,r,proto.threads.pb.FindRequest.serializeBinaryToWriter),null!=(r=e.getFindbyidrequest())&&t.writeMessage(4,r,proto.threads.pb.FindByIDRequest.serializeBinaryToWriter)},proto.threads.pb.ReadTransactionRequest.prototype.getStarttransactionrequest=function(){return googleProtobuf.Message.getWrapperField(this,proto.threads.pb.StartTransactionRequest,1)},proto.threads.pb.ReadTransactionRequest.prototype.setStarttransactionrequest=function(e){return googleProtobuf.Message.setOneofWrapperField(this,1,proto.threads.pb.ReadTransactionRequest.oneofGroups_[0],e)},proto.threads.pb.ReadTransactionRequest.prototype.clearStarttransactionrequest=function(){return this.setStarttransactionrequest(void 0)},proto.threads.pb.ReadTransactionRequest.prototype.hasStarttransactionrequest=function(){return null!=googleProtobuf.Message.getField(this,1)},proto.threads.pb.ReadTransactionRequest.prototype.getHasrequest=function(){return googleProtobuf.Message.getWrapperField(this,proto.threads.pb.HasRequest,2)},proto.threads.pb.ReadTransactionRequest.prototype.setHasrequest=function(e){return googleProtobuf.Message.setOneofWrapperField(this,2,proto.threads.pb.ReadTransactionRequest.oneofGroups_[0],e)},proto.threads.pb.ReadTransactionRequest.prototype.clearHasrequest=function(){return this.setHasrequest(void 0)},proto.threads.pb.ReadTransactionRequest.prototype.hasHasrequest=function(){return null!=googleProtobuf.Message.getField(this,2)},proto.threads.pb.ReadTransactionRequest.prototype.getFindrequest=function(){return googleProtobuf.Message.getWrapperField(this,proto.threads.pb.FindRequest,3)},proto.threads.pb.ReadTransactionRequest.prototype.setFindrequest=function(e){return googleProtobuf.Message.setOneofWrapperField(this,3,proto.threads.pb.ReadTransactionRequest.oneofGroups_[0],e)},proto.threads.pb.ReadTransactionRequest.prototype.clearFindrequest=function(){return this.setFindrequest(void 0)},proto.threads.pb.ReadTransactionRequest.prototype.hasFindrequest=function(){return null!=googleProtobuf.Message.getField(this,3)},proto.threads.pb.ReadTransactionRequest.prototype.getFindbyidrequest=function(){return googleProtobuf.Message.getWrapperField(this,proto.threads.pb.FindByIDRequest,4)},proto.threads.pb.ReadTransactionRequest.prototype.setFindbyidrequest=function(e){return googleProtobuf.Message.setOneofWrapperField(this,4,proto.threads.pb.ReadTransactionRequest.oneofGroups_[0],e)},proto.threads.pb.ReadTransactionRequest.prototype.clearFindbyidrequest=function(){return this.setFindbyidrequest(void 0)},proto.threads.pb.ReadTransactionRequest.prototype.hasFindbyidrequest=function(){return null!=googleProtobuf.Message.getField(this,4)},proto.threads.pb.ReadTransactionReply.oneofGroups_=[[1,2,3]],proto.threads.pb.ReadTransactionReply.OptionCase={OPTION_NOT_SET:0,HASREPLY:1,FINDREPLY:2,FINDBYIDREPLY:3},proto.threads.pb.ReadTransactionReply.prototype.getOptionCase=function(){return googleProtobuf.Message.computeOneofCase(this,proto.threads.pb.ReadTransactionReply.oneofGroups_[0])},googleProtobuf.Message.GENERATE_TO_OBJECT&&(proto.threads.pb.ReadTransactionReply.prototype.toObject=function(e){return proto.threads.pb.ReadTransactionReply.toObject(e,this)},proto.threads.pb.ReadTransactionReply.toObject=function(e,t){var r,o={hasreply:(r=t.getHasreply())&&proto.threads.pb.HasReply.toObject(e,r),findreply:(r=t.getFindreply())&&proto.threads.pb.FindReply.toObject(e,r),findbyidreply:(r=t.getFindbyidreply())&&proto.threads.pb.FindByIDReply.toObject(e,r)};return e&&(o.$jspbMessageInstance=t),o}),proto.threads.pb.ReadTransactionReply.deserializeBinary=function(e){var t=new googleProtobuf.BinaryReader(e),r=new proto.threads.pb.ReadTransactionReply;return proto.threads.pb.ReadTransactionReply.deserializeBinaryFromReader(r,t)},proto.threads.pb.ReadTransactionReply.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=new proto.threads.pb.HasReply;t.readMessage(r,proto.threads.pb.HasReply.deserializeBinaryFromReader),e.setHasreply(r);break;case 2:r=new proto.threads.pb.FindReply,t.readMessage(r,proto.threads.pb.FindReply.deserializeBinaryFromReader),e.setFindreply(r);break;case 3:r=new proto.threads.pb.FindByIDReply,t.readMessage(r,proto.threads.pb.FindByIDReply.deserializeBinaryFromReader),e.setFindbyidreply(r);break;default:t.skipField()}return e},proto.threads.pb.ReadTransactionReply.prototype.serializeBinary=function(){var e=new googleProtobuf.BinaryWriter;return proto.threads.pb.ReadTransactionReply.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.threads.pb.ReadTransactionReply.serializeBinaryToWriter=function(e,t){var r=void 0;null!=(r=e.getHasreply())&&t.writeMessage(1,r,proto.threads.pb.HasReply.serializeBinaryToWriter),null!=(r=e.getFindreply())&&t.writeMessage(2,r,proto.threads.pb.FindReply.serializeBinaryToWriter),null!=(r=e.getFindbyidreply())&&t.writeMessage(3,r,proto.threads.pb.FindByIDReply.serializeBinaryToWriter)},proto.threads.pb.ReadTransactionReply.prototype.getHasreply=function(){return googleProtobuf.Message.getWrapperField(this,proto.threads.pb.HasReply,1)},proto.threads.pb.ReadTransactionReply.prototype.setHasreply=function(e){return googleProtobuf.Message.setOneofWrapperField(this,1,proto.threads.pb.ReadTransactionReply.oneofGroups_[0],e)},proto.threads.pb.ReadTransactionReply.prototype.clearHasreply=function(){return this.setHasreply(void 0)},proto.threads.pb.ReadTransactionReply.prototype.hasHasreply=function(){return null!=googleProtobuf.Message.getField(this,1)},proto.threads.pb.ReadTransactionReply.prototype.getFindreply=function(){return googleProtobuf.Message.getWrapperField(this,proto.threads.pb.FindReply,2)},proto.threads.pb.ReadTransactionReply.prototype.setFindreply=function(e){return googleProtobuf.Message.setOneofWrapperField(this,2,proto.threads.pb.ReadTransactionReply.oneofGroups_[0],e)},proto.threads.pb.ReadTransactionReply.prototype.clearFindreply=function(){return this.setFindreply(void 0)},proto.threads.pb.ReadTransactionReply.prototype.hasFindreply=function(){return null!=googleProtobuf.Message.getField(this,2)},proto.threads.pb.ReadTransactionReply.prototype.getFindbyidreply=function(){return googleProtobuf.Message.getWrapperField(this,proto.threads.pb.FindByIDReply,3)},proto.threads.pb.ReadTransactionReply.prototype.setFindbyidreply=function(e){return googleProtobuf.Message.setOneofWrapperField(this,3,proto.threads.pb.ReadTransactionReply.oneofGroups_[0],e)},proto.threads.pb.ReadTransactionReply.prototype.clearFindbyidreply=function(){return this.setFindbyidreply(void 0)},proto.threads.pb.ReadTransactionReply.prototype.hasFindbyidreply=function(){return null!=googleProtobuf.Message.getField(this,3)},proto.threads.pb.WriteTransactionRequest.oneofGroups_=[[1,2,8,3,4,5,6,7,9]],proto.threads.pb.WriteTransactionRequest.OptionCase={OPTION_NOT_SET:0,STARTTRANSACTIONREQUEST:1,CREATEREQUEST:2,VERIFYREQUEST:8,SAVEREQUEST:3,DELETEREQUEST:4,HASREQUEST:5,FINDREQUEST:6,FINDBYIDREQUEST:7,DISCARDREQUEST:9},proto.threads.pb.WriteTransactionRequest.prototype.getOptionCase=function(){return googleProtobuf.Message.computeOneofCase(this,proto.threads.pb.WriteTransactionRequest.oneofGroups_[0])},googleProtobuf.Message.GENERATE_TO_OBJECT&&(proto.threads.pb.WriteTransactionRequest.prototype.toObject=function(e){return proto.threads.pb.WriteTransactionRequest.toObject(e,this)},proto.threads.pb.WriteTransactionRequest.toObject=function(e,t){var r,o={starttransactionrequest:(r=t.getStarttransactionrequest())&&proto.threads.pb.StartTransactionRequest.toObject(e,r),createrequest:(r=t.getCreaterequest())&&proto.threads.pb.CreateRequest.toObject(e,r),verifyrequest:(r=t.getVerifyrequest())&&proto.threads.pb.VerifyRequest.toObject(e,r),saverequest:(r=t.getSaverequest())&&proto.threads.pb.SaveRequest.toObject(e,r),deleterequest:(r=t.getDeleterequest())&&proto.threads.pb.DeleteRequest.toObject(e,r),hasrequest:(r=t.getHasrequest())&&proto.threads.pb.HasRequest.toObject(e,r),findrequest:(r=t.getFindrequest())&&proto.threads.pb.FindRequest.toObject(e,r),findbyidrequest:(r=t.getFindbyidrequest())&&proto.threads.pb.FindByIDRequest.toObject(e,r),discardrequest:(r=t.getDiscardrequest())&&proto.threads.pb.DiscardRequest.toObject(e,r)};return e&&(o.$jspbMessageInstance=t),o}),proto.threads.pb.WriteTransactionRequest.deserializeBinary=function(e){var t=new googleProtobuf.BinaryReader(e),r=new proto.threads.pb.WriteTransactionRequest;return proto.threads.pb.WriteTransactionRequest.deserializeBinaryFromReader(r,t)},proto.threads.pb.WriteTransactionRequest.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=new proto.threads.pb.StartTransactionRequest;t.readMessage(r,proto.threads.pb.StartTransactionRequest.deserializeBinaryFromReader),e.setStarttransactionrequest(r);break;case 2:r=new proto.threads.pb.CreateRequest,t.readMessage(r,proto.threads.pb.CreateRequest.deserializeBinaryFromReader),e.setCreaterequest(r);break;case 8:r=new proto.threads.pb.VerifyRequest,t.readMessage(r,proto.threads.pb.VerifyRequest.deserializeBinaryFromReader),e.setVerifyrequest(r);break;case 3:r=new proto.threads.pb.SaveRequest,t.readMessage(r,proto.threads.pb.SaveRequest.deserializeBinaryFromReader),e.setSaverequest(r);break;case 4:r=new proto.threads.pb.DeleteRequest,t.readMessage(r,proto.threads.pb.DeleteRequest.deserializeBinaryFromReader),e.setDeleterequest(r);break;case 5:r=new proto.threads.pb.HasRequest,t.readMessage(r,proto.threads.pb.HasRequest.deserializeBinaryFromReader),e.setHasrequest(r);break;case 6:r=new proto.threads.pb.FindRequest,t.readMessage(r,proto.threads.pb.FindRequest.deserializeBinaryFromReader),e.setFindrequest(r);break;case 7:r=new proto.threads.pb.FindByIDRequest,t.readMessage(r,proto.threads.pb.FindByIDRequest.deserializeBinaryFromReader),e.setFindbyidrequest(r);break;case 9:r=new proto.threads.pb.DiscardRequest,t.readMessage(r,proto.threads.pb.DiscardRequest.deserializeBinaryFromReader),e.setDiscardrequest(r);break;default:t.skipField()}return e},proto.threads.pb.WriteTransactionRequest.prototype.serializeBinary=function(){var e=new googleProtobuf.BinaryWriter;return proto.threads.pb.WriteTransactionRequest.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.threads.pb.WriteTransactionRequest.serializeBinaryToWriter=function(e,t){var r=void 0;null!=(r=e.getStarttransactionrequest())&&t.writeMessage(1,r,proto.threads.pb.StartTransactionRequest.serializeBinaryToWriter),null!=(r=e.getCreaterequest())&&t.writeMessage(2,r,proto.threads.pb.CreateRequest.serializeBinaryToWriter),null!=(r=e.getVerifyrequest())&&t.writeMessage(8,r,proto.threads.pb.VerifyRequest.serializeBinaryToWriter),null!=(r=e.getSaverequest())&&t.writeMessage(3,r,proto.threads.pb.SaveRequest.serializeBinaryToWriter),null!=(r=e.getDeleterequest())&&t.writeMessage(4,r,proto.threads.pb.DeleteRequest.serializeBinaryToWriter),null!=(r=e.getHasrequest())&&t.writeMessage(5,r,proto.threads.pb.HasRequest.serializeBinaryToWriter),null!=(r=e.getFindrequest())&&t.writeMessage(6,r,proto.threads.pb.FindRequest.serializeBinaryToWriter),null!=(r=e.getFindbyidrequest())&&t.writeMessage(7,r,proto.threads.pb.FindByIDRequest.serializeBinaryToWriter),null!=(r=e.getDiscardrequest())&&t.writeMessage(9,r,proto.threads.pb.DiscardRequest.serializeBinaryToWriter)},proto.threads.pb.WriteTransactionRequest.prototype.getStarttransactionrequest=function(){return googleProtobuf.Message.getWrapperField(this,proto.threads.pb.StartTransactionRequest,1)},proto.threads.pb.WriteTransactionRequest.prototype.setStarttransactionrequest=function(e){return googleProtobuf.Message.setOneofWrapperField(this,1,proto.threads.pb.WriteTransactionRequest.oneofGroups_[0],e)},proto.threads.pb.WriteTransactionRequest.prototype.clearStarttransactionrequest=function(){return this.setStarttransactionrequest(void 0)},proto.threads.pb.WriteTransactionRequest.prototype.hasStarttransactionrequest=function(){return null!=googleProtobuf.Message.getField(this,1)},proto.threads.pb.WriteTransactionRequest.prototype.getCreaterequest=function(){return googleProtobuf.Message.getWrapperField(this,proto.threads.pb.CreateRequest,2)},proto.threads.pb.WriteTransactionRequest.prototype.setCreaterequest=function(e){return googleProtobuf.Message.setOneofWrapperField(this,2,proto.threads.pb.WriteTransactionRequest.oneofGroups_[0],e)},proto.threads.pb.WriteTransactionRequest.prototype.clearCreaterequest=function(){return this.setCreaterequest(void 0)},proto.threads.pb.WriteTransactionRequest.prototype.hasCreaterequest=function(){return null!=googleProtobuf.Message.getField(this,2)},proto.threads.pb.WriteTransactionRequest.prototype.getVerifyrequest=function(){return googleProtobuf.Message.getWrapperField(this,proto.threads.pb.VerifyRequest,8)},proto.threads.pb.WriteTransactionRequest.prototype.setVerifyrequest=function(e){return googleProtobuf.Message.setOneofWrapperField(this,8,proto.threads.pb.WriteTransactionRequest.oneofGroups_[0],e)},proto.threads.pb.WriteTransactionRequest.prototype.clearVerifyrequest=function(){return this.setVerifyrequest(void 0)},proto.threads.pb.WriteTransactionRequest.prototype.hasVerifyrequest=function(){return null!=googleProtobuf.Message.getField(this,8)},proto.threads.pb.WriteTransactionRequest.prototype.getSaverequest=function(){return googleProtobuf.Message.getWrapperField(this,proto.threads.pb.SaveRequest,3)},proto.threads.pb.WriteTransactionRequest.prototype.setSaverequest=function(e){return googleProtobuf.Message.setOneofWrapperField(this,3,proto.threads.pb.WriteTransactionRequest.oneofGroups_[0],e)},proto.threads.pb.WriteTransactionRequest.prototype.clearSaverequest=function(){return this.setSaverequest(void 0)},proto.threads.pb.WriteTransactionRequest.prototype.hasSaverequest=function(){return null!=googleProtobuf.Message.getField(this,3)},proto.threads.pb.WriteTransactionRequest.prototype.getDeleterequest=function(){return googleProtobuf.Message.getWrapperField(this,proto.threads.pb.DeleteRequest,4)},proto.threads.pb.WriteTransactionRequest.prototype.setDeleterequest=function(e){return googleProtobuf.Message.setOneofWrapperField(this,4,proto.threads.pb.WriteTransactionRequest.oneofGroups_[0],e)},proto.threads.pb.WriteTransactionRequest.prototype.clearDeleterequest=function(){return this.setDeleterequest(void 0)},proto.threads.pb.WriteTransactionRequest.prototype.hasDeleterequest=function(){return null!=googleProtobuf.Message.getField(this,4)};proto.threads.pb.WriteTransactionRequest.prototype.getHasrequest=function(){return googleProtobuf.Message.getWrapperField(this,proto.threads.pb.HasRequest,5)},proto.threads.pb.WriteTransactionRequest.prototype.setHasrequest=function(e){return googleProtobuf.Message.setOneofWrapperField(this,5,proto.threads.pb.WriteTransactionRequest.oneofGroups_[0],e)},proto.threads.pb.WriteTransactionRequest.prototype.clearHasrequest=function(){return this.setHasrequest(void 0)},proto.threads.pb.WriteTransactionRequest.prototype.hasHasrequest=function(){return null!=googleProtobuf.Message.getField(this,5)},proto.threads.pb.WriteTransactionRequest.prototype.getFindrequest=function(){return googleProtobuf.Message.getWrapperField(this,proto.threads.pb.FindRequest,6)},proto.threads.pb.WriteTransactionRequest.prototype.setFindrequest=function(e){return googleProtobuf.Message.setOneofWrapperField(this,6,proto.threads.pb.WriteTransactionRequest.oneofGroups_[0],e)},proto.threads.pb.WriteTransactionRequest.prototype.clearFindrequest=function(){return this.setFindrequest(void 0)},proto.threads.pb.WriteTransactionRequest.prototype.hasFindrequest=function(){return null!=googleProtobuf.Message.getField(this,6)},proto.threads.pb.WriteTransactionRequest.prototype.getFindbyidrequest=function(){return googleProtobuf.Message.getWrapperField(this,proto.threads.pb.FindByIDRequest,7)},proto.threads.pb.WriteTransactionRequest.prototype.setFindbyidrequest=function(e){return googleProtobuf.Message.setOneofWrapperField(this,7,proto.threads.pb.WriteTransactionRequest.oneofGroups_[0],e)},proto.threads.pb.WriteTransactionRequest.prototype.clearFindbyidrequest=function(){return this.setFindbyidrequest(void 0)},proto.threads.pb.WriteTransactionRequest.prototype.hasFindbyidrequest=function(){return null!=googleProtobuf.Message.getField(this,7)},proto.threads.pb.WriteTransactionRequest.prototype.getDiscardrequest=function(){return googleProtobuf.Message.getWrapperField(this,proto.threads.pb.DiscardRequest,9)},proto.threads.pb.WriteTransactionRequest.prototype.setDiscardrequest=function(e){return googleProtobuf.Message.setOneofWrapperField(this,9,proto.threads.pb.WriteTransactionRequest.oneofGroups_[0],e)},proto.threads.pb.WriteTransactionRequest.prototype.clearDiscardrequest=function(){return this.setDiscardrequest(void 0)},proto.threads.pb.WriteTransactionRequest.prototype.hasDiscardrequest=function(){return null!=googleProtobuf.Message.getField(this,9)},proto.threads.pb.WriteTransactionReply.oneofGroups_=[[1,7,2,3,4,5,6,8]],proto.threads.pb.WriteTransactionReply.OptionCase={OPTION_NOT_SET:0,CREATEREPLY:1,VERIFYREPLY:7,SAVEREPLY:2,DELETEREPLY:3,HASREPLY:4,FINDREPLY:5,FINDBYIDREPLY:6,DISCARDREPLY:8},proto.threads.pb.WriteTransactionReply.prototype.getOptionCase=function(){return googleProtobuf.Message.computeOneofCase(this,proto.threads.pb.WriteTransactionReply.oneofGroups_[0])},googleProtobuf.Message.GENERATE_TO_OBJECT&&(proto.threads.pb.WriteTransactionReply.prototype.toObject=function(e){return proto.threads.pb.WriteTransactionReply.toObject(e,this)},proto.threads.pb.WriteTransactionReply.toObject=function(e,t){var r,o={createreply:(r=t.getCreatereply())&&proto.threads.pb.CreateReply.toObject(e,r),verifyreply:(r=t.getVerifyreply())&&proto.threads.pb.VerifyReply.toObject(e,r),savereply:(r=t.getSavereply())&&proto.threads.pb.SaveReply.toObject(e,r),deletereply:(r=t.getDeletereply())&&proto.threads.pb.DeleteReply.toObject(e,r),hasreply:(r=t.getHasreply())&&proto.threads.pb.HasReply.toObject(e,r),findreply:(r=t.getFindreply())&&proto.threads.pb.FindReply.toObject(e,r),findbyidreply:(r=t.getFindbyidreply())&&proto.threads.pb.FindByIDReply.toObject(e,r),discardreply:(r=t.getDiscardreply())&&proto.threads.pb.DiscardReply.toObject(e,r)};return e&&(o.$jspbMessageInstance=t),o}),proto.threads.pb.WriteTransactionReply.deserializeBinary=function(e){var t=new googleProtobuf.BinaryReader(e),r=new proto.threads.pb.WriteTransactionReply;return proto.threads.pb.WriteTransactionReply.deserializeBinaryFromReader(r,t)},proto.threads.pb.WriteTransactionReply.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=new proto.threads.pb.CreateReply;t.readMessage(r,proto.threads.pb.CreateReply.deserializeBinaryFromReader),e.setCreatereply(r);break;case 7:r=new proto.threads.pb.VerifyReply,t.readMessage(r,proto.threads.pb.VerifyReply.deserializeBinaryFromReader),e.setVerifyreply(r);break;case 2:r=new proto.threads.pb.SaveReply,t.readMessage(r,proto.threads.pb.SaveReply.deserializeBinaryFromReader),e.setSavereply(r);break;case 3:r=new proto.threads.pb.DeleteReply,t.readMessage(r,proto.threads.pb.DeleteReply.deserializeBinaryFromReader),e.setDeletereply(r);break;case 4:r=new proto.threads.pb.HasReply,t.readMessage(r,proto.threads.pb.HasReply.deserializeBinaryFromReader),e.setHasreply(r);break;case 5:r=new proto.threads.pb.FindReply,t.readMessage(r,proto.threads.pb.FindReply.deserializeBinaryFromReader),e.setFindreply(r);break;case 6:r=new proto.threads.pb.FindByIDReply,t.readMessage(r,proto.threads.pb.FindByIDReply.deserializeBinaryFromReader),e.setFindbyidreply(r);break;case 8:r=new proto.threads.pb.DiscardReply,t.readMessage(r,proto.threads.pb.DiscardReply.deserializeBinaryFromReader),e.setDiscardreply(r);break;default:t.skipField()}return e},proto.threads.pb.WriteTransactionReply.prototype.serializeBinary=function(){var e=new googleProtobuf.BinaryWriter;return proto.threads.pb.WriteTransactionReply.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.threads.pb.WriteTransactionReply.serializeBinaryToWriter=function(e,t){var r=void 0;null!=(r=e.getCreatereply())&&t.writeMessage(1,r,proto.threads.pb.CreateReply.serializeBinaryToWriter),null!=(r=e.getVerifyreply())&&t.writeMessage(7,r,proto.threads.pb.VerifyReply.serializeBinaryToWriter),null!=(r=e.getSavereply())&&t.writeMessage(2,r,proto.threads.pb.SaveReply.serializeBinaryToWriter),null!=(r=e.getDeletereply())&&t.writeMessage(3,r,proto.threads.pb.DeleteReply.serializeBinaryToWriter),null!=(r=e.getHasreply())&&t.writeMessage(4,r,proto.threads.pb.HasReply.serializeBinaryToWriter),null!=(r=e.getFindreply())&&t.writeMessage(5,r,proto.threads.pb.FindReply.serializeBinaryToWriter),null!=(r=e.getFindbyidreply())&&t.writeMessage(6,r,proto.threads.pb.FindByIDReply.serializeBinaryToWriter),null!=(r=e.getDiscardreply())&&t.writeMessage(8,r,proto.threads.pb.DiscardReply.serializeBinaryToWriter)},proto.threads.pb.WriteTransactionReply.prototype.getCreatereply=function(){return googleProtobuf.Message.getWrapperField(this,proto.threads.pb.CreateReply,1)},proto.threads.pb.WriteTransactionReply.prototype.setCreatereply=function(e){return googleProtobuf.Message.setOneofWrapperField(this,1,proto.threads.pb.WriteTransactionReply.oneofGroups_[0],e)},proto.threads.pb.WriteTransactionReply.prototype.clearCreatereply=function(){return this.setCreatereply(void 0)},proto.threads.pb.WriteTransactionReply.prototype.hasCreatereply=function(){return null!=googleProtobuf.Message.getField(this,1)},proto.threads.pb.WriteTransactionReply.prototype.getVerifyreply=function(){return googleProtobuf.Message.getWrapperField(this,proto.threads.pb.VerifyReply,7)},proto.threads.pb.WriteTransactionReply.prototype.setVerifyreply=function(e){return googleProtobuf.Message.setOneofWrapperField(this,7,proto.threads.pb.WriteTransactionReply.oneofGroups_[0],e)},proto.threads.pb.WriteTransactionReply.prototype.clearVerifyreply=function(){return this.setVerifyreply(void 0)},proto.threads.pb.WriteTransactionReply.prototype.hasVerifyreply=function(){return null!=googleProtobuf.Message.getField(this,7)},proto.threads.pb.WriteTransactionReply.prototype.getSavereply=function(){return googleProtobuf.Message.getWrapperField(this,proto.threads.pb.SaveReply,2)},proto.threads.pb.WriteTransactionReply.prototype.setSavereply=function(e){return googleProtobuf.Message.setOneofWrapperField(this,2,proto.threads.pb.WriteTransactionReply.oneofGroups_[0],e)},proto.threads.pb.WriteTransactionReply.prototype.clearSavereply=function(){return this.setSavereply(void 0)},proto.threads.pb.WriteTransactionReply.prototype.hasSavereply=function(){return null!=googleProtobuf.Message.getField(this,2)},proto.threads.pb.WriteTransactionReply.prototype.getDeletereply=function(){return googleProtobuf.Message.getWrapperField(this,proto.threads.pb.DeleteReply,3)},proto.threads.pb.WriteTransactionReply.prototype.setDeletereply=function(e){return googleProtobuf.Message.setOneofWrapperField(this,3,proto.threads.pb.WriteTransactionReply.oneofGroups_[0],e)},proto.threads.pb.WriteTransactionReply.prototype.clearDeletereply=function(){return this.setDeletereply(void 0)},proto.threads.pb.WriteTransactionReply.prototype.hasDeletereply=function(){return null!=googleProtobuf.Message.getField(this,3)},proto.threads.pb.WriteTransactionReply.prototype.getHasreply=function(){return googleProtobuf.Message.getWrapperField(this,proto.threads.pb.HasReply,4)},proto.threads.pb.WriteTransactionReply.prototype.setHasreply=function(e){return googleProtobuf.Message.setOneofWrapperField(this,4,proto.threads.pb.WriteTransactionReply.oneofGroups_[0],e)},proto.threads.pb.WriteTransactionReply.prototype.clearHasreply=function(){return this.setHasreply(void 0)},proto.threads.pb.WriteTransactionReply.prototype.hasHasreply=function(){return null!=googleProtobuf.Message.getField(this,4)},proto.threads.pb.WriteTransactionReply.prototype.getFindreply=function(){return googleProtobuf.Message.getWrapperField(this,proto.threads.pb.FindReply,5)},proto.threads.pb.WriteTransactionReply.prototype.setFindreply=function(e){return googleProtobuf.Message.setOneofWrapperField(this,5,proto.threads.pb.WriteTransactionReply.oneofGroups_[0],e)},proto.threads.pb.WriteTransactionReply.prototype.clearFindreply=function(){return this.setFindreply(void 0)},proto.threads.pb.WriteTransactionReply.prototype.hasFindreply=function(){return null!=googleProtobuf.Message.getField(this,5)},proto.threads.pb.WriteTransactionReply.prototype.getFindbyidreply=function(){return googleProtobuf.Message.getWrapperField(this,proto.threads.pb.FindByIDReply,6)},proto.threads.pb.WriteTransactionReply.prototype.setFindbyidreply=function(e){return googleProtobuf.Message.setOneofWrapperField(this,6,proto.threads.pb.WriteTransactionReply.oneofGroups_[0],e)},proto.threads.pb.WriteTransactionReply.prototype.clearFindbyidreply=function(){return this.setFindbyidreply(void 0)},proto.threads.pb.WriteTransactionReply.prototype.hasFindbyidreply=function(){return null!=googleProtobuf.Message.getField(this,6)},proto.threads.pb.WriteTransactionReply.prototype.getDiscardreply=function(){return googleProtobuf.Message.getWrapperField(this,proto.threads.pb.DiscardReply,8)},proto.threads.pb.WriteTransactionReply.prototype.setDiscardreply=function(e){return googleProtobuf.Message.setOneofWrapperField(this,8,proto.threads.pb.WriteTransactionReply.oneofGroups_[0],e)},proto.threads.pb.WriteTransactionReply.prototype.clearDiscardreply=function(){return this.setDiscardreply(void 0)},proto.threads.pb.WriteTransactionReply.prototype.hasDiscardreply=function(){return null!=googleProtobuf.Message.getField(this,8)},proto.threads.pb.ListenRequest.repeatedFields_=[2],googleProtobuf.Message.GENERATE_TO_OBJECT&&(proto.threads.pb.ListenRequest.prototype.toObject=function(e){return proto.threads.pb.ListenRequest.toObject(e,this)},proto.threads.pb.ListenRequest.toObject=function(e,t){var r={dbid:t.getDbid_asB64(),filtersList:googleProtobuf.Message.toObjectList(t.getFiltersList(),proto.threads.pb.ListenRequest.Filter.toObject,e)};return e&&(r.$jspbMessageInstance=t),r}),proto.threads.pb.ListenRequest.deserializeBinary=function(e){var t=new googleProtobuf.BinaryReader(e),r=new proto.threads.pb.ListenRequest;return proto.threads.pb.ListenRequest.deserializeBinaryFromReader(r,t)},proto.threads.pb.ListenRequest.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readBytes();e.setDbid(r);break;case 2:r=new proto.threads.pb.ListenRequest.Filter,t.readMessage(r,proto.threads.pb.ListenRequest.Filter.deserializeBinaryFromReader),e.addFilters(r);break;default:t.skipField()}return e},proto.threads.pb.ListenRequest.prototype.serializeBinary=function(){var e=new googleProtobuf.BinaryWriter;return proto.threads.pb.ListenRequest.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.threads.pb.ListenRequest.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getDbid_asU8()).length>0&&t.writeBytes(1,r),(r=e.getFiltersList()).length>0&&t.writeRepeatedMessage(2,r,proto.threads.pb.ListenRequest.Filter.serializeBinaryToWriter)},googleProtobuf.Message.GENERATE_TO_OBJECT&&(proto.threads.pb.ListenRequest.Filter.prototype.toObject=function(e){return proto.threads.pb.ListenRequest.Filter.toObject(e,this)},proto.threads.pb.ListenRequest.Filter.toObject=function(e,t){var r={collectionname:googleProtobuf.Message.getFieldWithDefault(t,1,""),instanceid:googleProtobuf.Message.getFieldWithDefault(t,2,""),action:googleProtobuf.Message.getFieldWithDefault(t,3,0)};return e&&(r.$jspbMessageInstance=t),r}),proto.threads.pb.ListenRequest.Filter.deserializeBinary=function(e){var t=new googleProtobuf.BinaryReader(e),r=new proto.threads.pb.ListenRequest.Filter;return proto.threads.pb.ListenRequest.Filter.deserializeBinaryFromReader(r,t)},proto.threads.pb.ListenRequest.Filter.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readString();e.setCollectionname(r);break;case 2:r=t.readString(),e.setInstanceid(r);break;case 3:r=t.readEnum(),e.setAction(r);break;default:t.skipField()}return e},proto.threads.pb.ListenRequest.Filter.prototype.serializeBinary=function(){var e=new googleProtobuf.BinaryWriter;return proto.threads.pb.ListenRequest.Filter.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.threads.pb.ListenRequest.Filter.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getCollectionname()).length>0&&t.writeString(1,r),(r=e.getInstanceid()).length>0&&t.writeString(2,r),0!==(r=e.getAction())&&t.writeEnum(3,r)},proto.threads.pb.ListenRequest.Filter.Action={ALL:0,CREATE:1,SAVE:2,DELETE:3},proto.threads.pb.ListenRequest.Filter.prototype.getCollectionname=function(){return googleProtobuf.Message.getFieldWithDefault(this,1,"")},proto.threads.pb.ListenRequest.Filter.prototype.setCollectionname=function(e){return googleProtobuf.Message.setProto3StringField(this,1,e)},proto.threads.pb.ListenRequest.Filter.prototype.getInstanceid=function(){return googleProtobuf.Message.getFieldWithDefault(this,2,"")},proto.threads.pb.ListenRequest.Filter.prototype.setInstanceid=function(e){return googleProtobuf.Message.setProto3StringField(this,2,e)},proto.threads.pb.ListenRequest.Filter.prototype.getAction=function(){return googleProtobuf.Message.getFieldWithDefault(this,3,0)},proto.threads.pb.ListenRequest.Filter.prototype.setAction=function(e){return googleProtobuf.Message.setProto3EnumField(this,3,e)},proto.threads.pb.ListenRequest.prototype.getDbid=function(){return googleProtobuf.Message.getFieldWithDefault(this,1,"")},proto.threads.pb.ListenRequest.prototype.getDbid_asB64=function(){return googleProtobuf.Message.bytesAsB64(this.getDbid())},proto.threads.pb.ListenRequest.prototype.getDbid_asU8=function(){return googleProtobuf.Message.bytesAsU8(this.getDbid())},proto.threads.pb.ListenRequest.prototype.setDbid=function(e){return googleProtobuf.Message.setProto3BytesField(this,1,e)},proto.threads.pb.ListenRequest.prototype.getFiltersList=function(){return googleProtobuf.Message.getRepeatedWrapperField(this,proto.threads.pb.ListenRequest.Filter,2)},proto.threads.pb.ListenRequest.prototype.setFiltersList=function(e){return googleProtobuf.Message.setRepeatedWrapperField(this,2,e)},proto.threads.pb.ListenRequest.prototype.addFilters=function(e,t){return googleProtobuf.Message.addToRepeatedWrapperField(this,2,e,proto.threads.pb.ListenRequest.Filter,t)},proto.threads.pb.ListenRequest.prototype.clearFiltersList=function(){return this.setFiltersList([])},googleProtobuf.Message.GENERATE_TO_OBJECT&&(proto.threads.pb.ListenReply.prototype.toObject=function(e){return proto.threads.pb.ListenReply.toObject(e,this)},proto.threads.pb.ListenReply.toObject=function(e,t){var r={collectionname:googleProtobuf.Message.getFieldWithDefault(t,1,""),instanceid:googleProtobuf.Message.getFieldWithDefault(t,2,""),action:googleProtobuf.Message.getFieldWithDefault(t,3,0),instance:t.getInstance_asB64()};return e&&(r.$jspbMessageInstance=t),r}),proto.threads.pb.ListenReply.deserializeBinary=function(e){var t=new googleProtobuf.BinaryReader(e),r=new proto.threads.pb.ListenReply;return proto.threads.pb.ListenReply.deserializeBinaryFromReader(r,t)},proto.threads.pb.ListenReply.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readString();e.setCollectionname(r);break;case 2:r=t.readString(),e.setInstanceid(r);break;case 3:r=t.readEnum(),e.setAction(r);break;case 4:r=t.readBytes(),e.setInstance(r);break;default:t.skipField()}return e},proto.threads.pb.ListenReply.prototype.serializeBinary=function(){var e=new googleProtobuf.BinaryWriter;return proto.threads.pb.ListenReply.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.threads.pb.ListenReply.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getCollectionname()).length>0&&t.writeString(1,r),(r=e.getInstanceid()).length>0&&t.writeString(2,r),0!==(r=e.getAction())&&t.writeEnum(3,r),(r=e.getInstance_asU8()).length>0&&t.writeBytes(4,r)},proto.threads.pb.ListenReply.Action={CREATE:0,SAVE:1,DELETE:2},proto.threads.pb.ListenReply.prototype.getCollectionname=function(){return googleProtobuf.Message.getFieldWithDefault(this,1,"")},proto.threads.pb.ListenReply.prototype.setCollectionname=function(e){return googleProtobuf.Message.setProto3StringField(this,1,e)},proto.threads.pb.ListenReply.prototype.getInstanceid=function(){return googleProtobuf.Message.getFieldWithDefault(this,2,"")},proto.threads.pb.ListenReply.prototype.setInstanceid=function(e){return googleProtobuf.Message.setProto3StringField(this,2,e)},proto.threads.pb.ListenReply.prototype.getAction=function(){return googleProtobuf.Message.getFieldWithDefault(this,3,0)},proto.threads.pb.ListenReply.prototype.setAction=function(e){return googleProtobuf.Message.setProto3EnumField(this,3,e)},proto.threads.pb.ListenReply.prototype.getInstance=function(){return googleProtobuf.Message.getFieldWithDefault(this,4,"")},proto.threads.pb.ListenReply.prototype.getInstance_asB64=function(){return googleProtobuf.Message.bytesAsB64(this.getInstance())},proto.threads.pb.ListenReply.prototype.getInstance_asU8=function(){return googleProtobuf.Message.bytesAsU8(this.getInstance())},proto.threads.pb.ListenReply.prototype.setInstance=function(e){return googleProtobuf.Message.setProto3BytesField(this,4,e)},r.object.extend(t,proto.threads.pb)})),grpc=grpcWebClient_umd.grpc,API=function(){function e(){}return e.serviceName="threads.pb.API",e}();function APIClient(e,t){this.serviceHost=e,this.options=t||{}}API.GetToken={methodName:"GetToken",service:API,requestStream:!0,responseStream:!0,requestType:threads_pb.GetTokenRequest,responseType:threads_pb.GetTokenReply},API.NewDB={methodName:"NewDB",service:API,requestStream:!1,responseStream:!1,requestType:threads_pb.NewDBRequest,responseType:threads_pb.NewDBReply},API.NewDBFromAddr={methodName:"NewDBFromAddr",service:API,requestStream:!1,responseStream:!1,requestType:threads_pb.NewDBFromAddrRequest,responseType:threads_pb.NewDBReply},API.ListDBs={methodName:"ListDBs",service:API,requestStream:!1,responseStream:!1,requestType:threads_pb.ListDBsRequest,responseType:threads_pb.ListDBsReply},API.GetDBInfo={methodName:"GetDBInfo",service:API,requestStream:!1,responseStream:!1,requestType:threads_pb.GetDBInfoRequest,responseType:threads_pb.GetDBInfoReply},API.DeleteDB={methodName:"DeleteDB",service:API,requestStream:!1,responseStream:!1,requestType:threads_pb.DeleteDBRequest,responseType:threads_pb.DeleteDBReply},API.NewCollection={methodName:"NewCollection",service:API,requestStream:!1,responseStream:!1,requestType:threads_pb.NewCollectionRequest,responseType:threads_pb.NewCollectionReply},API.UpdateCollection={methodName:"UpdateCollection",service:API,requestStream:!1,responseStream:!1,requestType:threads_pb.UpdateCollectionRequest,responseType:threads_pb.UpdateCollectionReply},API.DeleteCollection={methodName:"DeleteCollection",service:API,requestStream:!1,responseStream:!1,requestType:threads_pb.DeleteCollectionRequest,responseType:threads_pb.DeleteCollectionReply},API.GetCollectionInfo={methodName:"GetCollectionInfo",service:API,requestStream:!1,responseStream:!1,requestType:threads_pb.GetCollectionInfoRequest,responseType:threads_pb.GetCollectionInfoReply},API.GetCollectionIndexes={methodName:"GetCollectionIndexes",service:API,requestStream:!1,responseStream:!1,requestType:threads_pb.GetCollectionIndexesRequest,responseType:threads_pb.GetCollectionIndexesReply},API.ListCollections={methodName:"ListCollections",service:API,requestStream:!1,responseStream:!1,requestType:threads_pb.ListCollectionsRequest,responseType:threads_pb.ListCollectionsReply},API.Create={methodName:"Create",service:API,requestStream:!1,responseStream:!1,requestType:threads_pb.CreateRequest,responseType:threads_pb.CreateReply},API.Verify={methodName:"Verify",service:API,requestStream:!1,responseStream:!1,requestType:threads_pb.VerifyRequest,responseType:threads_pb.VerifyReply},API.Save={methodName:"Save",service:API,requestStream:!1,responseStream:!1,requestType:threads_pb.SaveRequest,responseType:threads_pb.SaveReply},API.Delete={methodName:"Delete",service:API,requestStream:!1,responseStream:!1,requestType:threads_pb.DeleteRequest,responseType:threads_pb.DeleteReply},API.Has={methodName:"Has",service:API,requestStream:!1,responseStream:!1,requestType:threads_pb.HasRequest,responseType:threads_pb.HasReply},API.Find={methodName:"Find",service:API,requestStream:!1,responseStream:!1,requestType:threads_pb.FindRequest,responseType:threads_pb.FindReply},API.FindByID={methodName:"FindByID",service:API,requestStream:!1,responseStream:!1,requestType:threads_pb.FindByIDRequest,responseType:threads_pb.FindByIDReply},API.ReadTransaction={methodName:"ReadTransaction",service:API,requestStream:!0,responseStream:!0,requestType:threads_pb.ReadTransactionRequest,responseType:threads_pb.ReadTransactionReply},API.WriteTransaction={methodName:"WriteTransaction",service:API,requestStream:!0,responseStream:!0,requestType:threads_pb.WriteTransactionRequest,responseType:threads_pb.WriteTransactionReply},API.Listen={methodName:"Listen",service:API,requestStream:!1,responseStream:!0,requestType:threads_pb.ListenRequest,responseType:threads_pb.ListenReply},APIClient.prototype.getToken=function(e){var t={data:[],end:[],status:[]},r=grpc.client(API.GetToken,{host:this.serviceHost,metadata:e,transport:this.options.transport});return r.onEnd((function(e,r,o){t.status.forEach((function(t){t({code:e,details:r,metadata:o})})),t.end.forEach((function(t){t({code:e,details:r,metadata:o})})),t=null})),r.onMessage((function(e){t.data.forEach((function(t){t(e)}))})),r.start(e),{on:function(e,r){return t[e].push(r),this},write:function(e){return r.send(e),this},end:function(){r.finishSend()},cancel:function(){t=null,r.close()}}},APIClient.prototype.newDB=function(e,t,r){2===arguments.length&&(r=arguments[1]);var o=grpc.unary(API.NewDB,{request:e,host:this.serviceHost,metadata:t,transport:this.options.transport,debug:this.options.debug,onEnd:function(e){if(r)if(e.status!==grpc.Code.OK){var t=new Error(e.statusMessage);t.code=e.status,t.metadata=e.trailers,r(t,null)}else r(null,e.message)}});return{cancel:function(){r=null,o.close()}}},APIClient.prototype.newDBFromAddr=function(e,t,r){2===arguments.length&&(r=arguments[1]);var o=grpc.unary(API.NewDBFromAddr,{request:e,host:this.serviceHost,metadata:t,transport:this.options.transport,debug:this.options.debug,onEnd:function(e){if(r)if(e.status!==grpc.Code.OK){var t=new Error(e.statusMessage);t.code=e.status,t.metadata=e.trailers,r(t,null)}else r(null,e.message)}});return{cancel:function(){r=null,o.close()}}},APIClient.prototype.listDBs=function(e,t,r){2===arguments.length&&(r=arguments[1]);var o=grpc.unary(API.ListDBs,{request:e,host:this.serviceHost,metadata:t,transport:this.options.transport,debug:this.options.debug,onEnd:function(e){if(r)if(e.status!==grpc.Code.OK){var t=new Error(e.statusMessage);t.code=e.status,t.metadata=e.trailers,r(t,null)}else r(null,e.message)}});return{cancel:function(){r=null,o.close()}}},APIClient.prototype.getDBInfo=function(e,t,r){2===arguments.length&&(r=arguments[1]);var o=grpc.unary(API.GetDBInfo,{request:e,host:this.serviceHost,metadata:t,transport:this.options.transport,debug:this.options.debug,onEnd:function(e){if(r)if(e.status!==grpc.Code.OK){var t=new Error(e.statusMessage);t.code=e.status,t.metadata=e.trailers,r(t,null)}else r(null,e.message)}});return{cancel:function(){r=null,o.close()}}},APIClient.prototype.deleteDB=function(e,t,r){2===arguments.length&&(r=arguments[1]);var o=grpc.unary(API.DeleteDB,{request:e,host:this.serviceHost,metadata:t,transport:this.options.transport,debug:this.options.debug,onEnd:function(e){if(r)if(e.status!==grpc.Code.OK){var t=new Error(e.statusMessage);t.code=e.status,t.metadata=e.trailers,r(t,null)}else r(null,e.message)}});return{cancel:function(){r=null,o.close()}}},APIClient.prototype.newCollection=function(e,t,r){2===arguments.length&&(r=arguments[1]);var o=grpc.unary(API.NewCollection,{request:e,host:this.serviceHost,metadata:t,transport:this.options.transport,debug:this.options.debug,onEnd:function(e){if(r)if(e.status!==grpc.Code.OK){var t=new Error(e.statusMessage);t.code=e.status,t.metadata=e.trailers,r(t,null)}else r(null,e.message)}});return{cancel:function(){r=null,o.close()}}},APIClient.prototype.updateCollection=function(e,t,r){2===arguments.length&&(r=arguments[1]);var o=grpc.unary(API.UpdateCollection,{request:e,host:this.serviceHost,metadata:t,transport:this.options.transport,debug:this.options.debug,onEnd:function(e){if(r)if(e.status!==grpc.Code.OK){var t=new Error(e.statusMessage);t.code=e.status,t.metadata=e.trailers,r(t,null)}else r(null,e.message)}});return{cancel:function(){r=null,o.close()}}},APIClient.prototype.deleteCollection=function(e,t,r){2===arguments.length&&(r=arguments[1]);var o=grpc.unary(API.DeleteCollection,{request:e,host:this.serviceHost,metadata:t,transport:this.options.transport,debug:this.options.debug,onEnd:function(e){if(r)if(e.status!==grpc.Code.OK){var t=new Error(e.statusMessage);t.code=e.status,t.metadata=e.trailers,r(t,null)}else r(null,e.message)}});return{cancel:function(){r=null,o.close()}}},APIClient.prototype.getCollectionInfo=function(e,t,r){2===arguments.length&&(r=arguments[1]);var o=grpc.unary(API.GetCollectionInfo,{request:e,host:this.serviceHost,metadata:t,transport:this.options.transport,debug:this.options.debug,onEnd:function(e){if(r)if(e.status!==grpc.Code.OK){var t=new Error(e.statusMessage);t.code=e.status,t.metadata=e.trailers,r(t,null)}else r(null,e.message)}});return{cancel:function(){r=null,o.close()}}},APIClient.prototype.getCollectionIndexes=function(e,t,r){2===arguments.length&&(r=arguments[1]);var o=grpc.unary(API.GetCollectionIndexes,{request:e,host:this.serviceHost,metadata:t,transport:this.options.transport,debug:this.options.debug,onEnd:function(e){if(r)if(e.status!==grpc.Code.OK){var t=new Error(e.statusMessage);t.code=e.status,t.metadata=e.trailers,r(t,null)}else r(null,e.message)}});return{cancel:function(){r=null,o.close()}}},APIClient.prototype.listCollections=function(e,t,r){2===arguments.length&&(r=arguments[1]);var o=grpc.unary(API.ListCollections,{request:e,host:this.serviceHost,metadata:t,transport:this.options.transport,debug:this.options.debug,onEnd:function(e){if(r)if(e.status!==grpc.Code.OK){var t=new Error(e.statusMessage);t.code=e.status,t.metadata=e.trailers,r(t,null)}else r(null,e.message)}});return{cancel:function(){r=null,o.close()}}},APIClient.prototype.create=function(e,t,r){2===arguments.length&&(r=arguments[1]);var o=grpc.unary(API.Create,{request:e,host:this.serviceHost,metadata:t,transport:this.options.transport,debug:this.options.debug,onEnd:function(e){if(r)if(e.status!==grpc.Code.OK){var t=new Error(e.statusMessage);t.code=e.status,t.metadata=e.trailers,r(t,null)}else r(null,e.message)}});return{cancel:function(){r=null,o.close()}}},APIClient.prototype.verify=function(e,t,r){2===arguments.length&&(r=arguments[1]);var o=grpc.unary(API.Verify,{request:e,host:this.serviceHost,metadata:t,transport:this.options.transport,debug:this.options.debug,onEnd:function(e){if(r)if(e.status!==grpc.Code.OK){var t=new Error(e.statusMessage);t.code=e.status,t.metadata=e.trailers,r(t,null)}else r(null,e.message)}});return{cancel:function(){r=null,o.close()}}},APIClient.prototype.save=function(e,t,r){2===arguments.length&&(r=arguments[1]);var o=grpc.unary(API.Save,{request:e,host:this.serviceHost,metadata:t,transport:this.options.transport,debug:this.options.debug,onEnd:function(e){if(r)if(e.status!==grpc.Code.OK){var t=new Error(e.statusMessage);t.code=e.status,t.metadata=e.trailers,r(t,null)}else r(null,e.message)}});return{cancel:function(){r=null,o.close()}}},APIClient.prototype.delete=function(e,t,r){2===arguments.length&&(r=arguments[1]);var o=grpc.unary(API.Delete,{request:e,host:this.serviceHost,metadata:t,transport:this.options.transport,debug:this.options.debug,onEnd:function(e){if(r)if(e.status!==grpc.Code.OK){var t=new Error(e.statusMessage);t.code=e.status,t.metadata=e.trailers,r(t,null)}else r(null,e.message)}});return{cancel:function(){r=null,o.close()}}},APIClient.prototype.has=function(e,t,r){2===arguments.length&&(r=arguments[1]);var o=grpc.unary(API.Has,{request:e,host:this.serviceHost,metadata:t,transport:this.options.transport,debug:this.options.debug,onEnd:function(e){if(r)if(e.status!==grpc.Code.OK){var t=new Error(e.statusMessage);t.code=e.status,t.metadata=e.trailers,r(t,null)}else r(null,e.message)}});return{cancel:function(){r=null,o.close()}}},APIClient.prototype.find=function(e,t,r){2===arguments.length&&(r=arguments[1]);var o=grpc.unary(API.Find,{request:e,host:this.serviceHost,metadata:t,transport:this.options.transport,debug:this.options.debug,onEnd:function(e){if(r)if(e.status!==grpc.Code.OK){var t=new Error(e.statusMessage);t.code=e.status,t.metadata=e.trailers,r(t,null)}else r(null,e.message)}});return{cancel:function(){r=null,o.close()}}},APIClient.prototype.findByID=function(e,t,r){2===arguments.length&&(r=arguments[1]);var o=grpc.unary(API.FindByID,{request:e,host:this.serviceHost,metadata:t,transport:this.options.transport,debug:this.options.debug,onEnd:function(e){if(r)if(e.status!==grpc.Code.OK){var t=new Error(e.statusMessage);t.code=e.status,t.metadata=e.trailers,r(t,null)}else r(null,e.message)}});return{cancel:function(){r=null,o.close()}}},APIClient.prototype.readTransaction=function(e){var t={data:[],end:[],status:[]},r=grpc.client(API.ReadTransaction,{host:this.serviceHost,metadata:e,transport:this.options.transport});return r.onEnd((function(e,r,o){t.status.forEach((function(t){t({code:e,details:r,metadata:o})})),t.end.forEach((function(t){t({code:e,details:r,metadata:o})})),t=null})),r.onMessage((function(e){t.data.forEach((function(t){t(e)}))})),r.start(e),{on:function(e,r){return t[e].push(r),this},write:function(e){return r.send(e),this},end:function(){r.finishSend()},cancel:function(){t=null,r.close()}}},APIClient.prototype.writeTransaction=function(e){var t={data:[],end:[],status:[]},r=grpc.client(API.WriteTransaction,{host:this.serviceHost,metadata:e,transport:this.options.transport});return r.onEnd((function(e,r,o){t.status.forEach((function(t){t({code:e,details:r,metadata:o})})),t.end.forEach((function(t){t({code:e,details:r,metadata:o})})),t=null})),r.onMessage((function(e){t.data.forEach((function(t){t(e)}))})),r.start(e),{on:function(e,r){return t[e].push(r),this},write:function(e){return r.send(e),this},end:function(){r.finishSend()},cancel:function(){t=null,r.close()}}},APIClient.prototype.listen=function(e,t){var r={data:[],end:[],status:[]},o=grpc.invoke(API.Listen,{request:e,host:this.serviceHost,metadata:t,transport:this.options.transport,debug:this.options.debug,onMessage:function(e){r.data.forEach((function(t){t(e)}))},onEnd:function(e,t,o){r.status.forEach((function(r){r({code:e,details:t,metadata:o})})),r.end.forEach((function(r){r({code:e,details:t,metadata:o})})),r=null}});return{on:function(e,t){return r[e].push(t),this},cancel:function(){r=null,o.close()}}};var APIClient_1=APIClient;const defaults={serviceHost:_textile_context__WEBPACK_IMPORTED_MODULE_3__.$8,transport:a(),debug:!1,metadata:new grpcWebClient_umd.grpc.Metadata};function createClient(e={}){const t=Object.assign(Object.assign({},defaults),e);return new APIClient_1(t.serviceHost,{transport:t.transport,debug:t.debug})}function createDbClient(e={}){var t;const r={};null===(t=e.metadata)||void 0===t||t.forEach(((e,t)=>r[e]=t));const o=Object.keys(r).length>0?_textile_context__WEBPACK_IMPORTED_MODULE_3__._y.fromJSON(r,e.serviceHost):new _textile_context__WEBPACK_IMPORTED_MODULE_3__._y(e.serviceHost);return new _textile_threads_client__WEBPACK_IMPORTED_MODULE_1__.KU(o)}function getToken(e,t){return __awaiter(this,void 0,void 0,(function*(){const r=Object.assign(Object.assign({},defaults),t);return getTokenChallenge(e.public.toString(),(t=>__awaiter(this,void 0,void 0,(function*(){return e.sign(t)}))),r)}))}function getTokenChallenge(e,t,r){return __awaiter(this,void 0,void 0,(function*(){const o=Object.assign(Object.assign({},defaults),r),n=createClient(o).getToken(o.metadata);return new Promise(((r,o)=>{let i="";n.on("data",(e=>__awaiter(this,void 0,void 0,(function*(){if(e.hasChallenge()){const r=e.getChallenge_asU8(),o=yield t(r),i=new threads_pb.GetTokenRequest;i.setSignature(o),n.write(i)}else e.hasToken()&&(i=e.getToken(),n.end())})))),n.on("end",(e=>{(null==e?void 0:e.code)===grpcWebClient_umd.grpc.Code.OK?r(i):o(new Error(null==e?void 0:e.details))}));const s=new threads_pb.GetTokenRequest;s.setKey(e),n.write(s)}))}))}function newDB(e,t,r,o){var n;return __awaiter(this,void 0,void 0,(function*(){const i=Object.assign(Object.assign({},defaults),o),s=createClient(i),a=new threads_pb.NewDBRequest;a.setDbid(t.toBytes()),a.setName(e);const u=[];for(const e of r){const t=new threads_pb.CollectionConfig;t.setName(e.name),t.setSchema(e.schema);const r=[];for(const t of null!==(n=e.indexes)&&void 0!==n?n:[]){const e=new threads_pb.Index;e.setPath(t.path),e.setUnique(t.unique),r.push(e)}t.setIndexesList(r),u.push(t)}return a.setCollectionsList(u),new Promise(((e,r)=>{var o;s.newDB(a,null!==(o=i.metadata)&&void 0!==o?o:new grpcWebClient_umd.grpc.Metadata,((o,n)=>{o&&r(new Error(o.message));const i=Boolean(null==n?void 0:n.toObject()),s=t.toString();i?e(s):r(new Error(`Unable to create thread with id = ${s}`))}))}))}))}const Errors={ThreadIDError:new Error("Missing/invalid thread id"),MissingDbError:new Error("Missing remote db/thread"),NoRemoteError:new Error("No remote service host specified"),RemoteError:new Error("Remote operation failed"),ChangeError:new Error("Unable to process db change(s)"),LocalChangesError:new Error("Unpushed local changes"),ThreadExists:new Error("Remote db/thread already exists")},ThreadIDName="thread-id",encoder=new TextEncoder,decoder=new TextDecoder;class Remote{constructor(e,t=defaults){var r;this.storage=e;const{id:o,token:n}=t,i=__rest(t,["id","token"]);this.config=Object.assign({metadata:new grpcWebClient_umd.grpc.Metadata},i),n&&(null===(r=this.config.metadata)||void 0===r||r.set("authorization",`bearer ${n}`)),this.id=o}setUserAuth(e){var t;return __awaiter(this,void 0,void 0,(function*(){const r="object"==typeof e?_textile_context__WEBPACK_IMPORTED_MODULE_3__._y.fromUserAuth(e,this.config.serviceHost):_textile_context__WEBPACK_IMPORTED_MODULE_3__._y.fromUserAuthCallback(e,this.config.serviceHost),o={};null===(t=this.config.metadata)||void 0===t||t.forEach(((e,t)=>o[e]=t));const n=yield _textile_context__WEBPACK_IMPORTED_MODULE_3__._y.fromJSON(Object.assign(Object.assign({},o),r.toJSON())).toMetadata();return this.config.metadata=n,this}))}setKeyInfo(e){var t;return __awaiter(this,void 0,void 0,(function*(){const r=yield new _textile_context__WEBPACK_IMPORTED_MODULE_3__._y(this.config.serviceHost).withKeyInfo(e),o={};null===(t=this.config.metadata)||void 0===t||t.forEach(((e,t)=>o[e]=t));const n=yield _textile_context__WEBPACK_IMPORTED_MODULE_3__._y.fromJSON(Object.assign(Object.assign({},o),r.toJSON())).toMetadata();return this.config.metadata=n,this}))}set(e){const{id:t}=e,r=__rest(e,["id"]);return this.config=Object.assign(Object.assign({},this.config),r),this.id=null!=t?t:this.id,this}get(){const{id:e,config:t}=this;return Object.assign({id:e},t)}info(){return __awaiter(this,void 0,void 0,(function*(){if(void 0===this.id)throw Errors.ThreadIDError;const e=_textile_threads_id__WEBPACK_IMPORTED_MODULE_2__.ZP.fromString(this.id);return createDbClient(this.config).getDBInfo(e)}))}authorize(e,t){var r;return __awaiter(this,void 0,void 0,(function*(){if(!this.config.serviceHost)throw Errors.NoRemoteError;let o="";if("string"==typeof e){if(void 0===t)throw new Error("Callback required for public key challenge");o=yield getTokenChallenge(e,t,this.config)}else o=yield getToken(e,this.config);return null===(r=this.config.metadata)||void 0===r||r.set("authorization",`bearer ${o}`),o}))}initialize(e=this.id){var t;return __awaiter(this,void 0,void 0,(function*(){if(!this.config.serviceHost)throw Errors.NoRemoteError;const r=this.storage.table(MetaTableName);let o=_textile_threads_id__WEBPACK_IMPORTED_MODULE_2__.ZP.fromRandom();if(void 0!==e)o="string"==typeof e?_textile_threads_id__WEBPACK_IMPORTED_MODULE_2__.ZP.fromString(e):e;else{const{value:e}=null!==(t=yield r.get(ThreadIDName))&&void 0!==t?t:{};void 0!==e&&(o=_textile_threads_id__WEBPACK_IMPORTED_MODULE_2__.ZP.fromString(e))}const n=yield Promise.all(this.storage.tables.filter((e=>!e.name.startsWith("_"))).map((e=>__awaiter(this,void 0,void 0,(function*(){return{name:e.name,schema:encoder.encode(JSON.stringify(yield e.getSchema())),indexesList:[],writevalidator:"",readfilter:""}})))));let i="";try{i=yield newDB(this.storage.name,o,n,this.config)}catch(e){const t=e.toString();if(!t.includes("db already exists")&&!t.includes("multiple write errors"))throw e;{i=o.toString();const e=createDbClient(this.config);for(const t of n){t.schema=JSON.parse(decoder.decode(t.schema));try{yield e.newCollection(o,t)}catch(e){if(!e.message.includes("collection already registered"))throw e}}}}if(!i)throw Errors.RemoteError;return this.set({id:i}),yield r.put({key:ThreadIDName,value:i}),i}))}push(...e){return __awaiter(this,void 0,void 0,(function*(){if(!this.config.serviceHost)throw Errors.NoRemoteError;if(void 0===this.id)throw Errors.ThreadIDError;const t=_textile_threads_id__WEBPACK_IMPORTED_MODULE_2__.ZP.fromString(this.id),r=this.storage.table(ChangeTableName),o=createDbClient(this.config);for(const n of e){this.storage.table(n);const e=r.where("name").equals(n);if((yield e.count())<1)return;let i;try{const r=yield e.toArray();let s=0;for(const e of r){switch(i=o.writeTransaction(t,n),yield i.start(),e.type){case"put":try{yield i.save([e.after]);break}catch(e){throw e}case"add":try{yield i.create([e.after]);break}catch(e){throw e}case"delete":try{yield i.delete([e.key]);break}catch(e){throw e}}yield i.end(),s++}if(s!==(yield e.delete()))throw Errors.ChangeError}catch(e){try{yield null==i?void 0:i.discard()}catch(e){}throw e}}}))}createStash(){return __awaiter(this,void 0,void 0,(function*(){const e=this.storage.table(ChangeTableName);if(!(yield e.count()))return;const t=this.storage.table(StashTableName),r=yield e.toArray();return yield t.bulkPut(r),e.clear()}))}clearStash(){return __awaiter(this,void 0,void 0,(function*(){return this.storage.table(StashTableName).clear()}))}applyStash(...e){return __awaiter(this,void 0,void 0,(function*(){for(const t of e)yield this.storage.transaction("rw",[t,StashTableName],(e=>__awaiter(this,void 0,void 0,(function*(){var r;const o=e.table(StashTableName),n=e.table(t),i=o.where("name").equals(t);if(!((yield i.count())<1)){for(const e of yield i.toArray())if("delete"===e.type)n.delete(e.key);else{const t=null!==(r=yield n.get(e.key))&&void 0!==r?r:{};jsonpatch.applyPatch(t,e.ops,!1,!0),yield n.put(t)}yield i.delete()}}))))}))}pull(...e){return __awaiter(this,void 0,void 0,(function*(){if(!this.config.serviceHost)throw Errors.NoRemoteError;if(void 0===this.id)throw Errors.ThreadIDError;const t=_textile_threads_id__WEBPACK_IMPORTED_MODULE_2__.ZP.fromString(this.id),r=this.storage.table(ChangeTableName);if(yield r.count())throw Errors.LocalChangesError;const o=createDbClient(this.config);for(const r of e){const e=yield o.find(t,r,{}),n=this.storage.table(r),i=yield n.bulkPut(e,{allKeys:!0});yield n.filter((e=>!i.includes(e._id))).delete()}const n=this.storage.table(ChangeTableName),i=yield n.filter((e=>e.ops.length>0&&!(e=>{const[t]=e;return"add"===t.op&&"/_mod"==t.path})(e.ops))).toArray();return yield n.clear(),i.map((e=>e.key))}))}}!function(){function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var r in t)(i=t[r]).configurable=i.enumerable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,r,i);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(t),n=0;n<o.length;n++){var i,s=o[n];(i=t[s]).configurable=i.enumerable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,s,i)}return e}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function u(e,t,r){return(u=a()?Reflect.construct:function(e,t,r){var o=[null];o.push.apply(o,t);var n=new(Function.bind.apply(e,o));return r&&s(n,r.prototype),n}).apply(null,arguments)}function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],o=!0,n=!1,i=void 0;try{for(var s,a=e[Symbol.iterator]();!(o=(s=a.next()).done)&&(r.push(s.value),!t||r.length!==t);o=!0);}catch(e){n=!0,i=e}finally{try{o||null==a.return||a.return()}finally{if(n)throw i}}return r}}(e,t)||p(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e){return function(e){if(Array.isArray(e))return g(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||p(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){if(e){if("string"==typeof e)return g(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?g(e,t):void 0}}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,o=new Array(t);r<t;r++)o[r]=e[r];return o}function d(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=p(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var o=0,n=function(){};return{s:n,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,a=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return s=e.done,e},e:function(e){a=!0,i=e},f:function(){try{s||null==r.return||r.return()}finally{if(a)throw i}}}}var f=void 0!==h?h:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},h=void 0!==f?f:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{};function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var b="undefined"==typeof DOMException?function(e,t){var r=new Error(e);return r.name=t,r}:DOMException,m=new WeakMap,_=new WeakMap,v=function(e){this[Symbol.toStringTag]="Event",this.toString=function(){return"[object Event]"};var t=Array.prototype.slice.call(arguments),r=t[1],o=t[2];if(!arguments.length)throw new TypeError("Failed to construct 'Event': 1 argument required, but only 0 present.");o=o||{};var n={};"composed"in(r=r||{})&&(n.composed=r.composed),m.set(this,o),_.set(this,n),this.initEvent(e,r.bubbles,r.cancelable),Object.defineProperties(this,["target","currentTarget","eventPhase","defaultPrevented"].reduce((function(e,t){return e[t]={get:function(){return void 0!==n[t]?n[t]:t in o?o[t]:"eventPhase"===t?0:"defaultPrevented"!==t&&null}},e}),{}));var i=["type","bubbles","cancelable","isTrusted","timeStamp","initEvent","composedPath","composed"];"[object CustomEvent]"===this.toString()&&i.push("detail","initCustomEvent"),Object.defineProperties(this,i.reduce((function(e,t){return e[t]={get:function(){return t in n?n[t]:t in o?o[t]:!["bubbles","cancelable","composed"].includes(t)&&void 0}},e}),{}))};v.prototype.preventDefault=function(){if(!(this instanceof v))throw new TypeError("Illegal invocation");var e=m.get(this),t=_.get(this);this.cancelable&&!t._passive&&(t.defaultPrevented=!0,"function"==typeof e.preventDefault&&e.preventDefault())},v.prototype.stopImmediatePropagation=function(){_.get(this)._stopImmediatePropagation=!0},v.prototype.stopPropagation=function(){_.get(this)._stopPropagation=!0},v.prototype.initEvent=function(e,t,r){var o=_.get(this);o._dispatched||(o.type=e,void 0!==t&&(o.bubbles=t),void 0!==r&&(o.cancelable=r))},["type","target","currentTarget"].forEach((function(e){Object.defineProperty(v.prototype,e,{enumerable:!0,configurable:!0,get:function(){throw new TypeError("Illegal invocation")}})})),["eventPhase","defaultPrevented","bubbles","cancelable","timeStamp"].forEach((function(e){Object.defineProperty(v.prototype,e,{enumerable:!0,configurable:!0,get:function(){throw new TypeError("Illegal invocation")}})})),["NONE","CAPTURING_PHASE","AT_TARGET","BUBBLING_PHASE"].forEach((function(e,t){Object.defineProperty(v,e,{enumerable:!0,writable:!1,value:t}),Object.defineProperty(v.prototype,e,{writable:!1,value:t})})),v[Symbol.toStringTag]="Function",v.prototype[Symbol.toStringTag]="EventPrototype",Object.defineProperty(v,"prototype",{writable:!1});var E=function(e){var t=Array.prototype.slice.call(arguments),r=t[1],o=t[2];v.call(this,e,r,o),this[Symbol.toStringTag]="CustomEvent",this.toString=function(){return"[object CustomEvent]"},r=r||{},this.initCustomEvent(e,r.bubbles,r.cancelable,"detail"in r?r.detail:null)};function S(e,t,r){var o=e[t];void 0===o&&(e[t]=o=[]),r="boolean"==typeof r?{capture:r}:r||{};var n=JSON.stringify(r);return{listenersByTypeOptions:o.filter((function(e){return n===JSON.stringify(e.options)})),options:r,listenersByType:o}}Object.defineProperty(E.prototype,"constructor",{enumerable:!1,writable:!0,configurable:!0,value:E}),E.prototype.initCustomEvent=function(e,t,r,o){if(!(this instanceof E))throw new TypeError("Illegal invocation");var n=_.get(this);E.call(this,e,{bubbles:t,cancelable:r,detail:o},arguments[4]),n._dispatched||(void 0!==o&&(n.detail=o),Object.defineProperty(this,"detail",{get:function(){return n.detail}}))},E[Symbol.toStringTag]="Function",E.prototype[Symbol.toStringTag]="CustomEventPrototype",Object.defineProperty(E.prototype,"detail",{enumerable:!0,configurable:!0,get:function(){throw new TypeError("Illegal invocation")}}),Object.defineProperty(E,"prototype",{writable:!1});var w={addListener:function(e,t,r,o){var n=S(e,r,o),i=n.listenersByTypeOptions;o=n.options;var s=n.listenersByType;i.some((function(e){return e.listener===t}))||s.push({listener:t,options:o})},removeListener:function(e,t,r,o){var n=S(e,r,o),i=n.listenersByType,s=JSON.stringify(n.options);i.some((function(o,n){return o.listener===t&&s===JSON.stringify(o.options)&&(i.splice(n,1),i.length||delete e[r],!0)}))},hasListener:function(e,t,r,o){return S(e,r,o).listenersByTypeOptions.some((function(e){return e.listener===t}))}};function T(){throw new TypeError("Illegal constructor")}Object.assign(T.prototype,["Early","","Late","Default"].reduce((function(e,t){return["add","remove","has"].forEach((function(r){e[r+t+"EventListener"]=function(e,o){var n=arguments[2];if(arguments.length<2)throw new TypeError("2 or more arguments required");if("string"!=typeof e)throw new b("UNSPECIFIED_EVENT_TYPE_ERR","UNSPECIFIED_EVENT_TYPE_ERR");try{o.handleEvent&&o.handleEvent.bind&&(o=o.handleEvent.bind(o))}catch(e){console.log("Uncaught `handleEvent` error",e)}var i="_"+t.toLowerCase()+(""===t?"l":"L")+"isteners";return this[i]||Object.defineProperty(this,i,{value:{}}),w[r+"Listener"](this[i],o,e,n)}})),e}),{})),Object.assign(T.prototype,{__setOptions:function(e){e=e||{},this._defaultSync=e.defaultSync,this._extraProperties=e.extraProperties||[],e.legacyOutputDidListenersThrowFlag&&(this._legacyOutputDidListenersThrowCheck=!0,this._extraProperties.push("__legacyOutputDidListenersThrowError"))},dispatchEvent:function(e){return this._dispatchEvent(e,!0)},_dispatchEvent:function(e,t){var r=this;["early","","late","default"].forEach((function(e){var t="_"+e+(""===e?"l":"L")+"isteners";r[t]||Object.defineProperty(r,t,{value:{}})}));var o,n=_.get(e);if(n&&t&&n._dispatched)throw new b("The object is in an invalid state.","InvalidStateError");n?o=e:(o=function(e){var t=e.bubbles,r=e.cancelable,o=e.detail,n=e.type;return"detail"in e?new E(n,{bubbles:t,cancelable:r,detail:o},e):new v(n,{bubbles:t,cancelable:r},e)}(e),(n=_.get(o))._dispatched=!0,this._extraProperties.forEach((function(t){t in e&&(o[t]=e[t])})));var i=o.type;function s(){n.eventPhase=0,n.currentTarget=null,delete n._children}function a(){n._stopImmediatePropagation=void 0,n._stopPropagation=void 0,o.defaultPrevented&&n.cancelable||(n.eventPhase=2,o.target.invokeCurrentListeners(o.target._defaultListeners,o,i)),s()}var u=function(){return n._stopImmediatePropagation=void 0,n._stopPropagation=void 0,r._defaultSync?a():setTimeout(a,0),n.eventPhase=2,n._stopPropagation||(n._stopImmediatePropagation=void 0,n._stopPropagation=void 0,o.target.invokeCurrentListeners(o.target._lateListeners,o,i)),s(),!o.defaultPrevented};switch(t&&(n.target=this),o.eventPhase){default:case 0:if(n.eventPhase=2,this.invokeCurrentListeners(this._earlyListeners,o,i),!this.__getParent)return n.eventPhase=2,this._dispatchEvent(o,!1);for(var l=this,c=this;l.__getParent&&null!==(l=l.__getParent());)n._children||(n._children=[]),n._children.push(c),c=l;return c._defaultSync=this._defaultSync,n.eventPhase=1,c._dispatchEvent(o,!1);case 1:if(n._stopPropagation)return u();this.invokeCurrentListeners(this._listeners,o,i);var p=n._children&&n._children.length&&n._children.pop();return p&&p!==o.target||(n.eventPhase=2),p&&(p._defaultSync=this._defaultSync),(p||this)._dispatchEvent(o,!1);case 2:return n._stopPropagation?u():(this.invokeCurrentListeners(this._listeners,o,i,!0),n.bubbles?(n.eventPhase=3,this._dispatchEvent(o,!1)):u());case 3:if(n._stopPropagation)return u();var g=this.__getParent&&this.__getParent();return g?(g.invokeCurrentListeners(g._listeners,o,i,!0),g._defaultSync=this._defaultSync,g._dispatchEvent(o,!1)):u()}},invokeCurrentListeners:function(e,t,r,o){var n=this,i=_.get(t);i.currentTarget=this;var s=S(e,r,{}).listenersByType.concat(),a=s.length?1:0;return s.some((function(e,s){var u=o?n["on"+r]:null;if(i._stopImmediatePropagation)return!0;s===a&&"function"==typeof u&&n.tryCatch(t,(function(){!1===u.call(t.currentTarget,t)&&t.preventDefault()}));var l=e.options,c=l.once,p=l.passive,g=l.capture;if(i._passive=p,g&&t.target!==t.currentTarget&&1===t.eventPhase||2===t.eventPhase||!g&&t.target!==t.currentTarget&&3===t.eventPhase){var d=e.listener;n.tryCatch(t,(function(){d.call(t.currentTarget,t)})),c&&n.removeEventListener(r,d,l)}return!1})),this.tryCatch(t,(function(){var e=o?n["on"+r]:null;"function"==typeof e&&s.length<2&&!1===e.call(t.currentTarget,t)&&t.preventDefault()})),!t.defaultPrevented},tryCatch:function(e,t){try{t()}catch(t){this.triggerErrorEvent(t,e)}},triggerErrorEvent:function(e,t){var r,o=e;"string"==typeof e&&(o=new Error("Uncaught exception: "+e));var n=!1;"undefined"==typeof window||"undefined"==typeof ErrorEvent||window&&"object"===("undefined"==typeof window?"undefined":y(window))&&!window.dispatchEvent?(n=!0,r=function(){setTimeout((function(){throw o}))}):r=function(){var t=new ErrorEvent("error",{error:e,message:o.message||"",filename:o.fileName||"",lineno:o.lineNumber||0,colno:o.columnNumber||0});window.dispatchEvent(t)},n&&this._legacyOutputDidListenersThrowCheck||r(),this._legacyOutputDidListenersThrowCheck&&(t.__legacyOutputDidListenersThrowError=o)}}),T.prototype[Symbol.toStringTag]="EventTargetPrototype",Object.defineProperty(T,"prototype",{writable:!1});var R=T,A={createInstance:function(e){function t(){this.__setOptions(e)}return t.prototype=R.prototype,new t}};T.ShimEvent=v,T.ShimCustomEvent=E,T.ShimDOMException=b,T.ShimEventTarget=T,T.EventTargetFactory=A;var D={},O={};["DEBUG","cacheDatabaseInstances","autoName","fullIDLSupport","checkOrigin","cursorPreloadPackSize","UnicodeIDStart","UnicodeIDContinue","registerSCA","avoidAutoShim","win","DEFAULT_DB_SIZE","useSQLiteIndexes","fs","addNonIDBGlobals","replaceNonIDBGlobals","escapeDatabaseName","unescapeDatabaseName","databaseCharacterEscapeList","databaseNameLengthLimit","escapeNFDForDatabaseNames","addSQLiteExtension",["memoryDatabase",function(e){if(!/^(?::memory:|file::memory:(\?(?:[\0-"\$-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?(#(?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?)?$/.test(e))throw new TypeError('`memoryDatabase` must be the empty string, ":memory:", or a "file::memory:[?queryString][#hash] URL".')}],"deleteDatabaseFiles","databaseBasePath","sysDatabaseBasePath","sqlBusyTimeout","sqlTrace","sqlProfile"].forEach((function(e){var t;if(Array.isArray(e)){var r=l(e,2);e=r[0],t=r[1]}Object.defineProperty(O,e,{get:function(){return D[e]},set:function(r){t&&t(r),D[e]=r}})}));var P=/[\xC0-\xC5\xC7-\xCF\xD1-\xD6\xD9-\xDD\xE0-\xE5\xE7-\xEF\xF1-\xF6\xF9-\xFD\xFF-\u010F\u0112-\u0125\u0128-\u0130\u0134-\u0137\u0139-\u013E\u0143-\u0148\u014C-\u0151\u0154-\u0165\u0168-\u017E\u01A0\u01A1\u01AF\u01B0\u01CD-\u01DC\u01DE-\u01E3\u01E6-\u01F0\u01F4\u01F5\u01F8-\u021B\u021E\u021F\u0226-\u0233\u0344\u0385\u0386\u0388-\u038A\u038C\u038E-\u0390\u03AA-\u03B0\u03CA-\u03CE\u03D3\u03D4\u0400\u0401\u0403\u0407\u040C-\u040E\u0419\u0439\u0450\u0451\u0453\u0457\u045C-\u045E\u0476\u0477\u04C1\u04C2\u04D0-\u04D3\u04D6\u04D7\u04DA-\u04DF\u04E2-\u04E7\u04EA-\u04F5\u04F8\u04F9\u0622-\u0626\u06C0\u06C2\u06D3\u0929\u0931\u0934\u0958-\u095F\u09CB\u09CC\u09DC\u09DD\u09DF\u0A33\u0A36\u0A59-\u0A5B\u0A5E\u0B48\u0B4B\u0B4C\u0B5C\u0B5D\u0B94\u0BCA-\u0BCC\u0C48\u0CC0\u0CC7\u0CC8\u0CCA\u0CCB\u0D4A-\u0D4C\u0DDA\u0DDC-\u0DDE\u0F43\u0F4D\u0F52\u0F57\u0F5C\u0F69\u0F73\u0F75\u0F76\u0F78\u0F81\u0F93\u0F9D\u0FA2\u0FA7\u0FAC\u0FB9\u1026\u1B06\u1B08\u1B0A\u1B0C\u1B0E\u1B12\u1B3B\u1B3D\u1B40\u1B41\u1B43\u1E00-\u1E99\u1E9B\u1EA0-\u1EF9\u1F00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FC1-\u1FC4\u1FC6-\u1FD3\u1FD6-\u1FDB\u1FDD-\u1FEE\u1FF2-\u1FF4\u1FF6-\u1FFC\u212B\u219A\u219B\u21AE\u21CD-\u21CF\u2204\u2209\u220C\u2224\u2226\u2241\u2244\u2247\u2249\u2260\u2262\u226D-\u2271\u2274\u2275\u2278\u2279\u2280\u2281\u2284\u2285\u2288\u2289\u22AC-\u22AF\u22E0-\u22E3\u22EA-\u22ED\u2ADC\u304C\u304E\u3050\u3052\u3054\u3056\u3058\u305A\u305C\u305E\u3060\u3062\u3065\u3067\u3069\u3070\u3071\u3073\u3074\u3076\u3077\u3079\u307A\u307C\u307D\u3094\u309E\u30AC\u30AE\u30B0\u30B2\u30B4\u30B6\u30B8\u30BA\u30BC\u30BE\u30C0\u30C2\u30C5\u30C7\u30C9\u30D0\u30D1\u30D3\u30D4\u30D6\u30D7\u30D9\u30DA\u30DC\u30DD\u30F4\u30F7-\u30FA\u30FE\uAC00-\uD7A3\uFB1D\uFB1F\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFB4E]|\uD804[\uDC9A\uDC9C\uDCAB\uDD2E\uDD2F\uDF4B\uDF4C]|\uD805[\uDCBB\uDCBC\uDCBE\uDDBA\uDDBB]|\uD834[\uDD5E-\uDD64\uDDBB-\uDDC0]/;function I(e){return e.replace(/((?:[\uD800-\uDBFF](?![\uDC00-\uDFFF])))(?!(?:(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]))|(^|(?:[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]))((?:(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]))/g,(function(e,t,r,o){return t?"^2"+re(t.charCodeAt().toString(16),4,"0"):(r||"")+"^3"+re(o.charCodeAt().toString(16),4,"0")}))}function C(e){return"_"+I(e.replace(/\^/g,"^^").replace(/\0/g,"^0").replace(/([A-Z])/g,"^$1"))}function B(e){return I(e.replace(/\^/g,"^^").replace(/\0/g,"^0"))}function j(e){return function(e){return e.replace(/(\^+)3(d[0-9a-f]{3})/g,(function(e,t,r){return t.length%2?t.slice(1)+String.fromCharCode(Number.parseInt(r,16)):e})).replace(/(\^+)2(d[0-9a-f]{3})/g,(function(e,t,r){return t.length%2?t.slice(1)+String.fromCharCode(Number.parseInt(r,16)):e}))}(e).replace(/(\^+)0/g,(function(e,t){return t.length%2?t.slice(1)+"\0":e})).replace(/\^\^/g,"^")}function N(e){return e.replace(/"/g,'""')}function F(e){return'"'+N(e)+'"'}function M(e){if(O.escapeDatabaseName)return O.escapeDatabaseName(B(e));if(e="D"+C(e),!1!==O.escapeNFDForDatabaseNames&&(e=e.replace(new RegExp(P.source,"gu"),(function(e){return"^4"+re(e.codePointAt().toString(16),6,"0")}))),!1!==O.databaseCharacterEscapeList&&(e=e.replace(O.databaseCharacterEscapeList?new RegExp(O.databaseCharacterEscapeList,"gu"):/[\0-\x1F"\*\/:<>\?\\\|\x7F]/g,(function(e){return"^1"+re(e.charCodeAt().toString(16),2,"0")}))),!1!==O.databaseNameLengthLimit&&e.length>=(O.databaseNameLengthLimit||254)-(!1!==O.addSQLiteExtension?7:0))throw new Error("Unexpectedly long database name supplied; length limit required for Node compatibility; passed length: "+e.length+"; length limit setting: "+(O.databaseNameLengthLimit||254)+".");return e+(!1!==O.addSQLiteExtension?".sqlite":"")}function x(e){return F("S"+C(e))}function L(e){return F("I"+C(e))}function k(e){return"I"+C(e)}function U(e){return N(e).replace(/\^/g,"^^")}function q(e,t){return t[Symbol.hasInstance](e)}function $(t){return t&&"object"===e(t)}function W(e){return $(e)&&"function"==typeof e[Symbol.iterator]}function G(e,t){t.forEach((function(t){var o,n,i=(o={},(n={})[t]=n[t]||{},n[t].get=function(){throw new TypeError("Illegal invocation")},n[t]=n[t]||{},n[t].set=function(e){throw new TypeError("Illegal invocation")},r(o,n),o),s=Object.getOwnPropertyDescriptor(i,t);Object.defineProperty(e,t,s)}))}function H(e,t){t.forEach((function(t){var o,n,i=(o={},(n={})[t]=n[t]||{},n[t].get=function(){throw new TypeError("Illegal invocation")},r(o,n),o),s=Object.getOwnPropertyDescriptor(i,t);Object.defineProperty(e,t,s)}))}function V(e,t){(t="string"==typeof t?[t]:t).forEach((function(t){var o,n,i=(o={},(n={})[t]=n[t]||{},n[t].get=function(){return e["__"+t]},n[t]=n[t]||{},n[t].set=function(r){e["__"+t]=r},r(o,n),o),s=Object.getOwnPropertyDescriptor(i,t);Object.defineProperty(e,t,s)})),t.forEach((function(t){e[t]=null}))}function z(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;(t="string"==typeof t?[t]:t).forEach((function(t){var n,i,s;o&&t in o?n=o[t]:(Object.defineProperty(e,"__"+t,{enumerable:!1,configurable:!1,writable:!0}),i={},(s={})[t]=s[t]||{},s[t].get=function(){return this["__"+t]},r(i,s),n=i);var a=Object.getOwnPropertyDescriptor(n,t);Object.defineProperty(e,t,a)}))}function K(e){var t=O.UnicodeIDStart||"[$A-Z_a-z]",r=O.UnicodeIDContinue||"[$0-9A-Z_a-z]";return new RegExp("^(?:"+t+"|[$_])(?:"+r+"|[$_])*$","u").test(e)}function Y(e){return"string"==typeof e&&(""===e||K(e)||e.split(".").every((function(e){return K(e)})))}function J(e){return Y(e)||Array.isArray(e)&&e.length&&c(e).every((function(e){return Y(e)}))}function X(e,t){var r,o;switch(e=Math.floor(Number(e)),t){case"unsigned long long":r=9007199254740991,o=0;break;case"unsigned long":r=4294967295,o=0;break;default:throw new Error("Unrecognized type supplied to enforceRange")}if(!Number.isFinite(e)||e>r||e<o)throw new TypeError("Invalid range: "+e);return e}function Q(e,t){return null===e&&t?"":Z(e)}function Z(e){return""+e}function ee(e){return W(e)?c(e).map((function(e){return Z(e)})):Z(e)}function te(e){return null==e}function re(e,t,r){return new Array(t-String(e).length+1).join(r)+e}function oe(e,t,r){var o=new v(e,r);return o.debug=t,o}function ne(e){v.call(this,e),this[Symbol.toStringTag]="IDBVersionChangeEvent",this.toString=function(){return"[object IDBVersionChangeEvent]"},this.__eventInitDict=arguments[1]||{}}function ie(e,t){return new DOMException.prototype.constructor(t,e||"DOMException")}Object.defineProperty(v,Symbol.hasInstance,{value:function(e){return $(e)&&"target"in e&&"boolean"==typeof e.bubbles}}),ne.prototype=Object.create(v.prototype),ne.prototype[Symbol.toStringTag]="IDBVersionChangeEventPrototype",["oldVersion","newVersion"].forEach((function(e){var t,o,n=(t={},(o={})[e]=o[e]||{},o[e].get=function(){if(!(this instanceof ne))throw new TypeError("Illegal invocation");return this.__eventInitDict&&this.__eventInitDict[e]||("oldVersion"===e?0:null)},r(t,o),t),i=Object.getOwnPropertyDescriptor(n,e);Object.defineProperty(ne.prototype,e,i)})),Object.defineProperty(ne,Symbol.hasInstance,{value:function(e){return $(e)&&"oldVersion"in e&&"boolean"==typeof e.defaultPrevented}}),Object.defineProperty(ne.prototype,"constructor",{enumerable:!1,writable:!0,configurable:!0,value:ne}),Object.defineProperty(ne,"prototype",{writable:!1});var se={IndexSizeError:1,HierarchyRequestError:3,WrongDocumentError:4,InvalidCharacterError:5,NoModificationAllowedError:7,NotFoundError:8,NotSupportedError:9,InUseAttributeError:10,InvalidStateError:11,SyntaxError:12,InvalidModificationError:13,NamespaceError:14,InvalidAccessError:15,TypeMismatchError:17,SecurityError:18,NetworkError:19,AbortError:20,URLMismatchError:21,QuotaExceededError:22,TimeoutError:23,InvalidNodeTypeError:24,DataCloneError:25,EncodingError:0,NotReadableError:0,UnknownError:0,ConstraintError:0,DataError:0,TransactionInactiveError:0,ReadOnlyError:0,VersionError:0,OperationError:0,NotAllowedError:0},ae={INDEX_SIZE_ERR:1,DOMSTRING_SIZE_ERR:2,HIERARCHY_REQUEST_ERR:3,WRONG_DOCUMENT_ERR:4,INVALID_CHARACTER_ERR:5,NO_DATA_ALLOWED_ERR:6,NO_MODIFICATION_ALLOWED_ERR:7,NOT_FOUND_ERR:8,NOT_SUPPORTED_ERR:9,INUSE_ATTRIBUTE_ERR:10,INVALID_STATE_ERR:11,SYNTAX_ERR:12,INVALID_MODIFICATION_ERR:13,NAMESPACE_ERR:14,INVALID_ACCESS_ERR:15,VALIDATION_ERR:16,TYPE_MISMATCH_ERR:17,SECURITY_ERR:18,NETWORK_ERR:19,ABORT_ERR:20,URL_MISMATCH_ERR:21,QUOTA_EXCEEDED_ERR:22,TIMEOUT_ERR:23,INVALID_NODE_TYPE_ERR:24,DATA_CLONE_ERR:25},ue=function(){function e(e,t){this[Symbol.toStringTag]="DOMException",this._code=t in se?se[t]:ae[t]||0,this._name=t||"Error",this._message=void 0===e?"":""+e,Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,writable:!0,value:this._code}),void 0!==t&&Object.defineProperty(this,"name",{configurable:!0,enumerable:!0,writable:!0,value:this._name}),void 0!==e&&Object.defineProperty(this,"message",{configurable:!0,enumerable:!1,writable:!0,value:this._message})}var t=function(){};return t.prototype=Object.create(Error.prototype),["name","message"].forEach((function(r){Object.defineProperty(t.prototype,r,{enumerable:!0,get:function(){if(!(this instanceof e||this instanceof t||this instanceof Error))throw new TypeError("Illegal invocation");return this["_"+r]}})})),Object.defineProperty(t.prototype,"code",{configurable:!0,enumerable:!0,get:function(){throw new TypeError("Illegal invocation")}}),e.prototype=new t,e.prototype[Symbol.toStringTag]="DOMExceptionPrototype",Object.defineProperty(e,"prototype",{writable:!1}),Object.keys(se).forEach((function(t){Object.defineProperty(e.prototype,t,{enumerable:!0,configurable:!1,value:se[t]}),Object.defineProperty(e,t,{enumerable:!0,configurable:!1,value:se[t]})})),Object.keys(ae).forEach((function(t){Object.defineProperty(e.prototype,t,{enumerable:!0,configurable:!1,value:ae[t]}),Object.defineProperty(e,t,{enumerable:!0,configurable:!1,value:ae[t]})})),Object.defineProperty(e.prototype,"constructor",{writable:!0,configurable:!0,enumerable:!1,value:e}),e}();function le(e,t,r){if(O.DEBUG){r&&r.message&&(r=r.message);var o="function"==typeof console.error?"error":"log";console[o](e+": "+t+". "+(r||"")),console.trace&&console.trace()}}function ce(t){return t&&"object"===e(t)&&"string"==typeof t.name}function pe(e){var t;if(e){if(1===e.length)return e[0];var r,o=d(e);try{for(o.s();!(r=o.n()).done;){var n=r.value;if(ce(n))return n;n&&"string"==typeof n.message&&(t=n)}}catch(t){o.e(t)}finally{o.f()}}return t}function ge(e){var t,r;4===e.code?(t="QuotaExceededError",r="The operation failed because there was not enough remaining storage space, or the storage quota was reached and the user declined to give more space to the database."):(t="UnknownError",r="The operation failed for reasons unrelated to the database itself and not covered by any other errors."),r+=" ("+e.message+")--("+e.code+")";var o=he(t,r);return o.sqlError=e,o}var de,fe=!1;try{ce(de=ie("test name","test message"))&&"test name"===de.name&&"test message"===de.message&&(fe=!0)}catch(e){}var he=fe?function(e,t,r){return le(e,t,r),ie(e,t)}:function(e,t,r){return le(e,t,r),function(e,t){return new ue(t,e)}(e,t)},ye=fe?DOMException:ue,be=["onsuccess","onerror"],me=["source","transaction","readyState"],_e=["result","error"];function ve(){throw new TypeError("Illegal constructor")}ve.__super=function(){this[Symbol.toStringTag]="IDBRequest",this.__setOptions({legacyOutputDidListenersThrowFlag:!0}),_e.forEach((function(e){Object.defineProperty(this,"__"+e,{enumerable:!1,configurable:!1,writable:!0}),Object.defineProperty(this,e,{enumerable:!0,configurable:!0,get:function(){if(!this.__done)throw he("InvalidStateError","Can't get "+e+"; the request is still pending.");return this["__"+e]}})}),this),z(this,me,{readyState:{get readyState(){return this.__done?"done":"pending"}}}),V(this,be),this.__result=void 0,this.__error=this.__source=this.__transaction=null,this.__done=!1},ve.__createInstance=function(){return new ve.__super},ve.prototype=A.createInstance({extraProperties:["debug"]}),ve.prototype[Symbol.toStringTag]="IDBRequestPrototype",ve.prototype.__getParent=function(){return"[object IDBOpenDBRequest]"===this.toString()?null:this.__transaction},H(ve.prototype,me),H(ve.prototype,_e),G(ve.prototype,be),Object.defineProperty(ve.prototype,"constructor",{enumerable:!1,writable:!0,configurable:!0,value:ve}),ve.__super.prototype=ve.prototype,Object.defineProperty(ve,"prototype",{writable:!1});var Ee=["onblocked","onupgradeneeded"];function Se(){throw new TypeError("Illegal constructor")}Se.prototype=Object.create(ve.prototype),Object.defineProperty(Se.prototype,"constructor",{enumerable:!1,writable:!0,configurable:!0,value:Se});var we=Se;function Te(e){return e&&"function"==typeof e.then}function Re(e,t){e.then(null,t)}function Ae(e){var t=this;function r(e,r){t.v=e,t.s=r,t.c[r].forEach((function(t){t(e)})),t.c[r].length&&(t.c=null)}function o(e){t.c&&(Te(e)?Re(e.then(o),o):r(e,1))}t.v=0,t.s=2,t.c=[[],[]];try{e((function e(n){t.c&&(Te(n)?Re(n.then(e),o):r(n,0))}),o)}catch(e){o(e)}}Se.__createInstance=function(){function e(){ve.__super.call(this),this[Symbol.toStringTag]="IDBOpenDBRequest",this.__setOptions({legacyOutputDidListenersThrowFlag:!0,extraProperties:["oldVersion","newVersion","debug"]}),V(this,Ee)}return e.prototype=we.prototype,new e},G(Se.prototype,Ee),Se.prototype[Symbol.toStringTag]="IDBOpenDBRequestPrototype",Object.defineProperty(Se,"prototype",{writable:!1});var De=Ae.prototype;De.then=function(e,t){var r=this;return new Ae((function(o,n){var i="function"==typeof t?t:n;function s(){try{o(e?e(r.v):r.v)}catch(e){i(e)}}0===r.s?s():1===r.s?i(r.v):(r.c[0].push(s),r.c[1].push(i))}))},De.catch=function(e){var t=this;return new Ae((function(r,o){function n(){try{r(e(t.v))}catch(e){o(e)}}1===t.s?n():0===t.s?r(t.v):(t.c[1].push(n),t.c[0].push(r))}))},Ae.all=function(e){return new Ae((function(t,r,o){o=e.length;var n=[];o?e.forEach((function(i,s){Te(i)?Re(i.then((function(e){n[s]=e,--o||t(n)})),r):(n[s]=i,--o||t(e))})):t(n)}))},Ae.race=function(e){var t=!1;return new Ae((function(r,o){e.some((function(e,n){if(!Te(e))return r(e),t=!0,!0;Re(e.then((function(e){t||(r(e),t=!0)})),o)}))}))},Ae.resolve=function(e){return new Ae((function(t,r){t(e)}))},Ae.reject=function(e){return new Ae((function(t,r){r(e)}))};var Oe=Ae;function Pe(t,r){var o=tt(t),n=tt(r),i=o>n?1:o===n?0:-1;if(O.DEBUG){var s=rt(o),a=rt(n);"object"===e(t)&&(t=JSON.stringify(t),s=JSON.stringify(s)),"object"===e(r)&&(r=JSON.stringify(r),a=JSON.stringify(a)),s!==t&&console.warn(t+" was incorrectly encoded as "+s),a!==r&&console.warn(r+" was incorrectly encoded as "+a)}return i}var Ie={invalid:100,number:200,date:300,string:400,binary:500,array:600},Ce=Object.keys(Ie);Ce.forEach((function(e){Ie[e]=String.fromCharCode(Ie[e])}));var Be=Ce.reduce((function(e,t){return e[Ie[t]]=t,e}),{}),je=["negativeInfinity","bigNegative","smallNegative","smallPositive","bigPositive","positiveInfinity"],Ne={invalid:{encode:function(e){return Ie.invalid+"-"},decode:function(e){}},number:{encode:function(e){var t,r,o,n=e===Number.MIN_VALUE?"0."+"0".repeat(214)+"2":Math.abs(e).toString(32),i=n.indexOf("."),s=(n=-1!==i?n.replace(".",""):n).search(/(?:[\0-\/1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/);return n=n.slice(s),Number.isFinite(Number(e))?e<0?e>-1?(t=je.indexOf("smallNegative"),r=Fe(s),o=xe(Me(n))):(t=je.indexOf("bigNegative"),r=xe(Fe(-1!==i?i:n.length)),o=xe(Me(n))):e<1?(t=je.indexOf("smallPositive"),r=xe(Fe(s)),o=Me(n)):(t=je.indexOf("bigPositive"),r=Fe(-1!==i?i:n.length),o=Me(n)):(r=Ue(2),o=Ue(11),t=je.indexOf(e>0?"positiveInfinity":"negativeInfinity")),Ie.number+"-"+t+r+o},decode:function(e){var t=Number(e.slice(2,3)),r=e.slice(3,5),o=e.slice(5,16);switch(je[t]){case"negativeInfinity":return-1/0;case"positiveInfinity":return 1/0;case"bigPositive":return Le(o,r);case"smallPositive":return Le(o,r=qe(xe(r)));case"smallNegative":return r=qe(r),-Le(o=xe(o),r);case"bigNegative":return r=xe(r),-Le(o=xe(o),r);default:throw new Error("Invalid number.")}}},string:{encode:function(e,t){return t&&(e=e.replace(/((?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]))/g,"-$1")+" "),Ie.string+"-"+e},decode:function(e,t){return e=e.slice(2),t&&(e=e.slice(0,-1).replace(/\x2D((?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]))/g,"$1")),e}},array:{encode:function(e){var t,r=[],o=d(e.entries());try{for(o.s();!(t=o.n()).done;){var n=l(t.value,2),i=n[0],s=tt(n[1],!0);r[i]=s}}catch(e){o.e(e)}finally{o.f()}return r.push(Ie.invalid+"-"),Ie.array+"-"+JSON.stringify(r)},decode:function(e){var t=JSON.parse(e.slice(2));t.pop();for(var r=0;r<t.length;r++){var o=rt(t[r],!0);t[r]=o}return t}},date:{encode:function(e){return Ie.date+"-"+e.toJSON()},decode:function(e){return new Date(e.slice(2))}},binary:{encode:function(e){return Ie.binary+"-"+(e.byteLength?c(Ge(e)).map((function(e){return re(e,3,"0")})):"")},decode:function(e){var t=e.slice(2),r=t.length?t.split(",").map((function(e){return Number.parseInt(e)})):[],o=new ArrayBuffer(r.length);return new Uint8Array(o).set(r),o}}};function Fe(e){return 1===(e=e.toString(32)).length?"0"+e:e}function Me(e){return(e+Ue(11)).slice(0,11)}function xe(e){var t,r="",o=d(e);try{for(o.s();!(t=o.n()).done;){var n=t.value;r+=(31-Number.parseInt(n,32)).toString(32)}}catch(e){o.e(e)}finally{o.f()}return r}function Le(e,t){if((t=Number.parseInt(t,32))<0)return ke(Number.parseInt(e,32)*Math.pow(32,t-10));if(t<11){var r=e.slice(0,t);r=Number.parseInt(r,32);var o=e.slice(t);return ke(r+(o=Number.parseInt(o,32)*Math.pow(32,t-11)))}var n=e+Ue(t-11);return Number.parseInt(n,32)}function ke(e,t){return t=t||16,Number.parseFloat(e.toPrecision(t))}function Ue(e){return"0".repeat(e)}function qe(e){return"-"+e}function $e(t){if(Array.isArray(t))return"array";if($(r=t)&&"function"==typeof r.getDate)return"date";var r;if(function(e){return $(e)&&"number"==typeof e.byteLength&&("function"==typeof e.slice||"function"==typeof e.getFloat64)}(t))return"binary";var o=e(t);return["string","number"].includes(o)?o:"invalid"}function We(e,t){return He(e,t,!1,!0)}function Ge(e){var t=0,r=0;if(ArrayBuffer.isView(e)){if(void 0===e.buffer)throw new TypeError("Could not copy the bytes held by a buffer source as the buffer was undefined.");t=e.byteOffset,r=e.byteLength}else r=e.byteLength;return new Uint8Array(e.buffer||e,t,r)}function He(t,r,o,n){if((r=r||[]).includes(t))return{type:"array",invalid:!0,message:"An array key cannot be circular"};var i=$e(t),s={type:i,value:t};switch(i){case"number":return Number.isNaN(t)?{type:"NaN",invalid:!0}:s;case"string":return s;case"binary":return{type:"binary",value:Ge(t)};case"array":var a=t.length;r.push(t);for(var u=[],l=0;l<a;l++){if(!o&&!Object.prototype.hasOwnProperty.call(t,l))return{type:i,invalid:!0,message:"Does not have own index property"};try{var c=function(){var e=He(t[l],r,!1,n);if(e.invalid)return o?"continue":{v:{type:i,invalid:!0,message:"Bad array entry value-to-key conversion"}};(!o||!n&&u.every((function(t){return 0!==Pe(t,e.value)}))||n&&u.every((function(t){return 0!==Pe(t,e)})))&&u.push(n?e:e.value)}();if("continue"===c)continue;if("object"===e(c))return c.v}catch(e){if(!o)throw e}}return{type:i,value:u};case"date":return Number.isNaN(t.getTime())?{type:i,invalid:!0,message:"Not a valid date"}:n?{type:i,value:t.getTime()}:{type:i,value:new Date(t.getTime())};default:var p=null===t?"null":e(t);return{type:p,invalid:!0,message:"Not a valid key; type "+p}}}function Ve(e,t){return He(e,null,!0,t)}function ze(e,t){var r=We(e,t);if(r.invalid)throw he("DataError",r.message||"Not a valid key; type: "+r.type);return r}function Ke(e,t,r,o){var n=Ye(e,t);return n.failure?n:r?Ve(n.value,o):He(n.value,null,!1,o)}function Ye(e,t,r,o){if(Array.isArray(t)){var n=[];return t.some((function(t){var r=Ye(e,t);return!!r.failure||(n.push(r.value),!1)}))?{failure:!0}:{value:n}}return""===t?{value:e}:t.split(".").some((function(t,r){if("length"!==t||"string"!=typeof e&&!Array.isArray(e))if($(o=e)&&"number"==typeof o.size&&"function"==typeof o.slice&&!("lastModified"in o))switch(t){case"size":case"type":e=e[t]}else{if(!function(e){return $(e)&&"string"==typeof e.name&&"function"==typeof e.slice&&"lastModified"in e}(e))return!$(e)||!Object.prototype.hasOwnProperty.call(e,t)||void 0===(e=e[t]);switch(t){case"name":case"lastModified":e=e[t];break;case"lastModifiedDate":e=new Date(e.lastModified)}}else e=e.length;var o;return!1}))?{failure:!0}:{value:e}}function Je(e,t,r){var o=r.split("."),n=o.pop();o.forEach((function(t){Object.prototype.hasOwnProperty.call(e,t)||(e[t]={}),e=e[t]})),e[n]=t}function Xe(e,t){var r=t.split(".");r.pop();var o,n=d(r);try{for(n.s();!(o=n.n()).done;){var i=o.value;if(!$(e))return!1;if(!Object.prototype.hasOwnProperty.call(e,i))return!0;e=e[i]}}catch(e){n.e(e)}finally{n.f()}return $(e)}function Qe(e,t,r){var o=void 0===t.lower,n=void 0===t.upper,i=tt(e,!0),s=r?t.__lowerCached:tt(t.lower,!0),a=r?t.__upperCached:tt(t.upper,!0);return void 0!==t.lower&&(t.lowerOpen&&i>s&&(o=!0),!t.lowerOpen&&i>=s&&(o=!0)),void 0!==t.upper&&(t.upperOpen&&i<a&&(n=!0),!t.upperOpen&&i<=a&&(n=!0)),o&&n}function Ze(e,t){return"array"===Be[t.slice(0,1)]?t.indexOf(e)>1:t===e}function et(e,t){var r=[];if(Array.isArray(e)){var o,n=d(e);try{for(n.s();!(o=n.n()).done;){var i=o.value;if(Array.isArray(i)){if(t&&t.lower===t.upper)continue;if(1!==i.length){et(i,t).length>0&&r.push(i);continue}i=i[0]}(te(t)||Qe(i,t,!0))&&r.push(i)}}catch(e){n.e(e)}finally{n.f()}}else(te(t)||Qe(e,t,!0))&&r.push(e);return r}function tt(e,t){return void 0===e?null:Ne[$e(e)].encode(e,t)}function rt(e,t){if("string"==typeof e)return Ne[Be[e.slice(0,1)]].decode(e,t)}function ot(e,t){return rt(tt(e,t),t)}var nt=9007199254740992;function it(e,t,r,o){e.executeSql('SELECT "currNum" FROM __sys__ WHERE "name" = ?',[B(t.__currentName)],(function(e,t){1!==t.rows.length?r(1):r(t.rows.item(0).currNum)}),(function(e,t){o(he("DataError","Could not get the auto increment value for key",t))}))}function st(e,t,r,o,n){var i='UPDATE __sys__ SET "currNum" = ? WHERE "name" = ?',s=[r,B(t.__currentName)];O.DEBUG&&console.log(i,s),e.executeSql(i,s,(function(e,t){o(r)}),(function(e,t){n(he("UnknownError","Could not set the auto increment value for key",t))}))}function at(e,t,r,o,n){return st(e,t,r=r===nt?r+2:r+1,o,n)}function ut(e,t,r,o){it(e,t,(function(n){n>nt?r("failure"):at(e,t,n,(function(){r(null,n,n)}),o)}),o)}function lt(e,t,r,o,n){"number"!=typeof r||r<1?o():it(e,t,(function(i){var s=Math.floor(Math.min(r,nt));s>=i?at(e,t,s,(function(){o(i)}),n):o()}),n)}var ct=Object.freeze({__proto__:null,encode:tt,decode:rt,roundTrip:ot,convertKeyToValue:function e(t){var r=t.type,o=t.value;switch(r){case"number":case"string":return o;case"array":for(var n=[],i=o.length,s=0;s<i;){var a=e(o[s]);n[s]=a,s++}return n;case"date":return new Date(o);case"binary":var u=o.length,l=new ArrayBuffer(u);return new Uint8Array(l,o.byteOffset||0,o.byteLength).set(o),l;default:throw new Error("Bad key")}},convertValueToKeyValueDecoded:He,convertValueToMultiEntryKeyDecoded:Ve,convertValueToKey:We,convertValueToMultiEntryKey:function(e){return He(e,null,!0,!0)},convertValueToKeyRethrowingAndIfInvalid:ze,extractKeyFromValueUsingKeyPath:function(e,t,r){return Ke(e,t,r,!0)},evaluateKeyPathOnValue:function(e,t,r){return Ye(e,t)},extractKeyValueDecodedFromValueUsingKeyPath:Ke,injectKeyIntoValueUsingKeyPath:Je,checkKeyCouldBeInjectedIntoValue:Xe,isMultiEntryMatch:Ze,isKeyInRange:Qe,findMultiEntryMatches:et,assignCurrentNumber:st,generateKeyForStore:ut,possiblyUpdateKeyGenerator:lt});function pt(){throw new TypeError("Illegal constructor")}var gt,dt=pt;function ft(e,t,r,o,n,i){if(e&&(void 0!==e.lower||void 0!==e.upper)){var s,a;n&&r.push("AND");var u=void 0!==e.lower,l=void 0!==e.upper;if(u&&(s=i?e.__lowerCached:tt(e.lower)),l&&(a=i?e.__upperCached:tt(e.upper)),u){if(o.push(B(s)),l&&s===a&&!e.lowerOpen&&!e.upperOpen)return void r.push(t,"=","?");r.push(t,e.lowerOpen?">":">=","?")}u&&l&&r.push("AND"),l&&(r.push(t,e.upperOpen?"<":"<=","?"),o.push(B(a)))}}function ht(e,t){if(q(e,pt))return"[object IDBKeyRange]"!==e.toString()?pt.__createInstance(e.lower,e.upper,e.lowerOpen,e.upperOpen):e;if(!te(e))return ze(e),pt.only(e);if(t)throw he("DataError","No key or range was specified")}pt.__createInstance=function(e,t,r,o){function n(){if(this[Symbol.toStringTag]="IDBKeyRange",void 0===e&&void 0===t)throw he("DataError","Both arguments to the key range method cannot be undefined");var n,i;if(void 0!==e&&(n=ot(e),ze(e)),void 0!==t&&(i=ot(t),ze(t)),void 0!==e&&void 0!==t&&e!==t&&tt(e)>tt(t))throw he("DataError","`lower` must not be greater than `upper` argument in `bound()` call.");this.__lower=n,this.__upper=i,this.__lowerOpen=Boolean(r),this.__upperOpen=Boolean(o)}return n.prototype=dt.prototype,new n},pt.prototype.includes=function(e){if(!$(this)||"boolean"!=typeof this.__lowerOpen)throw new TypeError("Illegal invocation");if(!arguments.length)throw new TypeError("IDBKeyRange.includes requires a key argument");return ze(e),Qe(e,this)},pt.only=function(e){if(!arguments.length)throw new TypeError("IDBKeyRange.only requires a value argument");return pt.__createInstance(e,e,!1,!1)},pt.lowerBound=function(e){if(!arguments.length)throw new TypeError("IDBKeyRange.lowerBound requires a value argument");return pt.__createInstance(e,void 0,arguments[1],!0)},pt.upperBound=function(e){if(!arguments.length)throw new TypeError("IDBKeyRange.upperBound requires a value argument");return pt.__createInstance(void 0,e,!0,arguments[1])},pt.bound=function(e,t){if(arguments.length<=1)throw new TypeError("IDBKeyRange.bound requires lower and upper arguments");return pt.__createInstance(e,t,arguments[2],arguments[3])},pt.prototype[Symbol.toStringTag]="IDBKeyRangePrototype",["lower","upper","lowerOpen","upperOpen"].forEach((function(e){var t,o;Object.defineProperty(pt.prototype,"__"+e,{enumerable:!1,configurable:!1,writable:!0});var n=(t={},(o={})[e]=o[e]||{},o[e].get=function(){if(!$(this)||"boolean"!=typeof this.__lowerOpen)throw new TypeError("Illegal invocation");return this["__"+e]},r(t,o),t),i=Object.getOwnPropertyDescriptor(n,e);Object.defineProperty(pt.prototype,e,i)})),Object.defineProperty(pt,Symbol.hasInstance,{value:function(e){return $(e)&&"upper"in e&&"boolean"==typeof e.lowerOpen}}),Object.defineProperty(pt,"prototype",{writable:!1});var yt=!1,bt={test:!0};if(Object.defineProperty)try{Object.defineProperty(bt,"test",{enumerable:!1}),bt.test&&(yt=!0)}catch(e){}var mt=function(){throw new TypeError("Illegal constructor")};mt.prototype=(o(gt={constructor:mt,contains:function(e){if(!arguments.length)throw new TypeError("DOMStringList.contains must be supplied a value");return this._items.includes(e)},item:function(e){if(!arguments.length)throw new TypeError("DOMStringList.item must be supplied a value");return e<0||e>=this.length||!Number.isInteger(e)?null:this._items[e]},clone:function(){var e=mt.__createInstance();return e._items=this._items.slice(),e._length=this.length,e.addIndexes(),e},addIndexes:function(){for(var e=0;e<this._items.length;e++)this[e]=this._items[e]},sortList:function(){return this._items.sort(),this.addIndexes(),this._items},forEach:function(e,t){this._items.forEach(e,t)},map:function(e,t){return this._items.map(e,t)},indexOf:function(e){return this._items.indexOf(e)},push:function(e){this._items.push(e),this._length++,this.sortList()},splice:function(){var e;for(var t in(e=this._items).splice.apply(e,arguments),this._length=this._items.length,this)t===String(Number.parseInt(t))&&delete this[t];this.sortList()}},Symbol.toStringTag,"DOMStringListPrototype"),o(gt,Symbol.iterator,regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=0;case 1:if(!(t<this._items.length)){e.next=6;break}return e.next=4,this._items[t++];case 4:e.next=1;break;case 6:case"end":return e.stop()}}),e,this)}))),gt),Object.defineProperty(mt,Symbol.hasInstance,{value:function(e){return"DOMStringListPrototype"==={}.toString.call(e)}});var _t=mt;Object.defineProperty(mt,"__createInstance",{value:function(){var e=function(){this.toString=function(){return"[object DOMStringList]"},Object.defineProperty(this,"length",{enumerable:!0,get:function(){return this._length}}),this._items=[],this._length=0};return e.prototype=_t.prototype,new e}}),yt&&(Object.defineProperty(mt,"prototype",{writable:!1}),["addIndexes","sortList","forEach","map","indexOf","push","splice","constructor","__createInstance"].forEach((function(e){Object.defineProperty(mt.prototype,e,{enumerable:!1})})),Object.defineProperty(mt.prototype,"length",{configurable:!0,enumerable:!0,get:function(){throw new TypeError("Illegal invocation")}}),["_items","_length"].forEach((function(e){Object.defineProperty(mt.prototype,e,{enumerable:!1,writable:!0})})));var vt=0,Et=["onabort","oncomplete","onerror"],St=["objectStoreNames","mode","db","error"];function wt(){throw new TypeError("Illegal constructor")}var Tt=wt;wt.__createInstance=function(e,t,r){function o(){var o=this,n=this;n[Symbol.toStringTag]="IDBTransaction",z(n,St),n.__id=++vt,n.__active=!0,n.__running=!1,n.__errored=!1,n.__requests=[],n.__objectStoreNames=t,n.__mode=r,n.__db=e,n.__error=null,n.__setOptions({legacyOutputDidListenersThrowFlag:!0}),St.forEach((function(e){Object.defineProperty(o,e,{configurable:!0})})),V(this,Et),n.__storeHandles={},setTimeout((function(){n.__executeRequests()}),0)}return o.prototype=Tt.prototype,new o},wt.prototype=A.createInstance({defaultSync:!0,extraProperties:["complete"]}),wt.prototype.__transFinishedCb=function(e,t){t(Boolean(e))},wt.prototype.__executeRequests=function(){var e=this;e.__running?O.DEBUG&&console.log("Looks like the request set is already running",e.mode):(e.__running=!0,e.db.__db["readonly"===e.mode?"readTransaction":"transaction"]((function(t){e.__tx=t;var r=null,o=-1;function n(t,o){if(!e.__errored&&!e.__requestsFinished&&(o&&(r.req=o),!r.req.__done)){r.req.__done=!0,r.req.__result=t,r.req.__error=null,e.__active=!0;var n=oe("success");if(r.req.dispatchEvent(n),n.__legacyOutputDidListenersThrowError)return le("Error","An error occurred in a success handler attached to request chain",n.__legacyOutputDidListenersThrowError),void e.__abortTransaction(he("AbortError","A request was aborted (in user handler after success)."));s()}}function i(){if(!(e.__errored||e.__requestsFinished||r.req&&r.req.__done)){for(var t=arguments.length,o=new Array(t),n=0;n<t;n++)o[n]=arguments[n];var i=pe(o);if(r.req){r.req.__done=!0,r.req.__error=i,r.req.__result=void 0,r.req.addLateEventListener("error",(function(e){e.cancelable&&e.defaultPrevented&&!e.__legacyOutputDidListenersThrowError&&s()})),r.req.addDefaultEventListener("error",(function(){e.__abortTransaction(r.req.__error)})),e.__active=!0;var a=oe("error",i,{bubbles:!0,cancelable:!0});r.req.dispatchEvent(a),a.__legacyOutputDidListenersThrowError&&(le("Error","An error occurred in an error handler attached to request chain",a.__legacyOutputDidListenersThrowError),a.preventDefault(),e.__abortTransaction(he("AbortError","A request was aborted (in user handler after error).")))}else e.__abortTransaction(i)}}function s(){if(!e.__errored&&!e.__requestsFinished)if(++o>=e.__requests.length)e.__requests=[],e.__active&&function(){function t(){e.__completed=!0,O.DEBUG&&console.log("Transaction completed");var t=oe("complete");try{e.__internal=!0,e.dispatchEvent(t),e.__internal=!1,e.dispatchEvent(oe("__complete"))}catch(t){throw e.__internal=!1,e.__errored=!0,t}finally{e.__storeHandles={}}}if(e.__active=!1,e.__requestsFinished=!0,"readwrite"===e.mode)return e.__transactionFinished?void t():void(e.__transactionEndCallback=t);if("readonly"!==e.mode){var r=oe("__beforecomplete");r.complete=t,e.dispatchEvent(r)}else t()}();else try{if(!(r=e.__requests[o]).req)return void r.op(t,r.args,s,i);if(r.req.__done)return;r.op(t,r.args,n,i,s)}catch(e){i(e)}}s()}),(function(t){if(!0!==t){var r=ge(t);e.__abortTransaction(r)}}),(function(){e.__transFinishedCb===wt.prototype.__transFinishedCb&&(e.__transactionEndCallback||e.__requestsFinished?e.__transactionEndCallback&&!e.__completed&&e.__transFinishedCb(e.__errored,e.__transactionEndCallback):e.__transactionFinished=!0)}),(function(t,r,o,n,i){return!(!t.readOnly&&!r&&(e.__transFinishedCb=function(e,t){e?n(e,t):i(t)},e.__transactionEndCallback&&!e.__completed&&e.__transFinishedCb(e.__errored,e.__transactionEndCallback),1))})))},wt.prototype.__createRequest=function(e){var t=ve.__createInstance();return t.__source=void 0!==e?e:this.db,t.__transaction=this,t},wt.prototype.__addToTransactionQueue=function(e,t,r){var o=this.__createRequest(r);return this.__pushToQueue(o,e,t),o},wt.prototype.__addNonRequestToTransactionQueue=function(e,t,r){this.__pushToQueue(null,e,t)},wt.prototype.__pushToQueue=function(e,t,r){this.__assertActive(),this.__requests.push({op:t,args:r,req:e})},wt.prototype.__assertActive=function(){if(!this.__active)throw he("TransactionInactiveError","A request was placed against a transaction which is currently not active, or which is finished")},wt.prototype.__assertWritable=function(){if("readonly"===this.mode)throw he("ReadOnlyError","The transaction is read only")},wt.prototype.__assertVersionChange=function(){wt.__assertVersionChange(this)},wt.prototype.objectStore=function(e){var t=this;if(!(t instanceof wt))throw new TypeError("Illegal invocation");if(0===arguments.length)throw new TypeError("No object store name was specified");if(wt.__assertNotFinished(t),-1===t.__objectStoreNames.indexOf(e))throw he("NotFoundError",e+" is not participating in this transaction");var r=t.db.__objectStores[e];if(!r)throw he("NotFoundError",e+" does not exist in "+t.db.name);return(!t.__storeHandles[e]||t.__storeHandles[e].__pendingDelete||t.__storeHandles[e].__deleted)&&(t.__storeHandles[e]=Fr.__clone(r,t)),t.__storeHandles[e]},wt.prototype.__abortTransaction=function(e){var t=this;function r(r,o){r?o&&"number"==typeof o.code?O.DEBUG&&console.log("Rollback erred; feature is probably not supported as per WebSQL",t):O.DEBUG&&console.log("Rollback succeeded",t):O.DEBUG&&console.log("Rollback not possible due to missing transaction",t),t.dispatchEvent(oe("__preabort")),t.__requests.filter((function(e,t,r){return e.req&&!e.req.__done&&[t,-1].includes(r.map((function(e){return e.req})).lastIndexOf(e.req))})).reduce((function(e,t){return e.then((function(){t.req.__done=!0,t.req.__result=void 0,t.req.__error=he("AbortError","A request was aborted (an unfinished request).");var e=oe("error",t.req.__error,{bubbles:!0,cancelable:!0});return new Oe((function(r){setTimeout((function(){t.req.dispatchEvent(e),r()}))}))}))}),Oe.resolve()).then((function(){var r=oe("abort",e,{bubbles:!0,cancelable:!1});setTimeout((function(){t.__abortFinished=!0,t.dispatchEvent(r),t.__storeHandles={},t.dispatchEvent(oe("__abort"))}))})).catch((function(e){throw console.log("Abort error"),e}))}le("Error","An error occurred in a transaction",e),t.__errored||(t.__errored=!0,"versionchange"===t.mode&&(t.db.__version=t.db.__oldVersion,t.db.__objectStoreNames=t.db.__oldObjectStoreNames,t.__objectStoreNames=t.db.__oldObjectStoreNames,Object.values(t.db.__objectStores).concat(Object.values(t.__storeHandles)).forEach((function(e){"__pendingName"in e&&t.db.__oldObjectStoreNames.indexOf(e.__pendingName)>-1&&(e.__name=e.__originalName),e.__indexNames=e.__oldIndexNames,delete e.__pendingDelete,Object.values(e.__indexes).concat(Object.values(e.__indexHandles)).forEach((function(t){"__pendingName"in t&&e.__oldIndexNames.indexOf(t.__pendingName)>-1&&(t.__name=t.__originalName),delete t.__pendingDelete}))}))),t.__active=!1,null!==e&&(t.__error=e),t.__requestsFinished&&setTimeout((function(){throw e}),0),t.__transFinishedCb(!0,(function(e){if(e&&t.__tx){if("readwrite"===t.mode)return t.__transactionFinished?void r():void(t.__transactionEndCallback=r);try{t.__tx.executeSql("ROLLBACK",[],r,r)}catch(e){r()}}else r(null,{code:0})})))},wt.prototype.abort=function(){var e=this;if(!(e instanceof wt))throw new TypeError("Illegal invocation");O.DEBUG&&console.log("The transaction was aborted",e),wt.__assertNotFinished(e),e.__abortTransaction(null)},wt.prototype[Symbol.toStringTag]="IDBTransactionPrototype",wt.__assertVersionChange=function(e){if(!e||"versionchange"!==e.mode)throw he("InvalidStateError","Not a version transaction")},wt.__assertNotVersionChange=function(e){if(e&&"versionchange"===e.mode)throw he("InvalidStateError","Cannot be called during a version transaction")},wt.__assertNotFinished=function(e){if(!e||e.__completed||e.__abortFinished||e.__errored)throw he("InvalidStateError","Transaction finished by commit or abort")},wt.__assertNotFinishedObjectStoreMethod=function(e){try{wt.__assertNotFinished(e)}catch(t){if(e&&!e.__completed&&!e.__abortFinished)throw he("TransactionInactiveError","A request was placed against a transaction which is currently not active, or which is finished");throw t}},wt.__assertActive=function(e){if(!e||!e.__active)throw he("TransactionInactiveError","A request was placed against a transaction which is currently not active, or which is finished")},wt.prototype.__getParent=function(){return this.db},G(wt.prototype,Et),H(wt.prototype,St),Object.defineProperty(wt.prototype,"constructor",{enumerable:!1,writable:!0,configurable:!0,value:wt}),Object.defineProperty(wt,"prototype",{writable:!1});for(var Rt,At=(function(t,r){t.exports=function(){function t(r){return(t="function"==typeof Symbol&&"symbol"===e(Symbol.iterator)?function(t){return e(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":e(t)})(r)}function r(e,t,r,o,n,i,s){try{var a=e[i](s),u=a.value}catch(e){return void r(e)}a.done?t(u):Promise.resolve(u).then(o,n)}function o(e){return function(){var t=this,o=arguments;return new Promise((function(n,i){var s=e.apply(t,o);function a(e){r(s,n,i,a,u,"next",e)}function u(e){r(s,n,i,a,u,"throw",e)}a(void 0)}))}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var r=[],o=!0,n=!1,i=void 0;try{for(var s,a=e[Symbol.iterator]();!(o=(s=a.next()).done)&&(r.push(s.value),!t||r.length!==t);o=!0);}catch(e){n=!0,i=e}finally{try{o||null==a.return||a.return()}finally{if(n)throw i}}return r}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var c=function e(t){n(this,e),this.p=new Promise(t)};c.__typeson__type__="TypesonPromise","undefined"!=typeof Symbol&&(c.prototype[Symbol.toStringTag]="TypesonPromise"),c.prototype.then=function(e,t){var r=this;return new c((function(o,n){r.p.then((function(t){o(e?e(t):t)})).catch((function(e){return t?t(e):Promise.reject(e)})).then(o,n)}))},c.prototype.catch=function(e){return this.then(null,e)},c.resolve=function(e){return new c((function(t){t(e)}))},c.reject=function(e){return new c((function(t,r){r(e)}))},["all","race"].forEach((function(e){c[e]=function(t){return new c((function(r,o){Promise[e](t.map((function(e){return e&&e.constructor&&"TypesonPromise"===e.constructor.__typeson__type__?e.p:e}))).then(r,o)}))}}));var p={}.toString,g={}.hasOwnProperty,d=Object.getPrototypeOf,f=g.toString;function h(e,t){return _(e)&&"function"==typeof e.then&&(!t||"function"==typeof e.catch)}function y(e){return p.call(e).slice(8,-1)}function b(e,r){if(!e||"object"!==t(e))return!1;var o=d(e);if(!o)return null===r;var n=g.call(o,"constructor")&&o.constructor;return"function"!=typeof n?null===r:r===n||null!==r&&f.call(n)===f.call(r)||"function"==typeof r&&"string"==typeof n.__typeson__type__&&n.__typeson__type__===r.__typeson__type__}function m(e){return!(!e||"Object"!==y(e))&&(!d(e)||b(e,Object))}function _(e){return e&&"object"===t(e)}function v(e){return e.replace(/~/g,"~0").replace(/\./g,"~1")}function E(e){return e.replace(/~1/g,".").replace(/~0/g,"~")}function S(e,t){if(""===t)return e;var r=t.indexOf(".");if(r>-1){var o=e[E(t.slice(0,r))];return void 0===o?void 0:S(o,t.slice(r+1))}return e[E(t)]}function w(e,t,r){if(""===t)return r;var o=t.indexOf(".");return o>-1?w(e[E(t.slice(0,o))],t.slice(o+1),r):(e[E(t)]=r,e)}var T=Object.keys,R=Array.isArray,A={}.hasOwnProperty,D=["type","replaced","iterateIn","iterateUnsetNumeric"];function O(e,t){if(""===e.keypath)return-1;var r=e.keypath.match(/\./g)||0,o=t.keypath.match(/\./g)||0;return r&&(r=r.length),o&&(o=o.length),r>o?-1:r<o?1:e.keypath<t.keypath?-1:e.keypath>t.keypath}var P=function(){function e(t){n(this,e),this.options=t,this.plainObjectReplacers=[],this.nonplainObjectReplacers=[],this.revivers={},this.types={}}return function(e,t,r){t&&i(e.prototype,t)}(e,[{key:"stringify",value:function(e,t,r,o){o=u({},this.options,{},o,{stringification:!0});var n=this.encapsulate(e,null,o);return R(n)?JSON.stringify(n[0],t,r):n.then((function(e){return JSON.stringify(e,t,r)}))}},{key:"stringifySync",value:function(e,t,r,o){return this.stringify(e,t,r,u({throwOnBadSyncType:!0},o,{sync:!0}))}},{key:"stringifyAsync",value:function(e,t,r,o){return this.stringify(e,t,r,u({throwOnBadSyncType:!0},o,{sync:!1}))}},{key:"parse",value:function(e,t,r){return r=u({},this.options,{},r,{parse:!0}),this.revive(JSON.parse(e,t),r)}},{key:"parseSync",value:function(e,t,r){return this.parse(e,t,u({throwOnBadSyncType:!0},r,{sync:!0}))}},{key:"parseAsync",value:function(e,t,r){return this.parse(e,t,u({throwOnBadSyncType:!0},r,{sync:!1}))}},{key:"specialTypeNames",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r.returnTypeNames=!0,this.encapsulate(e,t,r)}},{key:"rootTypeName",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r.iterateNone=!0,this.encapsulate(e,t,r)}},{key:"encapsulate",value:function(r,n,i){var s=(i=u({sync:!0},this.options,{},i)).sync,a=this,p={},g=[],d=[],f=[],h=!("cyclic"in i)||i.cyclic,y=i.encapsulateObserver,E=I("",r,h,n||{},f);function S(t){var r=Object.values(p);if(i.iterateNone)return r.length?r[0]:e.getJSONType(t);if(r.length){if(i.returnTypeNames)return function(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}(new Set(r));t&&m(t)&&!A.call(t,"$types")?t.$types=p:t={$:t,$types:{$:p}}}else _(t)&&A.call(t,"$types")&&(t={$:t,$types:!0});return!i.returnTypeNames&&t}function w(e,t){return O.apply(this,arguments)}function O(){return(O=o(regeneratorRuntime.mark((function e(t,r){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(r.map((function(e){return e[1].p})));case 2:return n=e.sent,e.next=5,Promise.all(n.map(function(){var e=o(regeneratorRuntime.mark((function e(o){var n,i,s,a,u,p,g,d,f,h,y,m,_,v;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=[],i=r.splice(0,1),s=l(i,1),a=s[0],u=l(a,7),p=u[0],g=u[2],d=u[3],f=u[4],h=u[5],y=u[6],m=I(p,o,g,d,n,!0,y),_=b(m,c),!p||!_){e.next=11;break}return e.next=8,m.p;case 8:return v=e.sent,f[h]=v,e.abrupt("return",w(t,n));case 11:return p?f[h]=m:t=_?m.p:m,e.abrupt("return",w(t,n));case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:return e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(e,t,r){Object.assign(e,t);var o=D.map((function(t){var r=e[t];return delete e[t],r}));r(),D.forEach((function(t,r){e[t]=o[r]}))}function I(r,o,n,s,u,l,f){var h,_={},E=t(o),S=y?function(t){var i=f||s.type||e.getJSONType(o);y(Object.assign(t||_,{keypath:r,value:o,cyclic:n,stateObj:s,promisesData:u,resolvingTypesonPromise:l,awaitingTypesonPromise:b(o,c)},{type:i}))}:null;if(["string","boolean","number","undefined"].includes(E))return void 0===o||"number"===E&&(isNaN(o)||o===-1/0||o===1/0)?(h=s.replaced?o:C(r,o,s,u,!1,l,S))!==o&&(_={replaced:h}):h=o,S&&S(),h;if(null===o)return S&&S(),o;if(n&&!s.iterateIn&&!s.iterateUnsetNumeric&&o&&"object"===t(o)){var w=g.indexOf(o);if(!(w<0))return p[r]="#",S&&S({cyclicKeypath:d[w]}),"#"+d[w];!0===n&&(g.push(o),d.push(r))}var D,O=m(o),B=R(o),j=(O||B)&&(!a.plainObjectReplacers.length||s.replaced)||s.iterateIn?o:C(r,o,s,u,O||B,null,S);if(j!==o?(h=j,_={replaced:j}):""===r&&b(o,c)?(u.push([r,o,n,s,void 0,void 0,s.type]),h=o):B&&"object"!==s.iterateIn||"array"===s.iterateIn?(D=new Array(o.length),_={clone:D}):(["function","symbol"].includes(t(o))||"toJSON"in o||b(o,c)||b(o,Promise)||b(o,ArrayBuffer))&&!O&&"object"!==s.iterateIn?h=o:(D={},s.addLength&&(D.length=o.length),_={clone:D}),S&&S(),i.iterateNone)return D||h;if(!D)return h;if(s.iterateIn){var N=function(e){var t={ownKeys:A.call(o,e)};P(s,t,(function(){var t=r+(r?".":"")+v(e),i=I(t,o[e],Boolean(n),s,u,l);b(i,c)?u.push([t,i,Boolean(n),s,D,e,s.type]):void 0!==i&&(D[e]=i)}))};for(var F in o)N(F);S&&S({endIterateIn:!0,end:!0})}else T(o).forEach((function(e){var t=r+(r?".":"")+v(e);P(s,{ownKeys:!0},(function(){var r=I(t,o[e],Boolean(n),s,u,l);b(r,c)?u.push([t,r,Boolean(n),s,D,e,s.type]):void 0!==r&&(D[e]=r)}))})),S&&S({endIterateOwn:!0,end:!0});if(s.iterateUnsetNumeric){for(var M=o.length,x=function(e){if(!(e in o)){var t=r+(r?".":"")+e;P(s,{ownKeys:!1},(function(){var r=I(t,void 0,Boolean(n),s,u,l);b(r,c)?u.push([t,r,Boolean(n),s,D,e,s.type]):void 0!==r&&(D[e]=r)}))}},L=0;L<M;L++)x(L);S&&S({endIterateUnsetNumeric:!0,end:!0})}return D}function C(e,t,r,o,n,i,u){for(var l=n?a.plainObjectReplacers:a.nonplainObjectReplacers,c=l.length;c--;){var g=l[c];if(g.test(t,r)){var d=g.type;if(a.revivers[d]){var f=p[e];p[e]=f?[d].concat(f):d}return Object.assign(r,{type:d,replaced:!0}),!s&&g.replaceAsync||g.replace?(u&&u({replacing:!0}),I(e,g[s||!g.replaceAsync?"replace":"replaceAsync"](t,r),h&&"readonly",r,o,i,d)):(u&&u({typeDetected:!0}),I(e,t,h&&"readonly",r,o,i,d))}}return t}return f.length?s&&i.throwOnBadSyncType?function(){throw new TypeError("Sync method requested but async result obtained")}():Promise.resolve(w(E,f)).then(S):!s&&i.throwOnBadSyncType?function(){throw new TypeError("Async method requested but sync result obtained")}():i.stringification&&s?[S(E)]:s?S(E):Promise.resolve(S(E))}},{key:"encapsulateSync",value:function(e,t,r){return this.encapsulate(e,t,u({throwOnBadSyncType:!0},r,{sync:!0}))}},{key:"encapsulateAsync",value:function(e,t,r){return this.encapsulate(e,t,u({throwOnBadSyncType:!0},r,{sync:!1}))}},{key:"revive",value:function(e,t){var r=e&&e.$types;if(!r)return e;if(!0===r)return e.$;var o=(t=u({sync:!0},this.options,{},t)).sync,n=[],i={},s=!0;r.$&&m(r.$)&&(e=e.$,r=r.$,s=!1);var a=this;function p(e,t){var r=l(a.revivers[e]||[],1)[0];if(!r)throw new Error("Unregistered type: "+e);return o&&!("revive"in r)?t:r[o&&r.revive?"revive":!o&&r.reviveAsync?"reviveAsync":"revive"](t,i)}var g=[];function d(e){return b(e,I)?void 0:e}var f,y=function(){var t=[];if(Object.entries(r).forEach((function(e){var o=l(e,2),n=o[0],i=o[1];"#"!==i&&[].concat(i).forEach((function(e){l(a.revivers[e]||[null,{}],2)[1].plain&&(t.push({keypath:n,type:e}),delete r[n])}))})),t.length)return t.sort(O).reduce((function t(r,o){var n=o.keypath,i=o.type;if(h(r))return r.then((function(e){return t(e,{keypath:n,type:i})}));var s=S(e,n);if(b(s=p(i,s),c))return s.then((function(t){var r=w(e,n,t);r===t&&(e=r)}));var a=w(e,n,s);a===s&&(e=a)}),void 0)}();return b(y,c)?f=y.then((function(){return e})):(f=function e(t,o,i,a,u){if(!s||"$types"!==t){var d=r[t],f=R(o);if(f||m(o)){var h=f?new Array(o.length):{};for(T(o).forEach((function(r){var n=e(t+(t?".":"")+v(r),o[r],i||h,h,r),s=function(e){return b(e,I)?h[r]=void 0:void 0!==e&&(h[r]=e),e};b(n,c)?g.push(n.then((function(e){return s(e)}))):s(n)})),o=h;n.length;){var y=l(n[0],4),_=y[0],E=y[1],w=y[2],A=y[3],D=S(_,E);if(void 0===D)break;w[A]=D,n.splice(0,1)}}if(!d)return o;if("#"===d){var O=S(i,o.slice(1));return void 0===O&&n.push([i,o.slice(1),a,u]),O}return[].concat(d).reduce((function e(t,r){return b(t,c)?t.then((function(t){return e(t,r)})):p(r,t)}),o)}}("",e,null),g.length&&(f=c.resolve(f).then((function(e){return c.all([e].concat(g))})).then((function(e){return l(e,1)[0]})))),h(f)?o&&t.throwOnBadSyncType?function(){throw new TypeError("Sync method requested but async result obtained")}():b(f,c)?f.p.then(d):f:!o&&t.throwOnBadSyncType?function(){throw new TypeError("Async method requested but sync result obtained")}():o?d(f):Promise.resolve(d(f))}},{key:"reviveSync",value:function(e,t){return this.revive(e,u({throwOnBadSyncType:!0},t,{sync:!0}))}},{key:"reviveAsync",value:function(e,t){return this.revive(e,u({throwOnBadSyncType:!0},t,{sync:!1}))}},{key:"register",value:function(t,r){return r=r||{},[].concat(t).forEach((function t(o){var n=this;if(R(o))return o.map((function(e){return t.call(n,e)}));o&&T(o).forEach((function(t){if("#"===t)throw new TypeError("# cannot be used as a type name as it is reserved for cyclic objects");if(e.JSON_TYPES.includes(t))throw new TypeError("Plain JSON object types are reserved as type names");var n=o[t],i=n&&n.testPlainObjects?this.plainObjectReplacers:this.nonplainObjectReplacers,s=i.filter((function(e){return e.type===t}));if(s.length&&(i.splice(i.indexOf(s[0]),1),delete this.revivers[t],delete this.types[t]),"function"==typeof n){var a=n;n={test:function(e){return e&&e.constructor===a},replace:function(e){return u({},e)},revive:function(e){return Object.assign(Object.create(a.prototype),e)}}}else if(R(n)){var c=l(n,3);n={test:c[0],replace:c[1],revive:c[2]}}if(n&&n.test){var p={type:t,test:n.test.bind(n)};n.replace&&(p.replace=n.replace.bind(n)),n.replaceAsync&&(p.replaceAsync=n.replaceAsync.bind(n));var g="number"==typeof r.fallback?r.fallback:r.fallback?0:1/0;if(n.testPlainObjects?this.plainObjectReplacers.splice(g,0,p):this.nonplainObjectReplacers.splice(g,0,p),n.revive||n.reviveAsync){var d={};n.revive&&(d.revive=n.revive.bind(n)),n.reviveAsync&&(d.reviveAsync=n.reviveAsync.bind(n)),this.revivers[t]=[d,{plain:n.testPlainObjects}]}this.types[t]=n}}),this)}),this),this}}]),e}(),I=function e(){n(this,e)};return I.__typeson__type__="TypesonUndefined",P.Undefined=I,P.Promise=c,P.isThenable=h,P.toStringTag=y,P.hasConstructorOf=b,P.isObject=_,P.isPlainObject=m,P.isUserObject=function e(t){if(!t||"Object"!==y(t))return!1;var r=d(t);return!r||b(t,Object)||e(r)},P.escapeKeyPathComponent=v,P.unescapeKeyPathComponent=E,P.getByKeyPath=S,P.getJSONType=function(e){return null===e?"null":Array.isArray(e)?"array":t(e)},P.JSON_TYPES=["null","boolean","number","string","array","object"],P}()}(Rt={path:void 0,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==t&&Rt.path)}},Rt.exports),Rt.exports),Dt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ot=new Uint8Array(256),Pt=0;Pt<Dt.length;Pt++)Ot[Dt.charCodeAt(Pt)]=Pt;var It=function(e,t,r){null==r&&(r=e.byteLength);for(var o=new Uint8Array(e,t||0,r),n=o.length,i="",s=0;s<n;s+=3)i+=Dt[o[s]>>2],i+=Dt[(3&o[s])<<4|o[s+1]>>4],i+=Dt[(15&o[s+1])<<2|o[s+2]>>6],i+=Dt[63&o[s+2]];return n%3==2?i=i.slice(0,-1)+"=":n%3==1&&(i=i.slice(0,-2)+"=="),i},Ct=function(e){var t,r,o,n,i=e.length,s=.75*e.length,a=0;"="===e[e.length-1]&&(s--,"="===e[e.length-2]&&s--);for(var u=new ArrayBuffer(s),l=new Uint8Array(u),c=0;c<i;c+=4)t=Ot[e.charCodeAt(c)],r=Ot[e.charCodeAt(c+1)],o=Ot[e.charCodeAt(c+2)],n=Ot[e.charCodeAt(c+3)],l[a++]=t<<2|r>>4,l[a++]=(15&r)<<4|o>>2,l[a++]=(3&o)<<6|63&n;return u},Bt={arraybuffer:{test:function(e){return"ArrayBuffer"===At.toStringTag(e)},replace:function(e,t){t.buffers||(t.buffers=[]);var r=t.buffers.indexOf(e);return r>-1?{index:r}:(t.buffers.push(e),It(e))},revive:function(t,r){if(r.buffers||(r.buffers=[]),"object"===e(t))return r.buffers[t.index];var o=Ct(t);return r.buffers.push(o),o}}},jt={bigintObject:{test:function(t){return"object"===e(t)&&At.hasConstructorOf(t,BigInt)},replace:function(e){return String(e)},revive:function(e){return new Object(BigInt(e))}}},Nt={bigint:{test:function(e){return"bigint"==typeof e},replace:function(e){return String(e)},revive:function(e){return BigInt(e)}}};function Ft(e){for(var t=new Uint8Array(e.length),r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t.buffer}var Mt={blob:{test:function(e){return"Blob"===At.toStringTag(e)},replace:function(e){var t=new XMLHttpRequest;if(t.overrideMimeType("text/plain; charset=x-user-defined"),t.open("GET",URL.createObjectURL(e),!1),t.send(),200!==t.status&&0!==t.status)throw new Error("Bad Blob access: "+t.status);return{type:e.type,stringContents:t.responseText}},revive:function(e){var t=e.type,r=e.stringContents;return new Blob([Ft(r)],{type:t})},replaceAsync:function(e){return new At.Promise((function(t,r){var o=new FileReader;o.addEventListener("load",(function(){t({type:e.type,stringContents:o.result})})),o.addEventListener("error",(function(){r(o.error)})),o.readAsBinaryString(e)}))}}};function xt(){var e=(new Date).getTime()+("undefined"!=typeof performance&&"function"==typeof performance.now?performance.now():0);return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var r=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"===t?r:3&r|8).toString(16)}))}var Lt={},kt={cloneable:{test:function(t){return t&&"object"===e(t)&&"function"==typeof t[Symbol.for("cloneEncapsulate")]},replace:function(e){var t=e[Symbol.for("cloneEncapsulate")](),r=xt();return Lt[r]=e,{uuid:r,encapsulated:t}},revive:function(e){var t=e.uuid,r=e.encapsulated;return Lt[t][Symbol.for("cloneRevive")](r)}}},Ut={cryptokey:{test:function(e){return"CryptoKey"===At.toStringTag(e)&&e.extractable},replaceAsync:function(e){return new At.Promise((function(t,r){crypto.subtle.exportKey("jwk",e).catch((function(e){r(e)})).then((function(r){t({jwk:r,algorithm:e.algorithm,usages:e.usages})}))}))},revive:function(e){var t=e.jwk,r=e.algorithm,o=e.usages;return crypto.subtle.importKey("jwk",t,r,!0,o)}}},qt={dataview:{test:function(e){return"DataView"===At.toStringTag(e)},replace:function(e,t){var r=e.buffer,o=e.byteOffset,n=e.byteLength;t.buffers||(t.buffers=[]);var i=t.buffers.indexOf(r);return i>-1?{index:i,byteOffset:o,byteLength:n}:(t.buffers.push(r),{encoded:It(r),byteOffset:o,byteLength:n})},revive:function(e,t){t.buffers||(t.buffers=[]);var r,o=e.byteOffset,n=e.byteLength,i=e.encoded,s=e.index;return"index"in e?r=t.buffers[s]:(r=Ct(i),t.buffers.push(r)),new DataView(r,o,n)}}},$t={date:{test:function(e){return"Date"===At.toStringTag(e)},replace:function(e){var t=e.getTime();return Number.isNaN(t)?"NaN":t},revive:function(e){return"NaN"===e?new Date(Number.NaN):new Date(e)}}},Wt={error:{test:function(e){return"Error"===At.toStringTag(e)},replace:function(e){return{name:e.name,message:e.message}},revive:function(e){var t=e.name,r=e.message,o=new Error(r);return o.name=t,o}}},Gt="undefined"==typeof self?h:self,Ht={};["TypeError","RangeError","SyntaxError","ReferenceError","EvalError","URIError","InternalError"].forEach((function(e){var t=Gt[e];t&&(Ht[e.toLowerCase()]={test:function(e){return At.hasConstructorOf(e,t)},replace:function(e){return e.message},revive:function(e){return new t(e)}})}));var Vt={file:{test:function(e){return"File"===At.toStringTag(e)},replace:function(e){var t=new XMLHttpRequest;if(t.overrideMimeType("text/plain; charset=x-user-defined"),t.open("GET",URL.createObjectURL(e),!1),t.send(),200!==t.status&&0!==t.status)throw new Error("Bad File access: "+t.status);return{type:e.type,stringContents:t.responseText,name:e.name,lastModified:e.lastModified}},revive:function(e){var t=e.name,r=e.type,o=e.stringContents,n=e.lastModified;return new File([Ft(o)],t,{type:r,lastModified:n})},replaceAsync:function(e){return new At.Promise((function(t,r){var o=new FileReader;o.addEventListener("load",(function(){t({type:e.type,stringContents:o.result,name:e.name,lastModified:e.lastModified})})),o.addEventListener("error",(function(){r(o.error)})),o.readAsBinaryString(e)}))}}},zt={file:Vt.file,filelist:{test:function(e){return"FileList"===At.toStringTag(e)},replace:function(e){for(var t=[],r=0;r<e.length;r++)t[r]=e.item(r);return t},revive:function(e){return new(function(){function e(){t(this,e),this._files=arguments[0],this.length=this._files.length}var r,o;return r=e,(o=[{key:"item",value:function(e){return this._files[e]}},{key:Symbol.toStringTag,get:function(){return"FileList"}}])&&function(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}(r.prototype,o),e}())(e)}}},Kt={imagebitmap:{test:function(e){return"ImageBitmap"===At.toStringTag(e)||e&&e.dataset&&"ImageBitmap"===e.dataset.toStringTag},replace:function(e){var t=document.createElement("canvas");return t.getContext("2d").drawImage(e,0,0),t.toDataURL()},revive:function(e){var t=document.createElement("canvas"),r=t.getContext("2d"),o=document.createElement("img");return o.addEventListener("load",(function(){r.drawImage(o,0,0)})),o.src=e,t},reviveAsync:function(e){var t=document.createElement("canvas"),r=t.getContext("2d"),o=document.createElement("img");return o.addEventListener("load",(function(){r.drawImage(o,0,0)})),o.src=e,createImageBitmap(t)}}},Yt={imagedata:{test:function(e){return"ImageData"===At.toStringTag(e)},replace:function(e){return{array:c(e.data),width:e.width,height:e.height}},revive:function(e){return new ImageData(new Uint8ClampedArray(e.array),e.width,e.height)}}},Jt={infinity:{test:function(e){return e===1/0},replace:function(e){return"Infinity"},revive:function(e){return 1/0}}},Xt={IntlCollator:{test:function(e){return At.hasConstructorOf(e,Intl.Collator)},replace:function(e){return e.resolvedOptions()},revive:function(e){return new Intl.Collator(e.locale,e)}},IntlDateTimeFormat:{test:function(e){return At.hasConstructorOf(e,Intl.DateTimeFormat)},replace:function(e){return e.resolvedOptions()},revive:function(e){return new Intl.DateTimeFormat(e.locale,e)}},IntlNumberFormat:{test:function(e){return At.hasConstructorOf(e,Intl.NumberFormat)},replace:function(e){return e.resolvedOptions()},revive:function(e){return new Intl.NumberFormat(e.locale,e)}}},Qt={map:{test:function(e){return"Map"===At.toStringTag(e)},replace:function(e){return c(e.entries())},revive:function(e){return new Map(e)}}},Zt={nan:{test:function(e){return Number.isNaN(e)},replace:function(e){return"NaN"},revive:function(e){return Number.NaN}}},er={negativeInfinity:{test:function(e){return e===-1/0},replace:function(e){return"-Infinity"},revive:function(e){return-1/0}}},tr={nonbuiltinIgnore:{test:function(t){return t&&"object"===e(t)&&!Array.isArray(t)&&!["Object","Boolean","Number","String","Error","RegExp","Math","Date","Map","Set","JSON","ArrayBuffer","SharedArrayBuffer","DataView","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","Promise","String Iterator","Array Iterator","Map Iterator","Set Iterator","WeakMap","WeakSet","Atomics","Module"].includes(At.toStringTag(t))},replace:function(e){}}},rr={StringObject:{test:function(t){return"String"===At.toStringTag(t)&&"object"===e(t)},replace:function(e){return String(e)},revive:function(e){return new String(e)}},BooleanObject:{test:function(t){return"Boolean"===At.toStringTag(t)&&"object"===e(t)},replace:function(e){return Boolean(e)},revive:function(e){return new Boolean(e)}},NumberObject:{test:function(t){return"Number"===At.toStringTag(t)&&"object"===e(t)},replace:function(e){return Number(e)},revive:function(e){return new Number(e)}}},or={regexp:{test:function(e){return"RegExp"===At.toStringTag(e)},replace:function(e){return{source:e.source,flags:(e.global?"g":"")+(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.sticky?"y":"")+(e.unicode?"u":"")}},revive:function(e){var t=e.source,r=e.flags;return new RegExp(t,r)}}},nr={},ir={resurrectable:{test:function(t){return t&&!Array.isArray(t)&&["object","function","symbol"].includes(e(t))},replace:function(e){var t=xt();return nr[t]=e,t},revive:function(e){return nr[e]}}},sr={set:{test:function(e){return"Set"===At.toStringTag(e)},replace:function(e){return c(e.values())},revive:function(e){return new Set(e)}}},ar="undefined"==typeof self?h:self,ur={};["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array"].forEach((function(e){var t=e,r=ar[e];r&&(ur[e.toLowerCase()]={test:function(e){return At.toStringTag(e)===t},replace:function(e){return(0===e.byteOffset&&e.byteLength===e.buffer.byteLength?e:e.slice(0)).buffer},revive:function(e){return"ArrayBuffer"===At.toStringTag(e)?new r(e):e}})}));var lr="undefined"==typeof self?h:self,cr={};["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array"].forEach((function(e){var t=e,r=lr[t];r&&(cr[e.toLowerCase()]={test:function(e){return At.toStringTag(e)===t},replace:function(e,t){var r=e.buffer,o=e.byteOffset,n=e.length;t.buffers||(t.buffers=[]);var i=t.buffers.indexOf(r);return i>-1?{index:i,byteOffset:o,length:n}:(t.buffers.push(r),{encoded:It(r),byteOffset:o,length:n})},revive:function(e,t){t.buffers||(t.buffers=[]);var o,n=e.byteOffset,i=e.length,s=e.encoded,a=e.index;return"index"in e?o=t.buffers[a]:(o=Ct(s),t.buffers.push(o)),new r(o,n,i)}})}));var pr={undef:{test:function(e,t){return void 0===e&&(t.ownKeys||!("ownKeys"in t))},replace:function(e){return 0},revive:function(e){return new At.Undefined}}},gr={userObject:{test:function(e,t){return At.isUserObject(e)},replace:function(e){return i({},e)},revive:function(e){return e}}},dr=[{arrayNonindexKeys:{testPlainObjects:!0,test:function(e,t){return!!Array.isArray(e)&&(Object.keys(e).some((function(e){return String(Number.parseInt(e))!==e}))&&(t.iterateIn="object",t.addLength=!0),!0)},replace:function(e,t){return t.iterateUnsetNumeric=!0,e},revive:function(e){if(Array.isArray(e))return e;var t=[];return Object.keys(e).forEach((function(r){var o=e[r];t[r]=o})),t}}},{sparseUndefined:{test:function(e,t){return void 0===e&&!1===t.ownKeys},replace:function(e){return 0},revive:function(e){}}}],fr=[Zt,Jt,er],hr=[pr,dr,rr,fr,$t,Wt,Ht,or].concat("function"==typeof Map?Qt:[],"function"==typeof Set?sr:[],"function"==typeof ArrayBuffer?Bt:[],"function"==typeof Uint8Array?cr:[],"function"==typeof DataView?qt:[],"undefined"!=typeof Intl?Xt:[],"undefined"!=typeof BigInt?[Nt,jt]:[]),yr=[Wt,Ht],br=[hr,{arraybuffer:null},ur],mr=[{sparseArrays:{testPlainObjects:!0,test:function(e){return Array.isArray(e)},replace:function(e,t){return t.iterateUnsetNumeric=!0,e}}},{sparseUndefined:{test:function(e,t){return void 0===e&&!1===t.ownKeys},replace:function(e){return 0},revive:function(e){}}}],_r=[gr,pr,dr,rr,fr,$t,or,Yt,Kt,Vt,zt,Mt].concat("function"==typeof Map?Qt:[],"function"==typeof Set?sr:[],"function"==typeof ArrayBuffer?Bt:[],"function"==typeof Uint8Array?cr:[],"function"==typeof DataView?qt:[],"undefined"!=typeof Intl?Xt:[],"undefined"!=typeof crypto?Ut:[],"undefined"!=typeof BigInt?[Nt,jt]:[]),vr=_r.concat({checkDataCloneException:{test:function(t){var r={}.toString.call(t).slice(8,-1);if(["symbol","function"].includes(e(t))||["Arguments","Module","Error","Promise","WeakMap","WeakSet","Event","MessageChannel"].includes(r)||t&&"object"===e(t)&&"number"==typeof t.nodeType&&"function"==typeof t.insertBefore)throw new DOMException("The object cannot be cloned.","DataCloneError");return!1}}}),Er=[mr,pr],Sr=[hr];At.types={arraybuffer:Bt,bigintObject:jt,bigint:Nt,blob:Mt,cloneable:kt,cryptokey:Ut,dataview:qt,date:$t,error:Wt,errors:Ht,file:Vt,filelist:zt,imagebitmap:Kt,imagedata:Yt,infinity:Jt,intlTypes:Xt,map:Qt,nan:Zt,negativeInfinity:er,nonbuiltinIgnore:tr,primitiveObjects:rr,regexp:or,resurrectable:ir,set:sr,typedArraysSocketio:ur,typedArrays:cr,undef:pr,userObject:gr},At.presets={arrayNonindexKeys:dr,builtin:hr,postmessage:yr,socketio:br,sparseUndefined:mr,specialNumbers:fr,structuredCloningThrowing:vr,structuredCloning:_r,undef:Er,universal:Sr};var wr=(new At).register(At.presets.structuredCloningThrowing);function Tr(e){wr=(new At).register(e(At.presets.structuredCloningThrowing))}function Rr(e,t){var r;try{r=wr.stringifySync(e)}catch(e){if(At.hasConstructorOf(e,ReferenceError)||At.hasConstructorOf(e,ye))throw he("DataCloneError","The object cannot be cloned.");throw e}return t&&t(r),r}function Ar(e){return wr.parse(e)}function Dr(e){return Ar(Rr(e))}var Or=Object.freeze({__proto__:null,encode:Rr,decode:Ar,clone:Dr,register:Tr}),Pr=["objectStore","keyPath","multiEntry","unique"];function Ir(){throw new TypeError("Illegal constructor")}var Cr=Ir;function Br(e,t,r,o,n,i,s,a,u,l,c,p,g){t&&(e=1),e&&a.push("LIMIT",e);var d="count"===i;O.DEBUG&&console.log("Trying to fetch data for Index",a.join(" "),u),l.executeSql(a.join(" "),u,(function(e,a){var u=[],l=0,c=d?function(){}:"key"===i?function(e){return rt(j(e.key))}:function(e){return Ar(j(e.value))};if(r.multiEntry)for(var g=k(r.name),f=tt(n,r.multiEntry),h=function(e){var r=a.rows.item(e),i=rt(r[g]),p=void 0;if(o&&(s&&n.some((function(e){return i.includes(e)}))||Ze(f,r[g]))?(l++,p=r):o||s||void 0!==i&&(l+=Array.isArray(i)?i.length:1,p=r),p&&(u.push(c(p)),t))return"break"},y=0;y<a.rows.length&&"break"!==h(y);y++);else{for(var b=0;b<a.rows.length;b++){var m=a.rows.item(b);m&&u.push(c(m))}l=u.length}p(d?l:0===l?t?void 0:[]:t?u[0]:u)}),g)}function jr(e,t,r,o,n){var i=e||!te(r),s=["SELECT",F("count"===o?"key":o)+(t.multiEntry?", "+L(t.name):""),"FROM",x(t.objectStore.__currentName),"WHERE",L(t.name),"NOT NULL"],a=[];return i&&(n?(s.push("AND ("),r.forEach((function(e,r){r>0&&s.push("OR"),s.push(L(t.name),"LIKE ? ESCAPE '^' "),a.push("%"+U(tt(e,t.multiEntry))+"%")})),s.push(")")):t.multiEntry?(s.push("AND",L(t.name),"LIKE ? ESCAPE '^'"),a.push("%"+U(tt(r,t.multiEntry))+"%")):ft(ht(r,e),L(t.name),s,a,!0,!1)),[e,t,i,r,o,n,s,a]}Ir.__createInstance=function(e,t){function r(){var r=this;r[Symbol.toStringTag]="IDBIndex",z(r,Pr),r.__objectStore=e,r.__name=r.__originalName=t.columnName,r.__keyPath=Array.isArray(t.keyPath)?t.keyPath.slice():t.keyPath;var o=t.optionalParams;r.__multiEntry=Boolean(o&&o.multiEntry),r.__unique=Boolean(o&&o.unique),r.__deleted=Boolean(t.__deleted),r.__objectStore.__cursors=t.cursors||[],Object.defineProperty(r,"__currentName",{get:function(){return"__pendingName"in r?r.__pendingName:r.name}}),Object.defineProperty(r,"name",{enumerable:!1,configurable:!1,get:function(){return this.__name},set:function(t){var r=this;t=Q(t);var o=r.name;if(wt.__assertVersionChange(r.objectStore.transaction),wt.__assertActive(r.objectStore.transaction),Cr.__invalidStateIfDeleted(r),Fr.__invalidStateIfDeleted(r),t!==o){if(r.objectStore.__indexes[t]&&!r.objectStore.__indexes[t].__deleted&&!r.objectStore.__indexes[t].__pendingDelete)throw he("ConstraintError",'Index "'+t+'" already exists on '+r.objectStore.__currentName);r.__name=t;var n=r.objectStore;delete n.__indexes[o],n.__indexes[t]=r,n.indexNames.splice(n.indexNames.indexOf(o),1,t);var i=n.transaction.__storeHandles[n.name],s=i.__indexHandles[o];s.__name=t,i.__indexHandles[t]=s,r.__pendingName=o;var a=[["key","BLOB "+(n.autoIncrement?"UNIQUE, inc INTEGER PRIMARY KEY AUTOINCREMENT":"PRIMARY KEY")],["value","BLOB"]].concat(c(n.indexNames).filter((function(e){return e!==t})).map((function(e){return[L(e),"BLOB"]})));r.__renameIndex(n,o,t,a,(function(t,r){Cr.__updateIndexList(e,t,(function(e){delete i.__pendingName,r(e)}))}))}}})}return r.prototype=Cr.prototype,new r},Ir.__invalidStateIfDeleted=function(e,t){if(e.__deleted||e.__pendingDelete||e.__pendingCreate&&e.objectStore.transaction&&e.objectStore.transaction.__errored)throw he("InvalidStateError",t||"This index has been deleted")},Ir.__clone=function(e,t){var r=Ir.__createInstance(t,{columnName:e.name,keyPath:e.keyPath,optionalParams:{multiEntry:e.multiEntry,unique:e.unique}});return["__pendingCreate","__pendingDelete","__deleted","__originalName","__recreated"].forEach((function(t){r[t]=e[t]})),r},Ir.__createIndex=function(e,t){var r=t.name,o=e.__currentName,n=e.__indexes[r];t.__pendingCreate=!0,e.indexNames.push(r),e.__indexes[r]=t;var i=e.__indexHandles[r];(!i||t.__pendingDelete||t.__deleted||i.__pendingDelete||i.__deleted)&&(i=e.__indexHandles[r]=Ir.__clone(t,e)),e.transaction.__addNonRequestToTransactionQueue((function(s,a,u,l){var c=n&&(n.__deleted||n.__recreated),p={};function g(e,t){l(he("UnknownError",'Could not create index "'+r+'"'+t.code+"::"+t.message,t))}function d(n){Ir.__updateIndexList(e,n,(function(){n.executeSql('SELECT "key", "value" FROM '+x(o),[],(function(n,s){O.DEBUG&&console.log("Adding existing "+o+" records to the "+r+" index"),function a(c){if(c<s.rows.length)try{var d=Ke(Ar(j(s.rows.item(c).value)),t.keyPath,t.multiEntry);if(d.invalid||d.failure)throw new Error("Go to catch; ignore bad indexKey");if(d=tt(d.value,t.multiEntry),t.unique){if(p[d])return p={},void l(he("ConstraintError","Duplicate values already exist within the store"));p[d]=!0}n.executeSql("UPDATE "+x(o)+" SET "+L(r)+' = ? WHERE "key" = ?',[B(d),s.rows.item(c).key],(function(e,t){a(c+1)}),g)}catch(e){a(c+1)}else delete t.__pendingCreate,delete i.__pendingCreate,t.__deleted&&(delete t.__deleted,delete i.__deleted,t.__recreated=!0,i.__recreated=!0),p={},u(e)}(0)}),g)}),g)}var f=x(o),h=L(t.name);if(c)d(s);else{var y=["ALTER TABLE",f,"ADD",h,"BLOB"].join(" ");O.DEBUG&&console.log(y),s.executeSql(y,[],(function(e){O.useSQLiteIndexes?e.executeSql('CREATE INDEX IF NOT EXISTS "'+f.slice(1,-1)+"^5"+h.slice(1,-1)+'" ON '+f+"("+h+")",[],d,g):d(e)}),g)}}),void 0,e)},Ir.__deleteIndex=function(e,t){t.__pendingDelete=!0;var r=e.__indexHandles[t.name];r&&(r.__pendingDelete=!0),e.indexNames.splice(e.indexNames.indexOf(t.name),1),e.transaction.__addNonRequestToTransactionQueue((function(o,n,i,s){function a(e,r){s(he("UnknownError",'Could not delete index "'+t.name+'"',r))}function u(){Ir.__updateIndexList(e,o,(function(e){delete t.__pendingDelete,delete t.__recreated,t.__deleted=!0,r&&(r.__deleted=!0,delete r.__pendingDelete),i(e)}),a)}O.useSQLiteIndexes?o.executeSql("DROP INDEX IF EXISTS "+F(x(e.name).slice(1,-1)+"^5"+L(t.name).slice(1,-1)),[],u,a):u()}),void 0,e)},Ir.__updateIndexList=function(e,t,r,o){for(var n={},i=0;i<e.indexNames.length;i++){var s=e.__indexes[e.indexNames[i]];n[s.name]={columnName:s.name,keyPath:s.keyPath,optionalParams:{unique:s.unique,multiEntry:s.multiEntry},deleted:Boolean(s.deleted)}}O.DEBUG&&console.log("Updating the index list for "+e.__currentName,n),t.executeSql('UPDATE __sys__ SET "indexList" = ? WHERE "name" = ?',[JSON.stringify(n),B(e.__currentName)],(function(){r(e)}),o)},Ir.prototype.__fetchIndexData=function(e,t,r,o){var n=this;if(void 0!==o&&(o=X(o,"unsigned long")),Ir.__invalidStateIfDeleted(n),Fr.__invalidStateIfDeleted(n.objectStore),n.objectStore.__deleted)throw he("InvalidStateError","This index's object store has been deleted");if(wt.__assertActive(n.objectStore.transaction),r&&te(e))throw he("DataError","No key or range was specified");var i=jr(r,n,e,t,!1);return n.objectStore.transaction.__addToTransactionQueue((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];Br.apply(void 0,[o].concat(c(i),t))}),void 0,n)},Ir.prototype.openCursor=function(){var e=this,t=Array.prototype.slice.call(arguments),r=t[0],o=t[1],n=co.__createInstance(r,o,e.objectStore,e,k(e.name),"value");return e.__objectStore.__cursors.push(n),n.__request},Ir.prototype.openKeyCursor=function(){var e=this,t=Array.prototype.slice.call(arguments),r=t[0],o=t[1],n=ao.__createInstance(r,o,e.objectStore,e,k(e.name),"key");return e.__objectStore.__cursors.push(n),n.__request},Ir.prototype.get=function(e){if(!arguments.length)throw new TypeError("A parameter was missing for `IDBIndex.get`.");return this.__fetchIndexData(e,"value",!0)},Ir.prototype.getKey=function(e){if(!arguments.length)throw new TypeError("A parameter was missing for `IDBIndex.getKey`.");return this.__fetchIndexData(e,"key",!0)},Ir.prototype.getAll=function(){var e=Array.prototype.slice.call(arguments),t=e[0],r=e[1];return this.__fetchIndexData(t,"value",!1,r)},Ir.prototype.getAllKeys=function(){var e=Array.prototype.slice.call(arguments),t=e[0],r=e[1];return this.__fetchIndexData(t,"key",!1,r)},Ir.prototype.count=function(){var e=this,t=arguments[0];return q(t,pt)?co.__createInstance(t,"next",e.objectStore,e,k(e.name),"value",!0).__request:e.__fetchIndexData(t,"count",!1)},Ir.prototype.__renameIndex=function(e,t,r){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i="BLOB",s=e.__currentName,a=x(s),u=L(r),l=F("tmp_"+x(s).slice(1,-1)),c=o.map((function(e){return e[0]})),p=o.map((function(e){return e.join(" ")})),g=p.length?p.join(", ")+", ":"",d=c.length?c.join(", ")+", ":"";e.transaction.__addNonRequestToTransactionQueue((function(e,r,o,s){function p(e,t){s(t)}function f(){n?n(e,o):o()}var h="CREATE TABLE "+l+"("+g+u+" "+i+")";O.DEBUG&&console.log(h),e.executeSql(h,[],(function(){var r="INSERT INTO "+l+"("+d+u+") SELECT "+d+L(t)+" FROM "+a;O.DEBUG&&console.log(r),e.executeSql(r,[],(function(){var t="DROP TABLE "+a;O.DEBUG&&console.log(t),e.executeSql(t,[],(function(){var t="ALTER TABLE "+l+" RENAME TO "+a;O.DEBUG&&console.log(t),e.executeSql(t,[],(function(e,t){if(O.useSQLiteIndexes){var r=c.slice(2).map((function(t){return new Oe((function(r,o){var n="CREATE INDEX "+F(a.slice(1,-1)+"^5"+t.slice(1,-1))+" ON "+a+"("+t+")";O.DEBUG&&console.log(n),e.executeSql(n,[],r,(function(e,t){o(t)}))}))}));r.push(new Oe((function(t,r){var o=F("sk_"+a.slice(1,-1)),n="DROP INDEX IF EXISTS "+o;O.DEBUG&&console.log(n),e.executeSql(n,[],(function(){var n="CREATE INDEX "+o+" ON "+a+'("key")';O.DEBUG&&console.log(n),e.executeSql(n,[],t,(function(e,t){r(t)}))}),(function(e,t){r(t)}))}))),Oe.all(r).then(f,s).catch((function(e){throw console.log("Index rename error"),e}))}else f()}),p)}),p)}),p)}),p)}))},Object.defineProperty(Ir,Symbol.hasInstance,{value:function(e){return $(e)&&"function"==typeof e.openCursor&&"boolean"==typeof e.multiEntry}}),H(Ir.prototype,Pr),G(Ir.prototype,["name"]),Ir.prototype[Symbol.toStringTag]="IDBIndexPrototype",Object.defineProperty(Ir,"prototype",{writable:!1});var Nr=["keyPath","indexNames","transaction","autoIncrement"];function Fr(){throw new TypeError("Illegal constructor")}var Mr=Fr;function xr(e){var t=function(e){return"/"===e.charAt(0)}(e),r="/"===Ur(e,-1);return(e=function(e,t){for(var r=0,o=e.length-1;o>=0;o--){var n=e[o];"."===n?e.splice(o,1):".."===n?(e.splice(o,1),r++):r&&(e.splice(o,1),r--)}if(t)for(;r--;r)e.unshift("..");return e}(kr(e.split("/"),(function(e){return!!e})),!t).join("/"))||t||(e="."),e&&r&&(e+="/"),(t?"/":"")+e}Fr.__createInstance=function(e,t){function r(){var r=this;r[Symbol.toStringTag]="IDBObjectStore",z(this,Nr),r.__name=r.__originalName=e.name,r.__keyPath=Array.isArray(e.keyPath)?e.keyPath.slice():e.keyPath,r.__transaction=t,r.__idbdb=e.idbdb,r.__cursors=e.cursors||[],r.__autoIncrement=Boolean(e.autoInc),r.__indexes={},r.__indexHandles={},r.__indexNames=mt.__createInstance();var o,n,i=e.indexList;for(var s in i)if(o=i,n=s,{}.hasOwnProperty.call(o,n)){var a=Ir.__createInstance(r,i[s]);r.__indexes[a.name]=a,a.__deleted||r.indexNames.push(a.name)}r.__oldIndexNames=r.indexNames.clone(),Object.defineProperty(this,"__currentName",{get:function(){return"__pendingName"in this?this.__pendingName:this.name}}),Object.defineProperty(this,"name",{enumerable:!1,configurable:!1,get:function(){return this.__name},set:function(e){var t=this;e=Q(e);var r=t.name;if(Mr.__invalidStateIfDeleted(t),wt.__assertVersionChange(t.transaction),wt.__assertActive(t.transaction),r!==e){if(t.__idbdb.__objectStores[e]&&!t.__idbdb.__objectStores[e].__pendingDelete)throw he("ConstraintError",'Object store "'+e+'" already exists in '+t.__idbdb.name);t.__name=e;var o=t.__idbdb.__objectStores[r];o.__name=e,t.__idbdb.__objectStores[e]=o,delete t.__idbdb.__objectStores[r],t.__idbdb.objectStoreNames.splice(t.__idbdb.objectStoreNames.indexOf(r),1,e);var n=t.transaction.__storeHandles[r];n.__name=e,t.transaction.__storeHandles[e]=n,t.__pendingName=r;var i='UPDATE __sys__ SET "name" = ? WHERE "name" = ?',s=[B(e),B(r)];O.DEBUG&&console.log(i,s),t.transaction.__addNonRequestToTransactionQueue((function(o,n,a,u){o.executeSql(i,s,(function(o,n){var i="ALTER TABLE "+x(r)+" RENAME TO "+x(e);O.DEBUG&&console.log(i),o.executeSql(i,[],(function(e,r){delete t.__pendingName,a()}))}),(function(e,t){u(t)}))}))}}})}return r.prototype=Mr.prototype,new r},Fr.__clone=function(e,t){var r=Fr.__createInstance({name:e.__currentName,keyPath:Array.isArray(e.keyPath)?e.keyPath.slice():e.keyPath,autoInc:e.autoIncrement,indexList:{},idbdb:e.__idbdb,cursors:e.__cursors},t);return["__indexes","__indexNames","__oldIndexNames","__deleted","__pendingDelete","__pendingCreate","__originalName"].forEach((function(t){r[t]=e[t]})),r},Fr.__invalidStateIfDeleted=function(e,t){if(e.__deleted||e.__pendingDelete||e.__pendingCreate&&e.transaction&&e.transaction.__errored)throw he("InvalidStateError",t||"This store has been deleted")},Fr.__createObjectStore=function(e,t){var r=t.__currentName;t.__pendingCreate=!0,e.__objectStores[r]=t,e.objectStoreNames.push(r);var o=e.__versionTransaction,n=o.__storeHandles;return(!n[r]||n[r].__pendingDelete||n[r].__deleted)&&(n[r]=Fr.__clone(t,o)),o.__addNonRequestToTransactionQueue((function(e,o,n,i){function s(e,t){O.DEBUG&&console.log(t),i(he("UnknownError",'Could not create object store "'+r+'"',t))}var a=x(r),u=["CREATE TABLE",a,"(key BLOB",t.autoIncrement?"UNIQUE, inc INTEGER PRIMARY KEY AUTOINCREMENT":"PRIMARY KEY",", value BLOB)"].join(" ");O.DEBUG&&console.log(u),e.executeSql(u,[],(function(e,o){function i(){var o=JSON.stringify(t.keyPath);e.executeSql("INSERT INTO __sys__ VALUES (?,?,?,?,?)",[B(r),o,Number(t.autoIncrement),"{}",1],(function(){delete t.__pendingCreate,delete t.__deleted,n(t)}),s)}O.useSQLiteIndexes?e.executeSql("CREATE INDEX IF NOT EXISTS "+F("sk_"+a.slice(1,-1))+" ON "+a+'("key")',[],i,s):i()}),s)})),n[r]},Fr.__deleteObjectStore=function(e,t){t.__pendingDelete=!0,t.__indexNames=mt.__createInstance(),e.objectStoreNames.splice(e.objectStoreNames.indexOf(t.__currentName),1);var r=e.__versionTransaction.__storeHandles[t.__currentName];r&&(r.__indexNames=mt.__createInstance(),r.__pendingDelete=!0),e.__versionTransaction.__addNonRequestToTransactionQueue((function(e,o,n,i){function s(e,t){O.DEBUG&&console.log(t),i(he("UnknownError","Could not delete ObjectStore",t))}e.executeSql('SELECT "name" FROM __sys__ WHERE "name" = ?',[B(t.__currentName)],(function(e,o){o.rows.length>0&&e.executeSql("DROP TABLE "+x(t.__currentName),[],(function(){e.executeSql('DELETE FROM __sys__ WHERE "name" = ?',[B(t.__currentName)],(function(){delete t.__pendingDelete,t.__deleted=!0,r&&(delete r.__pendingDelete,r.__deleted=!0),n()}),s)}),s)}))}))},Fr.prototype.__validateKeyAndValueAndCloneValue=function(e,t,r){var o=this;if(null!==o.keyPath){if(void 0!==t)throw he("DataError","The object store uses in-line keys and the key parameter was provided",o);var n=Dr(e);if((t=Ke(n,o.keyPath)).invalid)throw he("DataError","KeyPath was specified, but key was invalid.");if(t.failure){if(!r){if(!o.autoIncrement)throw he("DataError","Could not evaluate a key from keyPath and there is no key generator");if(!Xe(n,o.keyPath))throw he("DataError","A key could not be injected into a value");return[void 0,n]}throw he("DataError","Could not evaluate a key from keyPath")}return[t.value,n]}if(void 0===t){if(!o.autoIncrement)throw he("DataError","The object store uses out-of-line keys and has no key generator and the key parameter was not provided.",o);t=void 0}else ze(t);return[t,Dr(e)]},Fr.prototype.__deriveKey=function(e,t,r,o,n){var i=this;function s(e){Rr(r,(function(t){t=Ar(t),o(t,e)}))}i.autoIncrement?void 0===r?ut(e,i,(function(e,r,s){e?n(he("ConstraintError","The key generator's current number has reached the maximum safe integer limit")):(null!==i.keyPath&&Je(t,r,i.keyPath),o(r,s))}),n):lt(e,i,r,s,n):s()},Fr.prototype.__insertData=function(e,t,r,o,n,i,s){var a=this,u={},p=Object.keys(a.__indexes).map((function(t){return new Oe((function(o,n){var i=a.__indexes[t];if(i.__pendingCreate||i.__deleted)o();else{var s;try{if((s=Ke(r,i.keyPath,i.multiEntry)).invalid||s.failure)throw new Error("Go to catch")}catch(e){return void o()}if(s=s.value,i.unique){var l=i.multiEntry&&Array.isArray(s),p=jr(!0,i,s,"key",l);Br.apply(void 0,[null].concat(c(p),[e,null,function(e){if(void 0===e)return g(i),void o();n(he("ConstraintError","Index already contains a record equal to "+(l?"one of the subkeys of":"")+"`indexKey`"))},n]))}else g(i),o()}function g(e){void 0!==s&&(u[e.__currentName]=tt(s,e.multiEntry))}}))}));return Oe.all(p).then((function(){var r=["INSERT INTO",x(a.__currentName),"("],n=[" VALUES ("],c=[];void 0!==o&&(r.push(F("key"),","),n.push("?,"),c.push(B(tt(o)))),Object.entries(u).forEach((function(e){var t=l(e,2),o=t[0],i=t[1];r.push(L(o)+","),n.push("?,"),c.push(B(i))})),r.push(F("value")+" )"),n.push("?)"),c.push(B(t));var p=r.join(" ")+n.join(" ");O.DEBUG&&console.log("SQL for adding",p,c),e.executeSql(p,c,(function(e,t){i(o)}),(function(e,t){s(he("ConstraintError",t.message,t))}))})).catch((function(t){function r(){s(t)}"number"!=typeof n?r():st(e,a,n,r,r)}))},Fr.prototype.add=function(e){var t=this,r=arguments[1];if(!(t instanceof Fr))throw new TypeError("Illegal invocation");if(0===arguments.length)throw new TypeError("No value was specified");Fr.__invalidStateIfDeleted(t),wt.__assertActive(t.transaction),t.transaction.__assertWritable();var o=t.transaction.__createRequest(t),n=l(t.__validateKeyAndValueAndCloneValue(e,r,!1),2),i=n[0],s=n[1];return Fr.__storingRecordObjectStore(o,t,!0,s,!0,i),o},Fr.prototype.put=function(e){var t=this,r=arguments[1];if(!(t instanceof Fr))throw new TypeError("Illegal invocation");if(0===arguments.length)throw new TypeError("No value was specified");Fr.__invalidStateIfDeleted(t),wt.__assertActive(t.transaction),t.transaction.__assertWritable();var o=t.transaction.__createRequest(t),n=l(t.__validateKeyAndValueAndCloneValue(e,r,!1),2),i=n[0],s=n[1];return Fr.__storingRecordObjectStore(o,t,!0,s,!1,i),o},Fr.prototype.__overwrite=function(e,t,r,o){var n="DELETE FROM "+x(this.__currentName)+' WHERE "key" = ?',i=tt(t);e.executeSql(n,[B(i)],(function(e,o){O.DEBUG&&console.log("Did the row with the",t,"exist?",o.rowsAffected),r(e)}),(function(e,t){o(t)}))},Fr.__storingRecordObjectStore=function(e,t,r,o,n){var i=arguments[5];t.transaction.__pushToQueue(e,(function(e,s,a,u){t.__deriveKey(e,o,i,(function(i,s){Rr(o,(function(l){function c(e){t.__insertData(e,l,o,i,s,(function(){r&&t.__cursors.forEach((function(e){e.__invalidateCache()})),a.apply(void 0,arguments)}),u)}n?c(e):t.__overwrite(e,i,c,u)}))}),u)}))},Fr.prototype.__get=function(e,t,r,o){var n=this;void 0!==o&&(o=X(o,"unsigned long")),Fr.__invalidStateIfDeleted(n),wt.__assertActive(n.transaction);var i=ht(e,!r),s=["SELECT",F(t?"key":"value"),"FROM",x(n.__currentName)],a=[];if(void 0!==i&&(s.push("WHERE"),ft(i,F("key"),s,a)),r||(o=1),o){if(!Number.isFinite(o))throw new TypeError("The count parameter must be a finite number");s.push("LIMIT",o)}return s=s.join(" "),n.transaction.__addToTransactionQueue((function(e,o,i,u){O.DEBUG&&console.log("Fetching",n.__currentName,a),e.executeSql(s,a,(function(e,o){var n;O.DEBUG&&console.log("Fetched data",o);try{if(0===o.rows.length)return void(r?i([]):i());if(n=[],t)for(var s=0;s<o.rows.length;s++)n.push(rt(j(o.rows.item(s).key),!1));else for(var a=0;a<o.rows.length;a++)n.push(Ar(j(o.rows.item(a).value)));r||(n=n[0])}catch(e){O.DEBUG&&console.log(e)}i(n)}),(function(e,t){u(t)}))}),void 0,n)},Fr.prototype.get=function(e){if(!arguments.length)throw new TypeError("A parameter was missing for `IDBObjectStore.get`.");return this.__get(e)},Fr.prototype.getKey=function(e){if(!arguments.length)throw new TypeError("A parameter was missing for `IDBObjectStore.getKey`.");return this.__get(e,!0)},Fr.prototype.getAll=function(){var e=Array.prototype.slice.call(arguments),t=e[0],r=e[1];return this.__get(t,!1,!0,r)},Fr.prototype.getAllKeys=function(){var e=Array.prototype.slice.call(arguments),t=e[0],r=e[1];return this.__get(t,!0,!0,r)},Fr.prototype.delete=function(e){var t=this;if(!(this instanceof Fr))throw new TypeError("Illegal invocation");if(!arguments.length)throw new TypeError("A parameter was missing for `IDBObjectStore.delete`.");Fr.__invalidStateIfDeleted(t),wt.__assertActive(t.transaction),t.transaction.__assertWritable();var r=ht(e,!0),o=["DELETE FROM",x(t.__currentName),"WHERE"],n=[];ft(r,F("key"),o,n);var i=o.join(" ");return t.transaction.__addToTransactionQueue((function(e,r,o,s){O.DEBUG&&console.log("Deleting",t.__currentName,n),e.executeSql(i,n,(function(e,r){O.DEBUG&&console.log("Deleted from database",r.rowsAffected),t.__cursors.forEach((function(e){e.__invalidateCache()})),o()}),(function(e,t){s(t)}))}),void 0,t)},Fr.prototype.clear=function(){var e=this;if(!(this instanceof Fr))throw new TypeError("Illegal invocation");return Fr.__invalidStateIfDeleted(e),wt.__assertActive(e.transaction),e.transaction.__assertWritable(),e.transaction.__addToTransactionQueue((function(t,r,o,n){t.executeSql("DELETE FROM "+x(e.__currentName),[],(function(t,r){O.DEBUG&&console.log("Cleared all records from database",r.rowsAffected),e.__cursors.forEach((function(e){e.__invalidateCache()})),o()}),(function(e,t){n(t)}))}),void 0,e)},Fr.prototype.count=function(){var e=this,t=arguments[0];if(!(e instanceof Fr))throw new TypeError("Illegal invocation");return Fr.__invalidStateIfDeleted(e),wt.__assertActive(e.transaction),co.__createInstance(t,"next",e,e,"key","value",!0).__request},Fr.prototype.openCursor=function(){var e=this,t=Array.prototype.slice.call(arguments),r=t[0],o=t[1];if(!(e instanceof Fr))throw new TypeError("Illegal invocation");Fr.__invalidStateIfDeleted(e);var n=co.__createInstance(r,o,e,e,"key","value");return e.__cursors.push(n),n.__request},Fr.prototype.openKeyCursor=function(){var e=this;if(!(e instanceof Fr))throw new TypeError("Illegal invocation");Fr.__invalidStateIfDeleted(e);var t=Array.prototype.slice.call(arguments),r=t[0],o=t[1],n=ao.__createInstance(r,o,e,e,"key","key");return e.__cursors.push(n),n.__request},Fr.prototype.index=function(e){var t=this;if(!(t instanceof Fr))throw new TypeError("Illegal invocation");if(0===arguments.length)throw new TypeError("No index name was specified");Fr.__invalidStateIfDeleted(t),wt.__assertNotFinished(t.transaction);var r=t.__indexes[e];if(!r||r.__deleted)throw he("NotFoundError",'Index "'+e+'" does not exist on '+t.__currentName);return(!t.__indexHandles[e]||t.__indexes[e].__pendingDelete||t.__indexes[e].__deleted)&&(t.__indexHandles[e]=Ir.__clone(r,t)),t.__indexHandles[e]},Fr.prototype.createIndex=function(e,t){var r=this,o=arguments[2];if(!(r instanceof Fr))throw new TypeError("Illegal invocation");if(e=String(e),0===arguments.length)throw new TypeError("No index name was specified");if(1===arguments.length)throw new TypeError("No key path was specified");if(wt.__assertVersionChange(r.transaction),Fr.__invalidStateIfDeleted(r),wt.__assertActive(r.transaction),r.__indexes[e]&&!r.__indexes[e].__deleted&&!r.__indexes[e].__pendingDelete)throw he("ConstraintError",'Index "'+e+'" already exists on '+r.__currentName);if(!J(t=ee(t)))throw he("SyntaxError","A valid keyPath must be supplied");if(Array.isArray(t)&&o&&o.multiEntry)throw he("InvalidAccessError","The keyPath argument was an array and the multiEntry option is true.");o=o||{};var n={columnName:e,keyPath:t,optionalParams:{unique:Boolean(o.unique),multiEntry:Boolean(o.multiEntry)}},i=Ir.__createInstance(r,n);return Ir.__createIndex(r,i),i},Fr.prototype.deleteIndex=function(e){var t=this;if(!(t instanceof Fr))throw new TypeError("Illegal invocation");if(0===arguments.length)throw new TypeError("No index name was specified");wt.__assertVersionChange(t.transaction),Fr.__invalidStateIfDeleted(t),wt.__assertActive(t.transaction);var r=t.__indexes[e];if(!r)throw he("NotFoundError",'Index "'+e+'" does not exist on '+t.__currentName);Ir.__deleteIndex(t,r)},H(Fr.prototype,Nr),G(Fr.prototype,["name"]),Fr.prototype[Symbol.toStringTag]="IDBObjectStorePrototype",Object.defineProperty(Fr,"prototype",{writable:!1});var Lr=function(){return xr(kr(Array.prototype.slice.call(arguments,0),(function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e})).join("/"))};function kr(e,t){if(e.filter)return e.filter(t);for(var r=[],o=0;o<e.length;o++)t(e[o],o,e)&&r.push(e[o]);return r}var Ur=function(e,t,r){return e.substr(t,r)},qr=["onabort","onclose","onerror","onversionchange"],$r=["name","version","objectStoreNames"];function Wr(){throw new TypeError("Illegal constructor")}var Gr,Hr=Wr;Wr.__createInstance=function(e,t,r,o,n){function i(){var i=this;this[Symbol.toStringTag]="IDBDatabase",z(this,$r),this.__db=e,this.__closePending=!1,this.__oldVersion=r,this.__version=o,this.__name=t,this.__upgradeTransaction=null,V(this,qr),this.__setOptions({legacyOutputDidListenersThrowFlag:!0}),this.__transactions=[],this.__objectStores={},this.__objectStoreNames=mt.__createInstance();for(var s={},a=function(e){var t=n.rows.item(e);s.name=t.name,s.keyPath=JSON.parse(t.keyPath),["autoInc","indexList"].forEach((function(e){s[e]=JSON.parse(t[e])})),s.idbdb=i;var r=Fr.__createInstance(s);i.__objectStores[r.name]=r,i.objectStoreNames.push(r.name)},u=0;u<n.rows.length;u++)a(u);this.__oldObjectStoreNames=this.objectStoreNames.clone()}return i.prototype=Hr.prototype,new i},Wr.prototype=A.createInstance(),Wr.prototype[Symbol.toStringTag]="IDBDatabasePrototype",Wr.prototype.createObjectStore=function(e){var t=arguments[1];if(e=String(e),!(this instanceof Wr))throw new TypeError("Illegal invocation");if(0===arguments.length)throw new TypeError("No object store name was specified");wt.__assertVersionChange(this.__versionTransaction),this.throwIfUpgradeTransactionNull(),wt.__assertActive(this.__versionTransaction);var r=(t=i({},t)).keyPath;if(null!==(r=void 0===r?null:ee(r))&&!J(r))throw he("SyntaxError","The keyPath argument contains an invalid key path.");if(this.__objectStores[e]&&!this.__objectStores[e].__pendingDelete)throw he("ConstraintError",'Object store "'+e+'" already exists in '+this.name);var o=t.autoIncrement;if(o&&(""===r||Array.isArray(r)))throw he("InvalidAccessError","With autoIncrement set, the keyPath argument must not be an array or empty string.");var n={name:e,keyPath:r,autoInc:o,indexList:{},idbdb:this},s=Fr.__createInstance(n,this.__versionTransaction);return Fr.__createObjectStore(this,s)},Wr.prototype.deleteObjectStore=function(e){if(!(this instanceof Wr))throw new TypeError("Illegal invocation");if(0===arguments.length)throw new TypeError("No object store name was specified");wt.__assertVersionChange(this.__versionTransaction),this.throwIfUpgradeTransactionNull(),wt.__assertActive(this.__versionTransaction);var t=this.__objectStores[e];if(!t)throw he("NotFoundError",'Object store "'+e+'" does not exist in '+this.name);Fr.__deleteObjectStore(this,t)},Wr.prototype.close=function(){if(!(this instanceof Wr))throw new TypeError("Illegal invocation");this.__closePending=!0,this.__unblocking&&this.__unblocking.check()},Wr.prototype.transaction=function(e){var t=this;if(0===arguments.length)throw new TypeError("You must supply a valid `storeNames` to `IDBDatabase.transaction`");var r=arguments[1];if(e=W(e)?c(new Set(ee(e))).sort():[Q(e)],r=r||"readonly",wt.__assertNotVersionChange(this.__versionTransaction),this.__closePending)throw he("InvalidStateError","An attempt was made to start a new transaction on a database connection that is not open");var o=mt.__createInstance();if(e.forEach((function(e){if(!t.objectStoreNames.contains(e))throw he("NotFoundError",'The "'+e+'" object store does not exist');o.push(e)})),0===e.length)throw he("InvalidAccessError","No valid object store names were specified");if("readonly"!==r&&"readwrite"!==r)throw new TypeError("Invalid transaction mode: "+r);var n=wt.__createInstance(this,o,r);return this.__transactions.push(n),n},Wr.prototype.throwIfUpgradeTransactionNull=function(){if(null===this.__upgradeTransaction)throw he("InvalidStateError","No upgrade transaction associated with database.")},Wr.prototype.__forceClose=function(e){var t=this;t.close();var r=0;t.__transactions.forEach((function(o){o.on__abort=function(){if(++r===t.__transactions.length){var e=oe("close");setTimeout((function(){t.dispatchEvent(e)}))}},o.__abortTransaction(he("AbortError","The connection was force-closed: "+(e||"")))}))},G(Wr.prototype,qr),H(Wr.prototype,$r),Object.defineProperty(Wr.prototype,"constructor",{enumerable:!1,writable:!0,configurable:!0,value:Wr}),Object.defineProperty(Wr,"prototype",{writable:!1});var Vr=function(){return"object"===("undefined"==typeof location?"undefined":e(location))&&location?location.origin:"null"},zr=function(){return!1!==O.checkOrigin&&"null"===Vr()},Kr={};function Yr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Vr(),r=Kr[t][e];if(r[0]){var o=r[0],n=o.req,i=o.cb;n.addEventListener("success",s),n.addEventListener("error",s),i(n)}function s(){r.shift(),Yr(e,t)}}function Jr(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Vr(),o=arguments.length>3?arguments[3]:void 0;Kr[r][t]||(Kr[r][t]=[]),Kr[r][t].push({req:e,cb:o}),1===Kr[r][t].length&&Yr(t,r)}function Xr(e,t,r,o){var n=function(e){return e.__closePending},i=function(){return e.every((function(e){return n(e)}))};return e.reduce((function(e,t){return n(t)?e:e.then((function(){if(!n(t)){var e=new ne("versionchange",{oldVersion:r,newVersion:o});return new Oe((function(r){setTimeout((function(){t.dispatchEvent(e),r()}))}))}}))}),Oe.resolve()).then((function(){if(!i())return new Oe((function(s){var a={check:function(){i()&&s()}},u=new ne("blocked",{oldVersion:r,newVersion:o});setTimeout((function(){t.dispatchEvent(u),i()?s():e.forEach((function(e){n(e)||(e.__unblocking=a)}))}))}))}))}var Qr,Zr={},eo=0;function to(e){return Object.keys(Zr[e]).map((function(e){return Number(e)})).reduce((function(e,t){return t>e?t:e}),0)}function ro(e,t,r,o,n){if("string"==typeof O.memoryDatabase){var i=Zr[t]?function(e){return Zr[e]&&Zr[e][to(e)]}(t):null;if(!i)return console.warn("Could not find a memory database instance to delete."),void o();var s=i._db&&i._db._db;return s&&s.close?void s.close((function(e){e?console.warn("Error closing (destroying) memory database"):o()})):void console.error("The `openDatabase` implementation does not have the expected `._db._db.close` method for closing the database")}Gr&&!1!==O.deleteDatabaseFiles?Gr.unlink(Lr(O.databaseBasePath||"",r),(function(e){e&&"ENOENT"!==e.code?n({code:0,message:"Error removing database file: "+r+" "+e}):o()})):e(Lr(O.databaseBasePath||"",r),1,t,O.DEFAULT_DB_SIZE).transaction((function(e){e.executeSql('SELECT "name" FROM __sys__',[],(function(e,t){var r=t.rows;!function t(i){i>=r.length?e.executeSql("DROP TABLE IF EXISTS __sys__",[],(function(){o()}),n):e.executeSql("DROP TABLE "+x(j(r.item(i).name)),[],(function(){t(i+1)}),(function(){t(i+1)}))}(0)}),(function(e){o()}))}))}function oo(e,t,r){function o(e,t){t=ge(t||e),O.DEBUG&&console.log("Error in sysdb transaction - when creating dbVersions",t),r(t)}Qr?t():(Qr=e("string"==typeof O.memoryDatabase?O.memoryDatabase:Lr("string"==typeof O.sysDatabaseBasePath?O.sysDatabaseBasePath:O.databaseBasePath||"","__sysdb__"+(!1!==O.addSQLiteExtension?".sqlite":"")),1,"System Database",O.DEFAULT_DB_SIZE)).transaction((function(e){e.executeSql("CREATE TABLE IF NOT EXISTS dbVersions (name BLOB, version INT);",[],(function(e){O.useSQLiteIndexes?e.executeSql("CREATE INDEX IF NOT EXISTS dbvname ON dbVersions(name)",[],t,o):t()}),o)}),o)}function no(){throw new TypeError("Illegal constructor")}var io=no;no.__createInstance=function(){function e(){this[Symbol.toStringTag]="IDBFactory",this.__connections={}}return e.prototype=io.prototype,new e},no.prototype.open=function(e){var t=this;if(!(t instanceof no))throw new TypeError("Illegal invocation");var r=arguments[1];if(0===arguments.length)throw new TypeError("Database name is required");if(void 0!==r&&0===(r=X(r,"unsigned long long")))throw new TypeError("Version cannot be 0");if(zr())throw he("SecurityError","Cannot open an IndexedDB database from an opaque origin.");var o=Se.__createInstance(),n=!1;O.autoName&&""===e&&(e="autoNamedDatabase_"+eo++);var i,s=B(e=String(e)),a="string"==typeof O.memoryDatabase,u=!1!==O.cacheDatabaseInstances||a;try{i=M(e)}catch(e){throw e}function l(e,t){if(!n){t=t?ge(t):e,n=!0;var r=oe("error",t,{bubbles:!0,cancelable:!0});o.__done=!0,o.__error=t,o.__result=void 0,o.dispatchEvent(r)}}function c(n,a,c){n.executeSql('SELECT "name", "keyPath", "autoInc", "indexList" FROM __sys__',[],(function(n,p){function g(){o.__result=d,o.__done=!0}var d=Wr.__createInstance(a,e,c,r,p);if(t.__connections[e]||(t.__connections[e]=[]),t.__connections[e].push(d),c<r)Xr(t.__connections[e].slice(0,-1),o,c,r).then((function(){var n=function(e,t,r){if(t)try{e.executeSql("ROLLBACK",[],r,r)}catch(e){Qr.transaction((function(e){function t(e){throw new Error("Unable to roll back upgrade transaction!"+(e||""))}0===c?e.executeSql('DELETE FROM dbVersions WHERE "name" = ?',[s],(function(){r(t)}),t):e.executeSql('UPDATE dbVersions SET "version" = ? WHERE "name" = ?',[c,s],r,t)}))}else r()};Qr.transaction((function(a){function p(){var s=new ne("upgradeneeded",{oldVersion:c,newVersion:r});o.__result=d,d.__upgradeTransaction=o.__transaction=o.__result.__versionTransaction=wt.__createInstance(o.__result,o.__result.objectStoreNames,"versionchange"),o.__done=!0,o.transaction.__addNonRequestToTransactionQueue((function(e,t,r,n){if(o.dispatchEvent(s),s.__legacyOutputDidListenersThrowError)return le("Error","An error occurred in an upgradeneeded handler attached to request chain",s.__legacyOutputDidListenersThrowError),void o.transaction.__abortTransaction(he("AbortError","A request was aborted."));r()})),o.transaction.on__beforecomplete=function(e){d.__upgradeTransaction=null,o.__result.__versionTransaction=null,n(a,!1,(function(){o.transaction.__transFinishedCb(!1,(function(){e.complete(),o.__transaction=null}))}))},o.transaction.on__preabort=function(){d.__upgradeTransaction=null,u&&e in Zr&&delete Zr[e][r]},o.transaction.on__abort=function(){o.__transaction=null,o.__result=void 0,o.__done=!1,d.close(),setTimeout((function(){var r=he("AbortError","The upgrade transaction was aborted.");n(a,r,(function(o){0!==c?l(r):ro(t.__openDatabase,e,i,l.bind(null,r),o||l)}))}))},o.transaction.on__complete=function(){if(o.__result.__closePending)return o.__transaction=null,void l(he("AbortError","The connection has been closed."));g(),o.__transaction=null;var e=oe("success");o.dispatchEvent(e)}}0===c?a.executeSql("INSERT INTO dbVersions VALUES (?,?)",[s,r],p,l):a.executeSql('UPDATE dbVersions SET "version" = ? WHERE "name" = ?',[r,s],p,l)}),l,null,(function(e,t,r,o,i){return!(!e.readOnly&&!t&&(n=function(e,t,r){t?o(t,r):i(r)},1))}))})).catch((function(e){throw console.log("Error within `triggerAnyVersionChangeAndBlockedEvents`"),e}));else{g();var f=oe("success");o.dispatchEvent(f)}}),l)}function p(o){var n;if((a||u)&&e in Zr&&Zr[e][r]?n=Zr[e][r]:(n=t.__openDatabase(a?O.memoryDatabase:Lr(O.databaseBasePath||"",i),1,e,O.DEFAULT_DB_SIZE),u&&(e in Zr||(Zr[e]={}),Zr[e][r]=n)),void 0===r&&(r=o||1),o>r){var s=he("VersionError","An attempt was made to open a database using a lower version than the existing version.",r);u?setTimeout((function(){l(s)})):l(s)}else n.transaction((function(e){e.executeSql("CREATE TABLE IF NOT EXISTS __sys__ (name BLOB, keyPath BLOB, autoInc BOOLEAN, indexList BLOB, currNum INTEGER)",[],(function(){function t(){c(e,n,o)}O.createIndexes?e.executeSql("CREATE INDEX IF NOT EXISTS sysname ON __sys__(name)",[],t,l):t()}),l)}),l)}return Jr(o,e,void 0,(function(r){var o;u&&(e in Zr||(Zr[e]={}),o=to(e)),o?p(o):oo(t.__openDatabase,(function(){Qr.readTransaction((function(e){e.executeSql('SELECT "version" FROM dbVersions WHERE "name" = ?',[s],(function(e,t){0===t.rows.length?p(0):p(t.rows.item(0).version)}),l)}),l)}),l)})),o},no.prototype.deleteDatabase=function(e){var t=this;if(!(t instanceof no))throw new TypeError("Illegal invocation");if(0===arguments.length)throw new TypeError("Database name is required");if(zr())throw he("SecurityError","Cannot delete an IndexedDB database from an opaque origin.");var r,o=B(e=String(e));try{r=M(e)}catch(e){throw e}var n="string"==typeof O.memoryDatabase,i=!1!==O.cacheDatabaseInstances||n,s=Se.__createInstance(),a=!1,u=0,l=function(e,t){t(e)};function c(e,t){a||!0===t||(t=ge(t||e),l(!0,(function(){s.__done=!0,s.__error=t,s.__result=void 0;var e=oe("error",t,{bubbles:!0,cancelable:!0});s.dispatchEvent(e),a=!0})))}return Jr(s,e,void 0,(function(n){oo(t.__openDatabase,(function(){function s(){n.__result=void 0,n.__done=!0;var e=new ne("success",{oldVersion:u,newVersion:null});n.dispatchEvent(e)}function a(){l(!1,(function(){i&&e in Zr&&delete Zr[e],delete t.__connections[e],s()}))}Qr.readTransaction((function(i){i.executeSql('SELECT "version" FROM dbVersions WHERE "name" = ?',[o],(function(i,p){if(0!==p.rows.length){var g=p.rows.item(0);u=g.version,Xr(t.__connections[e]||[],n,u,null).then((function(){Qr.transaction((function(n){n.executeSql('DELETE FROM dbVersions WHERE "name" = ? ',[o],(function(){ro(t.__openDatabase,e,r,a,c)}),c)}),c,null,(function(e,t,r,o,n){return!(!e.readOnly&&!t&&(l=function(e,t){e?o(e,t):n(t)},1))}))}),c)}else s()}),c)}))}),c)})),s},no.prototype.cmp=function(e,t){if(!(this instanceof no))throw new TypeError("Illegal invocation");if(arguments.length<2)throw new TypeError("You must provide two keys to be compared");return ze(e),ze(t),Pe(e,t)},no.prototype.databases=function(){var e=this,t=!1;return new Promise((function(r,o){if(!(e instanceof no))throw new TypeError("Illegal invocation");if(zr())throw he("SecurityError","Cannot get IndexedDB database names from an opaque origin.");function n(e,r){t||(r=r?ge(r):e,t=!0,o(r))}oo(e.__openDatabase,(function(){Qr.readTransaction((function(e){e.executeSql('SELECT "name", "version" FROM dbVersions',[],(function(e,t){for(var o=[],n=0;n<t.rows.length;n++){var i=t.rows.item(n),s=i.name,a=i.version;o.push({name:j(s),version:a})}r(o)}),n)}),n)}),n)}))},no.prototype.__forceClose=function(e,t,r){var o=this;function n(e){e.__forceClose(r)}if(te(e))Object.values(o.__connections).forEach((function(e){n(e)}));else if(o.__connections[e])if(te(t))o.__connections[e].forEach((function(e){n(e)}));else{if(!Number.isInteger(t)||t<0||t>o.__connections[e].length-1)throw new TypeError("If providing an argument, __forceClose must be called with a numeric index to indicate a specific connection to lose");n(o.__connections[e][t])}else console.log("No database connections with that name to force close")},no.prototype.__setConnectionQueueOrigin=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vr();Kr[e]={}},no.prototype[Symbol.toStringTag]="IDBFactoryPrototype",Object.defineProperty(no,"prototype",{writable:!1});var so=no.__createInstance();function ao(){throw new TypeError("Illegal constructor")}var uo=ao;ao.__super=function(e,t,r,o,n,i,s){this[Symbol.toStringTag]="IDBCursor",z(this,["key","primaryKey","request"]),Fr.__invalidStateIfDeleted(r),this.__indexSource=q(o,Ir),this.__indexSource&&Ir.__invalidStateIfDeleted(o),wt.__assertActive(r.transaction);var a=ht(e);if(void 0!==t&&!["next","prev","nextunique","prevunique"].includes(t))throw new TypeError(t+"is not a valid cursor direction");Object.defineProperties(this,{source:{writable:!1,value:o},direction:{writable:!1,value:t||"next"}}),this.__key=void 0,this.__primaryKey=void 0,this.__store=r,this.__range=a,this.__request=ve.__createInstance(),this.__request.__source=o,this.__request.__transaction=this.__store.transaction,this.__keyColumnName=n,this.__valueColumnName=i,this.__keyOnly="key"===i,this.__valueDecoder=this.__keyOnly?ct:Or,this.__count=s,this.__prefetchedIndex=-1,this.__multiEntryIndex=!!this.__indexSource&&o.multiEntry,this.__unique=this.direction.includes("unique"),this.__sqlDirection=["prev","prevunique"].includes(this.direction)?"DESC":"ASC",void 0!==a&&(a.__lowerCached=void 0!==a.lower&&tt(a.lower,this.__multiEntryIndex),a.__upperCached=void 0!==a.upper&&tt(a.upper,this.__multiEntryIndex)),this.__gotValue=!0,this.continue()},ao.__createInstance=function(){var e=uo.__super;e.prototype=uo.prototype;for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return u(e,r)},ao.prototype.__find=function(){this.__multiEntryIndex?this.__findMultiEntry.apply(this,arguments):this.__findBasic.apply(this,arguments)},ao.prototype.__findBasic=function(e,t,r,o,n,i){var s=void 0!==i;i=i||1;var a=this,u=F(a.__keyColumnName),l=F("key"),c=["SELECT * FROM",x(a.__store.__currentName)],p=[];c.push("WHERE",u,"NOT NULL"),ft(a.__range,u,c,p,!0,!0);var g=a.__sqlDirection,d="ASC"===g?">":"<";void 0!==t&&(c.push("AND",l,d+"= ?"),p.push(tt(t))),void 0!==e?(c.push("AND",u,d+"= ?"),p.push(tt(e))):s&&void 0!==a.__key&&(c.push("AND",u,d+" ?"),p.push(tt(a.__key))),a.__count||(c.push("ORDER BY",u,g),"key"!==a.__keyColumnName&&(a.__unique?"prevunique"===a.direction&&c.push(",",l,"ASC"):c.push(",",l,g)),!a.__unique&&a.__indexSource&&c.push(",",F(a.__valueColumnName),g),c.push("LIMIT",i)),c=c.join(" "),O.DEBUG&&console.log(c,p),r.executeSql(c,p,(function(e,t){a.__count?o(void 0,t.rows.length,void 0):t.rows.length>1?(a.__prefetchedIndex=0,a.__prefetchedData=t.rows,O.DEBUG&&console.log("Preloaded "+a.__prefetchedData.length+" records for cursor"),a.__decode(t.rows.item(0),o)):1===t.rows.length?a.__decode(t.rows.item(0),o):(O.DEBUG&&console.log("Reached end of cursors"),o(void 0,void 0,void 0))}),(function(e,t){O.DEBUG&&console.log("Could not execute Cursor.continue",c,p),n(t)}))};var lo=/\[/g;function co(){throw new TypeError("Illegal constructor")}ao.prototype.__findMultiEntry=function(e,t,r,o,n){var i=this;if(i.__prefetchedData&&i.__prefetchedData.length===i.__prefetchedIndex)return O.DEBUG&&console.log("Reached end of multiEntry cursor"),void o(void 0,void 0,void 0);var s=F(i.__keyColumnName),a=["SELECT * FROM",x(i.__store.__currentName)],u=[];a.push("WHERE",s,"NOT NULL"),i.__range&&void 0!==i.__range.lower&&Array.isArray(i.__range.upper)&&0===i.__range.upper.indexOf(i.__range.lower)&&(a.push("AND",s,"LIKE ? ESCAPE '^'"),u.push("%"+U(i.__range.__lowerCached.slice(0,-1))+"%"));var l=i.__sqlDirection,c="ASC"===l?">":"<",p=F("key");void 0!==t&&(a.push("AND",p,c+"= ?"),u.push(tt(t))),void 0!==e?(a.push("AND",s,c+"= ?"),u.push(tt(e))):void 0!==i.__key&&(a.push("AND",s,c+" ?"),u.push(tt(i.__key))),i.__count||(a.push("ORDER BY",s,l),i.__unique||"key"===i.__keyColumnName||a.push(",",F("key"),l),!i.__unique&&i.__indexSource&&a.push(",",F(i.__valueColumnName),l)),a=a.join(" "),O.DEBUG&&console.log(a,u),r.executeSql(a,u,(function(e,t){if(t.rows.length>0){if(i.__count){for(var r=0,n=0;n<t.rows.length;n++)r+=et(rt(t.rows.item(n)[i.__keyColumnName],!0),i.__range).length;return void o(void 0,r,void 0)}for(var s=[],a=0;a<t.rows.length;a++){var u,l=t.rows.item(a),c=d(et(rt(l[i.__keyColumnName],!0),i.__range));try{for(c.s();!(u=c.n()).done;){var p={matchingKey:tt(u.value,!0),key:l.key};p[i.__keyColumnName]=l[i.__keyColumnName],p[i.__valueColumnName]=l[i.__valueColumnName],s.push(p)}}catch(e){c.e(e)}finally{c.f()}}var g=0===i.direction.indexOf("prev");s.sort((function(e,t){return e.matchingKey.replace(lo,"z")<t.matchingKey.replace(lo,"z")?g?1:-1:e.matchingKey.replace(lo,"z")>t.matchingKey.replace(lo,"z")?g?-1:1:e.key<t.key?"prev"===i.direction?1:-1:e.key>t.key?"prev"===i.direction?-1:1:0})),s.length>1?(i.__prefetchedIndex=0,i.__prefetchedData={data:s,length:s.length,item:function(e){return this.data[e]}},O.DEBUG&&console.log("Preloaded "+i.__prefetchedData.length+" records for multiEntry cursor"),i.__decode(s[0],o)):1===s.length?(O.DEBUG&&console.log("Reached end of multiEntry cursor"),i.__decode(s[0],o)):(O.DEBUG&&console.log("Reached end of multiEntry cursor"),o(void 0,void 0,void 0))}else O.DEBUG&&console.log("Reached end of multiEntry cursor"),o(void 0,void 0,void 0)}),(function(e,t){O.DEBUG&&console.log("Could not execute Cursor.continue",a,u),n(t)}))},ao.prototype.__onsuccess=function(e){var t=this;return function(r,o,n){t.__count?e(o,t.__request):(void 0!==r&&(t.__gotValue=!0),t.__key=void 0===r?null:r,t.__primaryKey=void 0===n?null:n,t.__value=void 0===o?null:o,e(void 0===r?null:t,t.__request))}},ao.prototype.__decode=function(e,t){var r=this;if(r.__multiEntryIndex&&r.__unique){if(r.__matchedKeys||(r.__matchedKeys={}),r.__matchedKeys[e.matchingKey])return void t(void 0,void 0,void 0);r.__matchedKeys[e.matchingKey]=!0}var o=j(r.__multiEntryIndex?e.matchingKey:e[r.__keyColumnName]),n=j(e[r.__valueColumnName]),i=j(e.key);t(rt(o,r.__multiEntryIndex),r.__valueDecoder.decode(n),rt(i),o)},ao.prototype.__sourceOrEffectiveObjStoreDeleted=function(){Fr.__invalidStateIfDeleted(this.__store,"The cursor's effective object store has been deleted"),this.__indexSource&&Ir.__invalidStateIfDeleted(this.source,"The cursor's index source has been deleted")},ao.prototype.__invalidateCache=function(){this.__prefetchedData=null},ao.prototype.__continue=function(e,t){var r=this,o=void 0!==r.__advanceCount;if(wt.__assertActive(r.__store.transaction),r.__sourceOrEffectiveObjStoreDeleted(),!r.__gotValue&&!t)throw he("InvalidStateError","The cursor is being iterated or has iterated past its end.");if(void 0!==e){ze(e);var n=Pe(e,r.key);if(0===n||r.direction.includes("next")&&-1===n||r.direction.includes("prev")&&1===n)throw he("DataError","Cannot "+(o?"advance":"continue")+" the cursor in an unexpected direction")}this.__continueFinish(e,void 0,o)},ao.prototype.__continueFinish=function(e,t,r){var o=this,n=o.__advanceCount||O.cursorPreloadPackSize||100;o.__gotValue=!1,o.__request.__done=!1,o.__store.transaction.__pushToQueue(o.__request,(function i(s,a,u,l,c){function p(e,t,n){if(r){if(o.__advanceCount>=2&&void 0!==e)return o.__advanceCount--,o.__key=e,o.__continue(void 0,!0),void c();o.__advanceCount=void 0}o.__onsuccess(u)(e,t,n)}o.__prefetchedData&&(o.__prefetchedIndex++,o.__prefetchedIndex<o.__prefetchedData.length)?o.__decode(o.__prefetchedData.item(o.__prefetchedIndex),(function(r,n,c,g){var d;o.__unique&&!o.__multiEntryIndex&&g===tt(o.key,o.__multiEntryIndex)||!((d=void 0===e||Pe(r,e))>0||0===d&&(o.__unique||void 0===t||Pe(c,t)>=0))?i(s,a,u,l):p(r,n,c)})):o.__find(e,t,s,p,(function(){o.__advanceCount=void 0,l.apply(void 0,arguments)}),n)}))},ao.prototype.continue=function(){this.__continue(arguments[0])},ao.prototype.continuePrimaryKey=function(e,t){var r=this;if(wt.__assertActive(r.__store.transaction),r.__sourceOrEffectiveObjStoreDeleted(),!r.__indexSource)throw he("InvalidAccessError","`continuePrimaryKey` may only be called on an index source.");if(!["next","prev"].includes(r.direction))throw he("InvalidAccessError","`continuePrimaryKey` may not be called with unique cursors.");if(!r.__gotValue)throw he("InvalidStateError","The cursor is being iterated or has iterated past its end.");ze(e),ze(t);var o=Pe(e,r.key);if("next"===r.direction&&-1===o||"prev"===r.direction&&1===o)throw he("DataError","Cannot continue the cursor in an unexpected direction");function n(){r.__continueFinish(e,t,!1)}0===o?Rr(t,(function(e){Rr(r.primaryKey,(function(t){if(e===t||"next"===r.direction&&e<t||"prev"===r.direction&&e>t)throw he("DataError","Cannot continue the cursor in an unexpected direction");n()}))})):n()},ao.prototype.advance=function(e){var t=this;if(0===(e=X(e,"unsigned long")))throw new TypeError("Calling advance() with count argument 0");t.__gotValue&&(t.__advanceCount=e),t.__continue()},ao.prototype.update=function(e){var t=this;if(!arguments.length)throw new TypeError("A value must be passed to update()");if(wt.__assertActive(t.__store.transaction),t.__store.transaction.__assertWritable(),t.__sourceOrEffectiveObjStoreDeleted(),!t.__gotValue)throw he("InvalidStateError","The cursor is being iterated or has iterated past its end.");if(t.__keyOnly)throw he("InvalidStateError","This cursor method cannot be called when the key only flag has been set.");var r=t.__store.transaction.__createRequest(t),o=t.primaryKey;function n(e){Fr.__storingRecordObjectStore(r,t.__store,!1,e,!1,o)}if(null!==t.__store.keyPath){var i=l(t.__store.__validateKeyAndValueAndCloneValue(e,void 0,!0),2),s=i[0],a=i[1];if(0!==Pe(t.primaryKey,s))throw he("DataError","The key of the supplied value to `update` is not equal to the cursor's effective key");n(a)}else n(Dr(e));return r},ao.prototype.delete=function(){var e=this;if(wt.__assertActive(e.__store.transaction),e.__store.transaction.__assertWritable(),e.__sourceOrEffectiveObjStoreDeleted(),!e.__gotValue)throw he("InvalidStateError","The cursor is being iterated or has iterated past its end.");if(e.__keyOnly)throw he("InvalidStateError","This cursor method cannot be called when the key only flag has been set.");return this.__store.transaction.__addToTransactionQueue((function(t,r,o,n){e.__find(void 0,void 0,t,(function(r,i,s){var a="DELETE FROM  "+x(e.__store.__currentName)+' WHERE "key" = ?';O.DEBUG&&console.log(a,r,s),t.executeSql(a,[B(tt(s))],(function(e,t){1===t.rowsAffected?o(void 0):n("No rows with key found"+r)}),(function(e,t){n(t)}))}),n)}),void 0,e)},ao.prototype[Symbol.toStringTag]="IDBCursorPrototype",H(ao.prototype,["source","direction","key","primaryKey","request"]),Object.defineProperty(ao,"prototype",{writable:!1}),co.prototype=Object.create(ao.prototype),Object.defineProperty(co.prototype,"constructor",{enumerable:!1,writable:!0,configurable:!0,value:co});var po=co;function go(t,r){if(t&&"object"===e(t))Object.entries(t).forEach((function(e){var t=l(e,2);go(t[0],t[1])}));else{if(!(t in O))throw new Error(t+" is not a valid configuration property");O[t]=r,"registerSCA"===t&&"function"==typeof r&&Tr(r)}}co.__createInstance=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];function o(){var e;(e=ao.__super).call.apply(e,[this].concat(t)),this[Symbol.toStringTag]="IDBCursorWithValue",z(this,"value")}return o.prototype=po.prototype,new o},H(co.prototype,["value"]),co.prototype[Symbol.toStringTag]="IDBCursorWithValuePrototype",Object.defineProperty(co,"prototype",{writable:!1}),O.win="undefined"!=typeof window?window:self,function(e,t){var o="undefined"!=typeof window?window:"undefined"!=typeof self?self:void 0!==h?h:{};function n(e,t,n){if(!n||!Object.defineProperty)try{o[e]=t}catch(e){console.log(e)}if(o[e]!==t&&Object.defineProperty)try{var i=n||{};if("get"in i){var s,a,u=(s={},(a={})[e]=a[e]||{},a[e].get=function(){return n.get.call(this)},r(s,a),s);i=Object.getOwnPropertyDescriptor(u,e)}else"value"in i||(i.value=t),"writable"in i||(i.writable=!0);Object.defineProperty(o,e,i)}catch(e){}o[e]!==t&&"undefined"!=typeof console&&console.warn&&console.warn("Unable to shim "+e)}void 0!==O.win.openDatabase&&n("shimIndexedDB",so,{enumerable:!1,configurable:!0}),o.shimIndexedDB?(o.shimIndexedDB.__useShim=function(){function e(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";n(e+"DOMException",ye),n(e+"DOMStringList",mt,{enumerable:!1,configurable:!0,writable:!0,value:mt}),n(e+"Event",v,{configurable:!0,writable:!0,value:v,enumerable:!1}),n(e+"CustomEvent",E,{configurable:!0,writable:!0,value:E,enumerable:!1}),n(e+"EventTarget",T,{configurable:!0,writable:!0,value:T,enumerable:!1})}var t,r=no;void 0!==O.win.openDatabase&&(so.__openDatabase=O.win.openDatabase.bind(O.win),n("indexedDB",so,{enumerable:!0,configurable:!0,get:function(){if(this!==o&&!te(this)&&!this.shimNS)throw new TypeError("Illegal invocation");return so}}),[["IDBFactory",r],["IDBDatabase",Wr],["IDBObjectStore",Fr],["IDBIndex",Ir],["IDBTransaction",wt],["IDBCursor",ao],["IDBCursorWithValue",co],["IDBKeyRange",pt],["IDBRequest",ve],["IDBOpenDBRequest",Se],["IDBVersionChangeEvent",ne]].forEach((function(e){var t=l(e,2);n(t[0],t[1],{enumerable:!1,configurable:!0})})),O.fs&&(t=O.fs,Gr=t),O.fullIDLSupport&&(Object.setPrototypeOf(o.IDBOpenDBRequest,o.IDBRequest),Object.setPrototypeOf(o.IDBCursorWithValue,o.IDBCursor),Object.setPrototypeOf(Wr,T),Object.setPrototypeOf(ve,T),Object.setPrototypeOf(wt,T),Object.setPrototypeOf(ne,v),Object.setPrototypeOf(ye,Error),Object.setPrototypeOf(ye.prototype,Error.prototype),Object.setPrototypeOf(E,v),Object.setPrototypeOf(E.prototype,v.prototype)),o.indexedDB&&!o.indexedDB.toString().includes("[native code]")&&(O.addNonIDBGlobals&&e("Shim"),O.replaceNonIDBGlobals&&e()),o.shimIndexedDB.__setConnectionQueueOrigin())},o.shimIndexedDB.__debug=function(e){O.DEBUG=e},o.shimIndexedDB.__setConfig=go,o.shimIndexedDB.__getConfig=function(e){if(!(e in O))throw new Error(e+" is not a valid configuration property");return O[e]},o.shimIndexedDB.__setUnicodeIdentifiers=function(e){go({UnicodeIDStart:e.UnicodeIDStart,UnicodeIDContinue:e.UnicodeIDContinue})}):(o.shimIndexedDB={},["__useShim","__debug","__setConfig","__getConfig","__setUnicodeIdentifiers"].forEach((function(e){o.shimIndexedDB[e]=function(){console.warn("This browser does not have WebSQL to shim.")}}))),"indexedDB"in o||"undefined"==typeof window||(o.indexedDB=o.indexedDB||o.webkitIndexedDB||o.mozIndexedDB||o.oIndexedDB||o.msIndexedDB);var i=!1;"undefined"!=typeof navigator&&navigator.userAgent&&(/Android (?:2|3|4\.[0-3])/.test(navigator.userAgent)&&!navigator.userAgent.includes("Chrome")||(!navigator.userAgent.includes("Safari")||navigator.userAgent.includes("Chrome"))&&/(iPad|iPhone|iPod)(?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])* o[s\u017F] 9_/i.test(navigator.userAgent)&&!window.MSStream)&&(i=!0),O.DEFAULT_DB_SIZE||(O.DEFAULT_DB_SIZE=1024*("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")?25:4)*1024),O.avoidAutoShim||o.indexedDB&&!i||void 0===O.win.openDatabase?(o.IDBDatabase=o.IDBDatabase||o.webkitIDBDatabase,o.IDBTransaction=o.IDBTransaction||o.webkitIDBTransaction||{},o.IDBCursor=o.IDBCursor||o.webkitIDBCursor,o.IDBKeyRange=o.IDBKeyRange||o.webkitIDBKeyRange):o.shimIndexedDB.__useShim()}()}();var indexeddbshim_min={},only=function(e,t){return e=e||{},"string"==typeof t&&(t=t.split(/ +/)),t.reduce((function(t,r){return null==e[r]||(t[r]=e[r]),t}),{})},getOwnPropertySymbols=Object.getOwnPropertySymbols,hasOwnProperty$1=Object.prototype.hasOwnProperty,propIsEnumerable=Object.prototype.propertyIsEnumerable;function toObject(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function shouldUseNative(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var o={};return"abcdefghijklmnopqrst".split("").forEach((function(e){o[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},o)).join("")}catch(e){return!1}}var objectAssign=shouldUseNative()?Object.assign:function(e,t){for(var r,o,n=toObject(e),i=1;i<arguments.length;i++){for(var s in r=Object(arguments[i]))hasOwnProperty$1.call(r,s)&&(n[s]=r[s]);if(getOwnPropertySymbols){o=getOwnPropertySymbols(r);for(var a=0;a<o.length;a++)propIsEnumerable.call(r,o[a])&&(n[o[a]]=r[o[a]])}}return n},curry2_1=curry2;function curry2(e,t){var r=function(){return arguments.length>1?e.call(t,arguments[0],arguments[1]):e.bind(t,arguments[0])};return r.uncurry=function(){return e},r}var arrayConcat=curry2_1(last);function last(e,t){return e.concat(t)}var valueComparator=function(e,t,r){return 1===r?e>t:e<t},has=function(e,t){return e.hasOwnProperty(t)},isArrayField=function(e,t){var r=has(e,t),o=Array.isArray(e[t]);if(r&&!o)throw new Error("You can't use array update operator on non-array field");return r},isEmptyValue=function(e){return!("object"==typeof e&&null!==e&&e)||0===Object.keys(e).length},isPlainValue=function(e){var t=typeof e;return"number"===t||"string"===t||"boolean"===t},arraySlice=function(e,t){return t>=0?e.slice(0,t):e.slice(t)},noop=function(){},require$$0=getAugmentedNamespace(dexie),dexie$1=require$$0,comparsionQueryOperatorsImpl={$eq:function(e,t){return function(r){return has(r,e)&&r[e]===t}},$gt:function(e,t){return function(r){return has(r,e)&&r[e]>t}},$gte:function(e,t){return function(r){return has(r,e)&&r[e]>=t}},$lt:function(e,t){return function(r){return has(r,e)&&r[e]<t}},$lte:function(e,t){return function(r){return has(r,e)&&r[e]<=t}},$ne:function(e,t){return function(r){return has(r,e)&&r[e]!==t}},$in:function(e,t){return function(r){return has(r,e)&&t.indexOf(r[e])>-1}},$nin:function(e,t){return function(r){return has(r,e)&&-1===t.indexOf(r[e])}},$exists:function(e,t){return function(r){return has(r,e)===t}},$all:function(e,t){return function(r){return has(r,e)&&t.every((function(t){return r[e].indexOf(t)>-1}))}},$size:function(e,t){return function(r){return has(r,e)&&r[e].length===t}},$elemMatch:function(e,t){var r=getQueryValueMatchers(e,t);return function(t){return has(t,e)&&t[e].some((function(t){var o={};return o[e]=t,r.every((function(e){return e(o)}))}))}},$not:function(e,t){var r=getQueryValueMatchers(e,t);return function(t){return!has(t,e)||r.every((function(e){return!e(t)}))}}},logicalQueryOperatorsImpl={$and:function(e,t){var r=t.map(getMatcherSets).reduce(arrayConcat);return function(e){return r.every((function(t){return t(e)}))}},$or:function(e,t){var r=t.map(getMatcherSets);return function(e){return r.some((function(t){return t.every((function(t){return t(e)}))}))}},$nor:function(e,t){var r=this.$and(e,t);return function(e){return!r(e)}}},updateOperatorsImpl={$inc:function(e,t){return createUpdateIterator(t,(function(e,r){has(r,e)&&(r[e]+=t[e])}))},$mul:function(e,t){return createUpdateIterator(t,(function(e,r){has(r,e)&&(r[e]*=t[e])}))},$rename:function(e,t){return createUpdateIterator(t,(function(e,r){var o=r[e];delete r[e],r[t[e]]=o}))},$set:function(e,t){return createUpdateIterator(t,(function(e,r){r[e]=t[e]}))},$unset:function(e,t){return createUpdateIterator(t,(function(e,t){delete t[e]}))},$min:function(e,t){return createUpdateIterator(t,(function(e,r){r[e]=Math.min(r[e],t[e])}))},$max:function(e,t){return createUpdateIterator(t,(function(e,r){r[e]=Math.max(r[e],t[e])}))},$addToSet:function(e,t){return createUpdateIterator(t,(function(e,r){isArrayField(r,e)?-1===r[e].indexOf(t[e])&&r[e].push(t[e]):r[e]=[t[e]]}))},$pop:function(e,t){return createUpdateIterator(t,(function(e,r){isArrayField(r,e),1===t[e]?r[e].pop():-1===t[e]&&r[e].shift()}))},$push:function(e,t){return createUpdateIterator(t,(function(e,r){isArrayField(r,e)?r[e].push(t[e]):r[e]=[t[e]]}))},$pullAll:function(e,t){return createUpdateIterator(t,(function(e,r){isArrayField(r,e);var o=t[e];r[e]=r[e].filter((function(e){return-1===o.indexOf(e)}))}))},$pull:function(e,t){return createUpdateIterator(t,(function(e,r){isArrayField(r,e);var o=t[e];if(isPlainValue(o))r[e]=r[e].filter((function(e){return e!==o}));else{var n=getQueryValueMatchers(e,o);r[e]=r[e].filter((function(t){var r={};return r[e]=t,!n.some((function(e){return e(r)}))}))}}))},$slice:function(e,t){return createUpdateIterator(t,(function(e,r){isArrayField(r,e);var o=t[e];if(isPlainValue(o))r[e]=arraySlice(r[e],o);else{var n=Object.keys(o);r[e]=r[e].map((function(e){return n.reduce((function(e,t){return e[t]=arraySlice(e[t],o[t]),e}),e)}))}}))},$sort:function(e,t){return createUpdateIterator(t,(function(e,r){isArrayField(r,e);var o=t[e];if(isPlainValue(o))r[e]=r[e].sort((function(e,t){return valueComparator(e,t,o)}));else{var n=r[e].slice();r[e]=Object.keys(o).reduce((function(e,t){var r=o[t];return n.sort((function(e,o){var n=e[t],i=o[t];return valueComparator(n,i,r)}))}),r[e])}}))}},operators={query:Object.keys(comparsionQueryOperatorsImpl),queryLogical:Object.keys(logicalQueryOperatorsImpl),update:Object.keys(updateOperatorsImpl)},supportedUpdateOptions=["upsert"],supportedUpsertOperators=["$set","$addToSet","$push"],getMatcherSets=function(e){return Object.keys(e).map((function(t){return getQueryValueMatchers(t,e[t])})).reduce(arrayConcat)},getQueryValueMatchers=function(e,t){return Object.keys(t).map((function(r){return getOperatorImplementation({key:e,type:r,value:t[r]})}))},createPlainPropertyMatcher=function(e,t){var r=t||Object.keys(e);return function(t){return r.every((function(r){return has(t,r)&&t[r]===e[r]}))}},createPlainPropertyUpdater=function(e,t){var r=t||Object.keys(e);return function(t){r.forEach((function(r){has(t,r)&&(t[r]=e[r])}))}},createUpdateIterator=function(e,t){var r=Object.keys(e);return function(e){r.forEach((function(r){t(r,e)}))}},createObjectForUpsert=function(e,t){var r=Object.keys(e).filter((function(e){var t=has(comparsionQueryOperatorsImpl,e),r=has(logicalQueryOperatorsImpl,e);return!(t||r)})),o=only(e,r),n=supportedUpsertOperators.reduce((function(e,r){var o=t[r];return objectAssign(e,o)}),{});return objectAssign(o,n)},chooseIndex=function(e,t){var r=-1,o=-1,n=-1;return t.indexedKeys.forEach((function(e,t){e.unique?r=t:"number"==typeof e.value?o=t:e.plain&&(n=t)})),r>-1?t.indexedKeys[r]:o>-1?t.indexedKeys[o]:t.indexedKeys[n]},getQueryOperatorsFilters=function(e){return e.queryOperators.advanced.map((function(e){return e.operators.map((function(t){return getOperatorImplementation({type:t,key:e.key,value:e.value[t]})}))})).reduce(arrayConcat)},getPropertyUpdaters=function(e){return e.updateOperators.advanced.map((function(e){return getOperatorImplementation({type:e.key,key:null,value:e.value})}))},createAdvancedOperatorsMatcher=function(e){var t=getQueryOperatorsFilters(e);return function(e){return t.every((function(t){return t(e)}))}},createAdvancedPropertyUpdater=function(e){var t=getPropertyUpdaters(e);return function(e){t.forEach((function(t){t(e)}))}},getPlainKeys=function(e){return e.queryOperators.plain.map((function(e){return e.key}))},executionPlans={primaryKey:function(e,t,r){var o=t.primaryKey.key,n=t.primaryKey.value,i=r.where(o).equals(n);if(t.queryOperators.plain.length>0){var s=createPlainPropertyMatcher(e,getPlainKeys(t));i.and(s)}if(t.queryOperators.advanced.length>0){var a=createAdvancedOperatorsMatcher(t);i.and(a)}return i},indexedProp:function(e,t,r){var o,n=chooseIndex(e,t);if(o=n&&n.plain?r.where(n.key).equals(n.value):r.toCollection(),t.queryOperators.plain.length>0){var i=createPlainPropertyMatcher(e,getPlainKeys(t));o.and(i)}if(t.queryOperators.advanced.length>0){var s=createAdvancedOperatorsMatcher(t);o.and(s)}return o},fullScan:function(e,t,r){var o=r.toCollection();if(t.queryOperators.plain.length>0){var n=createPlainPropertyMatcher(e,getPlainKeys(t));o.and(n)}if(t.queryOperators.advanced.length>0){var i=createAdvancedOperatorsMatcher(t);o.and(i)}return o}},createCollectionUpdater=function(e,t){var r=t.updateOperators.plain.length>0,o=t.updateOperators.advanced.length>0;return r&&o?noop:r?createPlainPropertyUpdater(e,t.keys):o?createAdvancedPropertyUpdater(t):void 0},createInsertResult=function(e,t){return{insertedCount:1,insertedId:t.id,ops:[t.item],result:{ok:1,n:1}}},createUpdateResult=function(e,t){var r=t&&!0===t.isUpsert,o=r?0:e;return{result:{ok:1,nModified:o},modifiedCount:o,upsertedCount:r?1:0,upsertedId:r?t.id:null}},createDeleteResult=function(e){return{result:{ok:1,n:e},deletedCount:e}},createUpsertModifier=function(e,t,r){return new dexie$1.Promise((function(o){return e.update(t,r).then((function(o){if(0===o.modifiedCount){var n=createObjectForUpsert(t,r);return e.insert(n)}return dexie$1.Promise.resolve(o)})).then((function(e){var t=e;return"number"==typeof e.insertedId&&(t=createUpdateResult(1,{isUpsert:!0,id:e.insertedId})),o(t)}))}))},createPlainModifier=function(e,t,r){var o=analyseUpdates(r),n=createCollectionUpdater(r,o);return e.find(t).modify(n).then((function(e){return createUpdateResult(e,null)}))},getOperatorImplementation=function(e){var t;return operators.query.indexOf(e.type)>-1?t=comparsionQueryOperatorsImpl:operators.queryLogical.indexOf(e.type)>-1?t=logicalQueryOperatorsImpl:operators.update.indexOf(e.type)>-1&&(t=updateOperatorsImpl),t[e.type](e.key,e.value)},getOperators=function(e,t,r){return t.reduce(r(e,t),{plain:[],advanced:[]})},createQueryOperatorsReducer=function(e){return function(t,r){var o=e[r],n=isPlainValue(o),i=operators.queryLogical.indexOf(r)>-1;if(n)t.plain.push({key:r,value:o,plain:n});else if(i){var s={};s[r]=o,t.advanced.push({key:r,value:s,plain:n,operators:[r]})}else t.advanced.push({key:r,value:o,plain:n,operators:Object.keys(o).filter((function(e){return operators.query.indexOf(e)>-1}))});return t}},createUpdateOperatorsReducer=function(e){return function(t,r){var o=e[r],n=isPlainValue(o);return n?t.plain.push({key:r,value:o,plain:n}):t.advanced.push({key:r,value:o,plain:n}),t}},getQueryOperators=function(e,t){return getOperators(e,t,createQueryOperatorsReducer)},getUpdateOperators=function(e,t){return getOperators(e,t,createUpdateOperatorsReducer)},getQueryPrimaryKey=function(e,t){var r=t.primKey.keyPath,o=e[r],n=typeof o;return"number"===n||"string"===n?{key:r,value:o}:{key:!1}},getQueryIndexedKeys=function(e,t,r){return r.indexes.filter((function(e){return t.indexOf(e.keyPath)>-1})).map((function(t){var r=t.keyPath;return{key:r,value:e[r],unique:t.unique,plain:isPlainValue(e[r])}}))},analyseQuery=function(e,t){var r=Object.keys(e);return{keys:r,queryOperators:getQueryOperators(e,r),primaryKey:getQueryPrimaryKey(e,t),indexedKeys:getQueryIndexedKeys(e,r,t)}},analyseUpdates=function(e){var t=Object.keys(e);return{keys:t,updateOperators:getUpdateOperators(e,t)}},analyseUpdateOptions=function(e){return isEmptyValue(e)?{}:only(e,supportedUpdateOptions)},chooseExecutuionPlan=function(e,t){var r,o=analyseQuery(e,t);return r=o.primaryKey.key?"primaryKey":o.indexedKeys.length>0?"indexedProp":"fullScan",{queryAnalysis:o,execute:executionPlans[r]}},performCollectionUpdate=function(e,t,r,o){return(!0===o.upsert?createUpsertModifier:createPlainModifier)(e,t,r)},performFind=function(e,t){if(isEmptyValue(t))return e.toCollection();var r=chooseExecutuionPlan(t,e.schema);return r.execute(t,r.queryAnalysis,e)},performInsert=function(e,t){var r=e.schema.primKey.keyPath;return e.add(t).then((function(e){return only(t,Object.keys(t))[r]=e,createInsertResult(1,{item:t,id:e})}))},performRemove=function(e,t){return performFind(e,t).delete().then(createDeleteResult)},performDrop=function(e){return e.toCollection().delete().then(createDeleteResult)};dexie$1=dexie$1.default||dexie$1,dexie$1.addons.push((function(e){dexie$1.prototype.collection=function(t){return e.table(t)},e.Table.prototype.count=function(e){return(isEmptyValue(e)?this.toCollection():performFind(this,e)).count()},e.Table.prototype.find=function(e){return performFind(this,e)},e.Table.prototype.findOne=function(e){return performFind(this,e).first()},e.Table.prototype.insert=function(e){return performInsert(this,e)},e.Table.prototype.remove=function(e){return performRemove(this,e)},e.Table.prototype.drop=function(){return performDrop(this)},(e.WriteableTable?e.WriteableTable:e.Table).prototype.update=function(e,t,r){var o=analyseUpdateOptions(r);return performCollectionUpdate(this,e,t,o)}}));var code=createCommonjsModule((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.regexpCode=t.getProperty=t.safeStringify=t.stringify=t.strConcat=t.addCodeArg=t.str=t._=t.nil=t._Code=t.Name=t.IDENTIFIER=t._CodeOrName=void 0;class r{}t._CodeOrName=r,t.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class o extends r{constructor(e){if(super(),!t.IDENTIFIER.test(e))throw new Error("CodeGen: name must be a valid identifier");this.str=e}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}t.Name=o;class n extends r{constructor(e){super(),this._items="string"==typeof e?[e]:e}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const e=this._items[0];return""===e||'""'===e}get str(){var e;return null!==(e=this._str)&&void 0!==e?e:this._str=this._items.reduce(((e,t)=>`${e}${t}`),"")}get names(){var e;return null!==(e=this._names)&&void 0!==e?e:this._names=this._items.reduce(((e,t)=>(t instanceof o&&(e[t.str]=(e[t.str]||0)+1),e)),{})}}function i(e,...t){const r=[e[0]];let o=0;for(;o<t.length;)u(r,t[o]),r.push(e[++o]);return new n(r)}t._Code=n,t.nil=new n(""),t._=i;const s=new n("+");function a(e,...t){const r=[c(e[0])];let o=0;for(;o<t.length;)r.push(s),u(r,t[o]),r.push(s,c(e[++o]));return function(e){let t=1;for(;t<e.length-1;){if(e[t]===s){const r=l(e[t-1],e[t+1]);if(void 0!==r){e.splice(t-1,3,r);continue}e[t++]="+"}t++}}(r),new n(r)}function u(e,t){var r;t instanceof n?e.push(...t._items):t instanceof o?e.push(t):e.push("number"==typeof(r=t)||"boolean"==typeof r||null===r?r:c(Array.isArray(r)?r.join(","):r))}function l(e,t){if('""'===t)return e;if('""'===e)return t;if("string"==typeof e){if(t instanceof o||'"'!==e[e.length-1])return;return"string"!=typeof t?`${e.slice(0,-1)}${t}"`:'"'===t[0]?e.slice(0,-1)+t.slice(1):void 0}return"string"!=typeof t||'"'!==t[0]||e instanceof o?void 0:`"${e}${t.slice(1)}`}function c(e){return JSON.stringify(e).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}t.str=a,t.addCodeArg=u,t.strConcat=function(e,t){return t.emptyStr()?e:e.emptyStr()?t:a`${e}${t}`},t.stringify=function(e){return new n(c(e))},t.safeStringify=c,t.getProperty=function(e){return"string"==typeof e&&t.IDENTIFIER.test(e)?new n(`.${e}`):i`[${e}]`},t.regexpCode=function(e){return new n(e.toString())}})),scope=createCommonjsModule((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.ValueScope=t.ValueScopeName=t.Scope=t.varKinds=t.UsedValueState=void 0;class r extends Error{constructor(e){super(`CodeGen: "code" for ${e} not defined`),this.value=e.value}}var o;!function(e){e[e.Started=0]="Started",e[e.Completed=1]="Completed"}(o=t.UsedValueState||(t.UsedValueState={})),t.varKinds={const:new code.Name("const"),let:new code.Name("let"),var:new code.Name("var")};class n{constructor({prefixes:e,parent:t}={}){this._names={},this._prefixes=e,this._parent=t}toName(e){return e instanceof code.Name?e:this.name(e)}name(e){return new code.Name(this._newName(e))}_newName(e){return`${e}${(this._names[e]||this._nameGroup(e)).index++}`}_nameGroup(e){var t,r;if((null===(r=null===(t=this._parent)||void 0===t?void 0:t._prefixes)||void 0===r?void 0:r.has(e))||this._prefixes&&!this._prefixes.has(e))throw new Error(`CodeGen: prefix "${e}" is not allowed in this scope`);return this._names[e]={prefix:e,index:0}}}t.Scope=n;class i extends code.Name{constructor(e,t){super(t),this.prefix=e}setValue(e,{property:t,itemIndex:r}){this.value=e,this.scopePath=code._`.${new code.Name(t)}[${r}]`}}t.ValueScopeName=i;const s=code._`\n`;t.ValueScope=class extends n{constructor(e){super(e),this._values={},this._scope=e.scope,this.opts={...e,_n:e.lines?s:code.nil}}get(){return this._scope}name(e){return new i(e,this._newName(e))}value(e,t){var r;if(void 0===t.ref)throw new Error("CodeGen: ref must be passed in value");const o=this.toName(e),{prefix:n}=o,i=null!==(r=t.key)&&void 0!==r?r:t.ref;let s=this._values[n];if(s){const e=s.get(i);if(e)return e}else s=this._values[n]=new Map;s.set(i,o);const a=this._scope[n]||(this._scope[n]=[]),u=a.length;return a[u]=t.ref,o.setValue(t,{property:n,itemIndex:u}),o}getValue(e,t){const r=this._values[e];if(r)return r.get(t)}scopeRefs(e,t=this._values){return this._reduceValues(t,(t=>{if(void 0===t.scopePath)throw new Error(`CodeGen: name "${t}" has no value`);return code._`${e}${t.scopePath}`}))}scopeCode(e=this._values,t,r){return this._reduceValues(e,(e=>{if(void 0===e.value)throw new Error(`CodeGen: name "${e}" has no value`);return e.value.code}),t,r)}_reduceValues(e,n,i={},s){let a=code.nil;for(const u in e){const l=e[u];if(!l)continue;const c=i[u]=i[u]||new Map;l.forEach((e=>{if(c.has(e))return;c.set(e,o.Started);let i=n(e);if(i){const r=this.opts.es5?t.varKinds.var:t.varKinds.const;a=code._`${a}${r} ${e} = ${i};${this.opts._n}`}else{if(!(i=null==s?void 0:s(e)))throw new r(e);a=code._`${a}${i}${this.opts._n}`}c.set(e,o.Completed)}))}return a}}})),codegen=createCommonjsModule((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.or=t.and=t.not=t.CodeGen=t.operators=t.varKinds=t.ValueScopeName=t.ValueScope=t.Scope=t.Name=t.regexpCode=t.stringify=t.getProperty=t.nil=t.strConcat=t.str=t._=void 0;var r=code;Object.defineProperty(t,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(t,"strConcat",{enumerable:!0,get:function(){return r.strConcat}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(t,"getProperty",{enumerable:!0,get:function(){return r.getProperty}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(t,"regexpCode",{enumerable:!0,get:function(){return r.regexpCode}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return r.Name}});var o=scope;Object.defineProperty(t,"Scope",{enumerable:!0,get:function(){return o.Scope}}),Object.defineProperty(t,"ValueScope",{enumerable:!0,get:function(){return o.ValueScope}}),Object.defineProperty(t,"ValueScopeName",{enumerable:!0,get:function(){return o.ValueScopeName}}),Object.defineProperty(t,"varKinds",{enumerable:!0,get:function(){return o.varKinds}}),t.operators={GT:new code._Code(">"),GTE:new code._Code(">="),LT:new code._Code("<"),LTE:new code._Code("<="),EQ:new code._Code("==="),NEQ:new code._Code("!=="),NOT:new code._Code("!"),OR:new code._Code("||"),AND:new code._Code("&&"),ADD:new code._Code("+")};class n{optimizeNodes(){return this}optimizeNames(e,t){return this}}class i extends n{constructor(e,t,r){super(),this.varKind=e,this.name=t,this.rhs=r}render({es5:e,_n:t}){const r=e?scope.varKinds.var:this.varKind,o=void 0===this.rhs?"":` = ${this.rhs}`;return`${r} ${this.name}${o};`+t}optimizeNames(e,t){if(e[this.name.str])return this.rhs&&(this.rhs=O(this.rhs,e,t)),this}get names(){return this.rhs instanceof code._CodeOrName?this.rhs.names:{}}}class s extends n{constructor(e,t,r){super(),this.lhs=e,this.rhs=t,this.sideEffects=r}render({_n:e}){return`${this.lhs} = ${this.rhs};`+e}optimizeNames(e,t){if(!(this.lhs instanceof code.Name)||e[this.lhs.str]||this.sideEffects)return this.rhs=O(this.rhs,e,t),this}get names(){return D(this.lhs instanceof code.Name?{}:{...this.lhs.names},this.rhs)}}class a extends s{constructor(e,t,r,o){super(e,r,o),this.op=t}render({_n:e}){return`${this.lhs} ${this.op}= ${this.rhs};`+e}}class u extends n{constructor(e){super(),this.label=e,this.names={}}render({_n:e}){return`${this.label}:`+e}}class l extends n{constructor(e){super(),this.label=e,this.names={}}render({_n:e}){return`break${this.label?` ${this.label}`:""};`+e}}class c extends n{constructor(e){super(),this.error=e}render({_n:e}){return`throw ${this.error};`+e}get names(){return this.error.names}}class p extends n{constructor(e){super(),this.code=e}render({_n:e}){return`${this.code};`+e}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(e,t){return this.code=O(this.code,e,t),this}get names(){return this.code instanceof code._CodeOrName?this.code.names:{}}}class g extends n{constructor(e=[]){super(),this.nodes=e}render(e){return this.nodes.reduce(((t,r)=>t+r.render(e)),"")}optimizeNodes(){const{nodes:e}=this;let t=e.length;for(;t--;){const r=e[t].optimizeNodes();Array.isArray(r)?e.splice(t,1,...r):r?e[t]=r:e.splice(t,1)}return e.length>0?this:void 0}optimizeNames(e,t){const{nodes:r}=this;let o=r.length;for(;o--;){const n=r[o];n.optimizeNames(e,t)||(P(e,n.names),r.splice(o,1))}return r.length>0?this:void 0}get names(){return this.nodes.reduce(((e,t)=>A(e,t.names)),{})}}class d extends g{render(e){return"{"+e._n+super.render(e)+"}"+e._n}}class f extends g{}class h extends d{}h.kind="else";class y extends d{constructor(e,t){super(t),this.condition=e}render(e){let t=`if(${this.condition})`+super.render(e);return this.else&&(t+="else "+this.else.render(e)),t}optimizeNodes(){super.optimizeNodes();const e=this.condition;if(!0===e)return this.nodes;let t=this.else;if(t){const e=t.optimizeNodes();t=this.else=Array.isArray(e)?new h(e):e}return t?!1===e?t instanceof y?t:t.nodes:this.nodes.length?this:new y(I(e),t instanceof y?[t]:t.nodes):!1!==e&&this.nodes.length?this:void 0}optimizeNames(e,t){var r;if(this.else=null===(r=this.else)||void 0===r?void 0:r.optimizeNames(e,t),super.optimizeNames(e,t)||this.else)return this.condition=O(this.condition,e,t),this}get names(){const e=super.names;return D(e,this.condition),this.else&&A(e,this.else.names),e}}y.kind="if";class b extends d{}b.kind="for";class m extends b{constructor(e){super(),this.iteration=e}render(e){return`for(${this.iteration})`+super.render(e)}optimizeNames(e,t){if(super.optimizeNames(e,t))return this.iteration=O(this.iteration,e,t),this}get names(){return A(super.names,this.iteration.names)}}class _ extends b{constructor(e,t,r,o){super(),this.varKind=e,this.name=t,this.from=r,this.to=o}render(e){const t=e.es5?scope.varKinds.var:this.varKind,{name:r,from:o,to:n}=this;return`for(${t} ${r}=${o}; ${r}<${n}; ${r}++)`+super.render(e)}get names(){const e=D(super.names,this.from);return D(e,this.to)}}class v extends b{constructor(e,t,r,o){super(),this.loop=e,this.varKind=t,this.name=r,this.iterable=o}render(e){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(e)}optimizeNames(e,t){if(super.optimizeNames(e,t))return this.iterable=O(this.iterable,e,t),this}get names(){return A(super.names,this.iterable.names)}}class E extends d{constructor(e,t,r){super(),this.name=e,this.args=t,this.async=r}render(e){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(e)}}E.kind="func";class S extends g{render(e){return"return "+super.render(e)}}S.kind="return";class w extends d{render(e){let t="try"+super.render(e);return this.catch&&(t+=this.catch.render(e)),this.finally&&(t+=this.finally.render(e)),t}optimizeNodes(){var e,t;return super.optimizeNodes(),null===(e=this.catch)||void 0===e||e.optimizeNodes(),null===(t=this.finally)||void 0===t||t.optimizeNodes(),this}optimizeNames(e,t){var r,o;return super.optimizeNames(e,t),null===(r=this.catch)||void 0===r||r.optimizeNames(e,t),null===(o=this.finally)||void 0===o||o.optimizeNames(e,t),this}get names(){const e=super.names;return this.catch&&A(e,this.catch.names),this.finally&&A(e,this.finally.names),e}}class T extends d{constructor(e){super(),this.error=e}render(e){return`catch(${this.error})`+super.render(e)}}T.kind="catch";class R extends d{render(e){return"finally"+super.render(e)}}function A(e,t){for(const r in t)e[r]=(e[r]||0)+(t[r]||0);return e}function D(e,t){return t instanceof code._CodeOrName?A(e,t.names):e}function O(e,t,r){return e instanceof code.Name?o(e):function(e){return e instanceof code._Code&&e._items.some((e=>e instanceof code.Name&&1===t[e.str]&&void 0!==r[e.str]))}(e)?new code._Code(e._items.reduce(((e,t)=>(t instanceof code.Name&&(t=o(t)),t instanceof code._Code?e.push(...t._items):e.push(t),e)),[])):e;function o(e){const o=r[e.str];return void 0===o||1!==t[e.str]?e:(delete t[e.str],o)}}function P(e,t){for(const r in t)e[r]=(e[r]||0)-(t[r]||0)}function I(e){return"boolean"==typeof e||"number"==typeof e||null===e?!e:code._`!${N(e)}`}R.kind="finally",t.CodeGen=class{constructor(e,t={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...t,_n:t.lines?"\n":""},this._extScope=e,this._scope=new scope.Scope({parent:e}),this._nodes=[new f]}toString(){return this._root.render(this.opts)}name(e){return this._scope.name(e)}scopeName(e){return this._extScope.name(e)}scopeValue(e,t){const r=this._extScope.value(e,t);return(this._values[r.prefix]||(this._values[r.prefix]=new Set)).add(r),r}getScopeValue(e,t){return this._extScope.getValue(e,t)}scopeRefs(e){return this._extScope.scopeRefs(e,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(e,t,r,o){const n=this._scope.toName(t);return void 0!==r&&o&&(this._constants[n.str]=r),this._leafNode(new i(e,n,r)),n}const(e,t,r){return this._def(scope.varKinds.const,e,t,r)}let(e,t,r){return this._def(scope.varKinds.let,e,t,r)}var(e,t,r){return this._def(scope.varKinds.var,e,t,r)}assign(e,t,r){return this._leafNode(new s(e,t,r))}add(e,r){return this._leafNode(new a(e,t.operators.ADD,r))}code(e){return"function"==typeof e?e():e!==code.nil&&this._leafNode(new p(e)),this}object(...e){const t=["{"];for(const[r,o]of e)t.length>1&&t.push(","),t.push(r),(r!==o||this.opts.es5)&&(t.push(":"),code.addCodeArg(t,o));return t.push("}"),new code._Code(t)}if(e,t,r){if(this._blockNode(new y(e)),t&&r)this.code(t).else().code(r).endIf();else if(t)this.code(t).endIf();else if(r)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(e){return this._elseNode(new y(e))}else(){return this._elseNode(new h)}endIf(){return this._endBlockNode(y,h)}_for(e,t){return this._blockNode(e),t&&this.code(t).endFor(),this}for(e,t){return this._for(new m(e),t)}forRange(e,t,r,o,n=(this.opts.es5?scope.varKinds.var:scope.varKinds.let)){const i=this._scope.toName(e);return this._for(new _(n,i,t,r),(()=>o(i)))}forOf(e,t,r,o=scope.varKinds.const){const n=this._scope.toName(e);if(this.opts.es5){const e=t instanceof code.Name?t:this.var("_arr",t);return this.forRange("_i",0,code._`${e}.length`,(t=>{this.var(n,code._`${e}[${t}]`),r(n)}))}return this._for(new v("of",o,n,t),(()=>r(n)))}forIn(e,t,r,o=(this.opts.es5?scope.varKinds.var:scope.varKinds.const)){if(this.opts.ownProperties)return this.forOf(e,code._`Object.keys(${t})`,r);const n=this._scope.toName(e);return this._for(new v("in",o,n,t),(()=>r(n)))}endFor(){return this._endBlockNode(b)}label(e){return this._leafNode(new u(e))}break(e){return this._leafNode(new l(e))}return(e){const t=new S;if(this._blockNode(t),this.code(e),1!==t.nodes.length)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(S)}try(e,t,r){if(!t&&!r)throw new Error('CodeGen: "try" without "catch" and "finally"');const o=new w;if(this._blockNode(o),this.code(e),t){const e=this.name("e");this._currNode=o.catch=new T(e),t(e)}return r&&(this._currNode=o.finally=new R,this.code(r)),this._endBlockNode(T,R)}throw(e){return this._leafNode(new c(e))}block(e,t){return this._blockStarts.push(this._nodes.length),e&&this.code(e).endBlock(t),this}endBlock(e){const t=this._blockStarts.pop();if(void 0===t)throw new Error("CodeGen: not in self-balancing block");const r=this._nodes.length-t;if(r<0||void 0!==e&&r!==e)throw new Error(`CodeGen: wrong number of nodes: ${r} vs ${e} expected`);return this._nodes.length=t,this}func(e,t=code.nil,r,o){return this._blockNode(new E(e,t,r)),o&&this.code(o).endFunc(),this}endFunc(){return this._endBlockNode(E)}optimize(e=1){for(;e-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(e){return this._currNode.nodes.push(e),this}_blockNode(e){this._currNode.nodes.push(e),this._nodes.push(e)}_endBlockNode(e,t){const r=this._currNode;if(r instanceof e||t&&r instanceof t)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${t?`${e.kind}/${t.kind}`:e.kind}"`)}_elseNode(e){const t=this._currNode;if(!(t instanceof y))throw new Error('CodeGen: "else" without "if"');return this._currNode=t.else=e,this}get _root(){return this._nodes[0]}get _currNode(){const e=this._nodes;return e[e.length-1]}set _currNode(e){const t=this._nodes;t[t.length-1]=e}},t.not=I;const C=j(t.operators.AND);t.and=function(...e){return e.reduce(C)};const B=j(t.operators.OR);function j(e){return(t,r)=>t===code.nil?r:r===code.nil?t:code._`${N(t)} ${e} ${N(r)}`}function N(e){return e instanceof code.Name?e:code._`(${e})`}t.or=function(...e){return e.reduce(B)}})),util=createCommonjsModule((function(e,t){function r(e,t=e.schema){const{opts:r,self:o}=e;if(!r.strictSchema)return;if("boolean"==typeof t)return;const n=o.RULES.keywords;for(const r in t)n[r]||p(e,`unknown keyword: "${r}"`)}function o(e,t){if("boolean"==typeof e)return!e;for(const r in e)if(t[r])return!0;return!1}function n(e){return"number"==typeof e?`${e}`:e.replace(/~/g,"~0").replace(/\//g,"~1")}function i(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function s({mergeNames:e,mergeToName:t,mergeValues:r,resultToName:o}){return(n,i,s,a)=>{const u=void 0===s?i:s instanceof codegen.Name?(i instanceof codegen.Name?e(n,i,s):t(n,i,s),s):i instanceof codegen.Name?(t(n,s,i),i):r(i,s);return a!==codegen.Name||u instanceof codegen.Name?u:o(n,u)}}function a(e,t){if(!0===t)return e.var("props",!0);const r=e.var("props",codegen._`{}`);return void 0!==t&&u(e,r,t),r}function u(e,t,r){Object.keys(r).forEach((r=>e.assign(codegen._`${t}${codegen.getProperty(r)}`,!0)))}Object.defineProperty(t,"__esModule",{value:!0}),t.checkStrictMode=t.getErrorPath=t.Type=t.useFunc=t.setEvaluated=t.evaluatedPropsToName=t.mergeEvaluated=t.eachItem=t.unescapeJsonPointer=t.escapeJsonPointer=t.escapeFragment=t.unescapeFragment=t.schemaRefOrVal=t.schemaHasRulesButRef=t.schemaHasRules=t.checkUnknownRules=t.alwaysValidSchema=t.toHash=void 0,t.toHash=function(e){const t={};for(const r of e)t[r]=!0;return t},t.alwaysValidSchema=function(e,t){return"boolean"==typeof t?t:0===Object.keys(t).length||(r(e,t),!o(t,e.self.RULES.all))},t.checkUnknownRules=r,t.schemaHasRules=o,t.schemaHasRulesButRef=function(e,t){if("boolean"==typeof e)return!e;for(const r in e)if("$ref"!==r&&t.all[r])return!0;return!1},t.schemaRefOrVal=function({topSchemaRef:e,schemaPath:t},r,o,n){if(!n){if("number"==typeof r||"boolean"==typeof r)return r;if("string"==typeof r)return codegen._`${r}`}return codegen._`${e}${t}${codegen.getProperty(o)}`},t.unescapeFragment=function(e){return i(decodeURIComponent(e))},t.escapeFragment=function(e){return encodeURIComponent(n(e))},t.escapeJsonPointer=n,t.unescapeJsonPointer=i,t.eachItem=function(e,t){if(Array.isArray(e))for(const r of e)t(r);else t(e)},t.mergeEvaluated={props:s({mergeNames:(e,t,r)=>e.if(codegen._`${r} !== true && ${t} !== undefined`,(()=>{e.if(codegen._`${t} === true`,(()=>e.assign(r,!0)),(()=>e.assign(r,codegen._`${r} || {}`).code(codegen._`Object.assign(${r}, ${t})`)))})),mergeToName:(e,t,r)=>e.if(codegen._`${r} !== true`,(()=>{!0===t?e.assign(r,!0):(e.assign(r,codegen._`${r} || {}`),u(e,r,t))})),mergeValues:(e,t)=>!0===e||{...e,...t},resultToName:a}),items:s({mergeNames:(e,t,r)=>e.if(codegen._`${r} !== true && ${t} !== undefined`,(()=>e.assign(r,codegen._`${t} === true ? true : ${r} > ${t} ? ${r} : ${t}`))),mergeToName:(e,t,r)=>e.if(codegen._`${r} !== true`,(()=>e.assign(r,!0===t||codegen._`${r} > ${t} ? ${r} : ${t}`))),mergeValues:(e,t)=>!0===e||Math.max(e,t),resultToName:(e,t)=>e.var("items",t)})},t.evaluatedPropsToName=a,t.setEvaluated=u;const l={};var c;function p(e,t,r=e.opts.strictSchema){if(r){if(t=`strict mode: ${t}`,!0===r)throw new Error(t);e.self.logger.warn(t)}}t.useFunc=function(e,t){return e.scopeValue("func",{ref:t,code:l[t.code]||(l[t.code]=new code._Code(t.code))})},function(e){e[e.Num=0]="Num",e[e.Str=1]="Str"}(c=t.Type||(t.Type={})),t.getErrorPath=function(e,t,r){if(e instanceof codegen.Name){const o=t===c.Num;return r?o?codegen._`"[" + ${e} + "]"`:codegen._`"['" + ${e} + "']"`:o?codegen._`"/" + ${e}`:codegen._`"/" + ${e}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return r?codegen.getProperty(e).toString():"/"+n(e)},t.checkStrictMode=p}));const names={data:new codegen.Name("data"),valCxt:new codegen.Name("valCxt"),instancePath:new codegen.Name("instancePath"),parentData:new codegen.Name("parentData"),parentDataProperty:new codegen.Name("parentDataProperty"),rootData:new codegen.Name("rootData"),dynamicAnchors:new codegen.Name("dynamicAnchors"),vErrors:new codegen.Name("vErrors"),errors:new codegen.Name("errors"),this:new codegen.Name("this"),self:new codegen.Name("self"),scope:new codegen.Name("scope"),json:new codegen.Name("json"),jsonPos:new codegen.Name("jsonPos"),jsonLen:new codegen.Name("jsonLen"),jsonPart:new codegen.Name("jsonPart")};var _default=names,names_1=Object.defineProperty({default:_default},"__esModule",{value:!0}),errors=createCommonjsModule((function(e,t){function r(e,t){const r=e.const("err",t);e.if(codegen._`${names_1.default.vErrors} === null`,(()=>e.assign(names_1.default.vErrors,codegen._`[${r}]`)),codegen._`${names_1.default.vErrors}.push(${r})`),e.code(codegen._`${names_1.default.errors}++`)}function o(e,t){const{gen:r,validateName:o,schemaEnv:n}=e;n.$async?r.throw(codegen._`new ${e.ValidationError}(${t})`):(r.assign(codegen._`${o}.errors`,t),r.return(!1))}Object.defineProperty(t,"__esModule",{value:!0}),t.extendErrors=t.resetErrorsCount=t.reportExtraError=t.reportError=t.keyword$DataError=t.keywordError=void 0,t.keywordError={message:({keyword:e})=>codegen.str`must pass "${e}" keyword validation`},t.keyword$DataError={message:({keyword:e,schemaType:t})=>t?codegen.str`"${e}" keyword must be ${t} ($data)`:codegen.str`"${e}" keyword is invalid ($data)`},t.reportError=function(e,n=t.keywordError,s,a){const{it:u}=e,{gen:l,compositeRule:c,allErrors:p}=u,g=i(e,n,s);(null!=a?a:c||p)?r(l,g):o(u,codegen._`[${g}]`)},t.reportExtraError=function(e,n=t.keywordError,s){const{it:a}=e,{gen:u,compositeRule:l,allErrors:c}=a;r(u,i(e,n,s)),l||c||o(a,names_1.default.vErrors)},t.resetErrorsCount=function(e,t){e.assign(names_1.default.errors,t),e.if(codegen._`${names_1.default.vErrors} !== null`,(()=>e.if(t,(()=>e.assign(codegen._`${names_1.default.vErrors}.length`,t)),(()=>e.assign(names_1.default.vErrors,null)))))},t.extendErrors=function({gen:e,keyword:t,schemaValue:r,data:o,errsCount:n,it:i}){if(void 0===n)throw new Error("ajv implementation error");const s=e.name("err");e.forRange("i",n,names_1.default.errors,(n=>{e.const(s,codegen._`${names_1.default.vErrors}[${n}]`),e.if(codegen._`${s}.instancePath === undefined`,(()=>e.assign(codegen._`${s}.instancePath`,codegen.strConcat(names_1.default.instancePath,i.errorPath)))),e.assign(codegen._`${s}.schemaPath`,codegen.str`${i.errSchemaPath}/${t}`),i.opts.verbose&&(e.assign(codegen._`${s}.schema`,r),e.assign(codegen._`${s}.data`,o))}))};const n={keyword:new codegen.Name("keyword"),schemaPath:new codegen.Name("schemaPath"),params:new codegen.Name("params"),propertyName:new codegen.Name("propertyName"),message:new codegen.Name("message"),schema:new codegen.Name("schema"),parentSchema:new codegen.Name("parentSchema")};function i(e,t,r){const{createErrors:o}=e.it;return!1===o?codegen._`{}`:function(e,t,r={}){const{gen:o,it:i}=e,u=[s(i,r),a(e,r)];return function(e,{params:t,message:r},o){const{keyword:i,data:s,schemaValue:a,it:u}=e,{opts:l,propertyName:c,topSchemaRef:p,schemaPath:g}=u;o.push([n.keyword,i],[n.params,"function"==typeof t?t(e):t||codegen._`{}`]),l.messages&&o.push([n.message,"function"==typeof r?r(e):r]),l.verbose&&o.push([n.schema,a],[n.parentSchema,codegen._`${p}${g}`],[names_1.default.data,s]),c&&o.push([n.propertyName,c])}(e,t,u),o.object(...u)}(e,t,r)}function s({errorPath:e},{instancePath:t}){const r=t?codegen.str`${e}${util.getErrorPath(t,util.Type.Str)}`:e;return[names_1.default.instancePath,codegen.strConcat(names_1.default.instancePath,r)]}function a({keyword:e,it:{errSchemaPath:t}},{schemaPath:r,parentSchema:o}){let i=o?t:codegen.str`${t}/${e}`;return r&&(i=codegen.str`${i}${util.getErrorPath(r,util.Type.Str)}`),[n.schemaPath,i]}})),boolSchema=createCommonjsModule((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.boolOrEmptySchema=t.topBoolOrEmptySchema=void 0;const r={message:"boolean schema is false"};function o(e,t){const{gen:o,data:n}=e,i={gen:o,keyword:"false schema",data:n,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:e};errors.reportError(i,r,void 0,t)}t.topBoolOrEmptySchema=function(e){const{gen:t,schema:r,validateName:n}=e;!1===r?o(e,!1):"object"==typeof r&&!0===r.$async?t.return(names_1.default.data):(t.assign(codegen._`${n}.errors`,null),t.return(!0))},t.boolOrEmptySchema=function(e,t){const{gen:r,schema:n}=e;!1===n?(r.var(t,!1),o(e)):r.var(t,!0)}})),rules=createCommonjsModule((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.getRules=t.isJSONType=void 0;const r=new Set(["string","number","integer","boolean","null","object","array"]);t.isJSONType=function(e){return"string"==typeof e&&r.has(e)},t.getRules=function(){const e={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...e,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},e.number,e.string,e.array,e.object],post:{rules:[]},all:{},keywords:{}}}})),applicability=createCommonjsModule((function(e,t){function r(e,t){return t.rules.some((t=>o(e,t)))}function o(e,t){var r;return void 0!==e[t.keyword]||(null===(r=t.definition.implements)||void 0===r?void 0:r.some((t=>void 0!==e[t])))}Object.defineProperty(t,"__esModule",{value:!0}),t.shouldUseRule=t.shouldUseGroup=t.schemaHasRulesForType=void 0,t.schemaHasRulesForType=function({schema:e,self:t},o){const n=t.RULES.types[o];return n&&!0!==n&&r(e,n)},t.shouldUseGroup=r,t.shouldUseRule=o})),dataType=createCommonjsModule((function(e,t){var r;function o(e){const t=Array.isArray(e)?e:e?[e]:[];if(t.every(rules.isJSONType))return t;throw new Error("type must be JSONType or JSONType[]: "+t.join(","))}Object.defineProperty(t,"__esModule",{value:!0}),t.reportTypeError=t.checkDataTypes=t.checkDataType=t.coerceAndCheckDataType=t.getJSONTypes=t.getSchemaTypes=t.DataType=void 0,function(e){e[e.Correct=0]="Correct",e[e.Wrong=1]="Wrong"}(r=t.DataType||(t.DataType={})),t.getSchemaTypes=function(e){const t=o(e.type);if(t.includes("null")){if(!1===e.nullable)throw new Error("type: null contradicts nullable: false")}else{if(!t.length&&void 0!==e.nullable)throw new Error('"nullable" cannot be used without "type"');!0===e.nullable&&t.push("null")}return t},t.getJSONTypes=o,t.coerceAndCheckDataType=function(e,t){const{gen:o,data:i,opts:a}=e,l=function(e,t){return t?e.filter((e=>n.has(e)||"array"===t&&"array"===e)):[]}(t,a.coerceTypes),c=t.length>0&&!(0===l.length&&1===t.length&&applicability.schemaHasRulesForType(e,t[0]));if(c){const c=s(t,i,a.strictNumbers,r.Wrong);o.if(c,(()=>{l.length?function(e,t,r){const{gen:o,data:i,opts:a}=e,l=o.let("dataType",codegen._`typeof ${i}`),c=o.let("coerced",codegen._`undefined`);"array"===a.coerceTypes&&o.if(codegen._`${l} == 'object' && Array.isArray(${i}) && ${i}.length == 1`,(()=>o.assign(i,codegen._`${i}[0]`).assign(l,codegen._`typeof ${i}`).if(s(t,i,a.strictNumbers),(()=>o.assign(c,i))))),o.if(codegen._`${c} !== undefined`);for(const e of r)(n.has(e)||"array"===e&&"array"===a.coerceTypes)&&p(e);function p(e){switch(e){case"string":return void o.elseIf(codegen._`${l} == "number" || ${l} == "boolean"`).assign(c,codegen._`"" + ${i}`).elseIf(codegen._`${i} === null`).assign(c,codegen._`""`);case"number":return void o.elseIf(codegen._`${l} == "boolean" || ${i} === null
              || (${l} == "string" && ${i} && ${i} == +${i})`).assign(c,codegen._`+${i}`);case"integer":return void o.elseIf(codegen._`${l} === "boolean" || ${i} === null
              || (${l} === "string" && ${i} && ${i} == +${i} && !(${i} % 1))`).assign(c,codegen._`+${i}`);case"boolean":return void o.elseIf(codegen._`${i} === "false" || ${i} === 0 || ${i} === null`).assign(c,!1).elseIf(codegen._`${i} === "true" || ${i} === 1`).assign(c,!0);case"null":return o.elseIf(codegen._`${i} === "" || ${i} === 0 || ${i} === false`),void o.assign(c,null);case"array":o.elseIf(codegen._`${l} === "string" || ${l} === "number"
              || ${l} === "boolean" || ${i} === null`).assign(c,codegen._`[${i}]`)}}o.else(),u(e),o.endIf(),o.if(codegen._`${c} !== undefined`,(()=>{o.assign(i,c),function({gen:e,parentData:t,parentDataProperty:r},o){e.if(codegen._`${t} !== undefined`,(()=>e.assign(codegen._`${t}[${r}]`,o)))}(e,c)}))}(e,t,l):u(e)}))}return c};const n=new Set(["string","number","integer","boolean","null"]);function i(e,t,o,n=r.Correct){const i=n===r.Correct?codegen.operators.EQ:codegen.operators.NEQ;let s;switch(e){case"null":return codegen._`${t} ${i} null`;case"array":s=codegen._`Array.isArray(${t})`;break;case"object":s=codegen._`${t} && typeof ${t} == "object" && !Array.isArray(${t})`;break;case"integer":s=a(codegen._`!(${t} % 1) && !isNaN(${t})`);break;case"number":s=a();break;default:return codegen._`typeof ${t} ${i} ${e}`}return n===r.Correct?s:codegen.not(s);function a(e=codegen.nil){return codegen.and(codegen._`typeof ${t} == "number"`,e,o?codegen._`isFinite(${t})`:codegen.nil)}}function s(e,t,r,o){if(1===e.length)return i(e[0],t,r,o);let n;const s=util.toHash(e);if(s.array&&s.object){const e=codegen._`typeof ${t} != "object"`;n=s.null?e:codegen._`!${t} || ${e}`,delete s.null,delete s.array,delete s.object}else n=codegen.nil;s.number&&delete s.integer;for(const e in s)n=codegen.and(n,i(e,t,r,o));return n}t.checkDataType=i,t.checkDataTypes=s;const a={message:({schema:e})=>`must be ${e}`,params:({schema:e,schemaValue:t})=>"string"==typeof e?codegen._`{type: ${e}}`:codegen._`{type: ${t}}`};function u(e){const t=function(e){const{gen:t,data:r,schema:o}=e,n=util.schemaRefOrVal(e,o,"type");return{gen:t,keyword:"type",data:r,schema:o.type,schemaCode:n,schemaValue:n,parentSchema:o,params:{},it:e}}(e);errors.reportError(t,a)}t.reportTypeError=u})),defaults$1=createCommonjsModule((function(e,t){function r(e,t,r){const{gen:o,compositeRule:n,data:i,opts:s}=e;if(void 0===r)return;const a=codegen._`${i}${codegen.getProperty(t)}`;if(n)return void util.checkStrictMode(e,`default is ignored for: ${a}`);let u=codegen._`${a} === undefined`;"empty"===s.useDefaults&&(u=codegen._`${u} || ${a} === null || ${a} === ""`),o.if(u,codegen._`${a} = ${codegen.stringify(r)}`)}Object.defineProperty(t,"__esModule",{value:!0}),t.assignDefaults=void 0,t.assignDefaults=function(e,t){const{properties:o,items:n}=e.schema;if("object"===t&&o)for(const t in o)r(e,t,o[t].default);else"array"===t&&Array.isArray(n)&&n.forEach(((t,o)=>r(e,o,t.default)))}})),code$1=createCommonjsModule((function(e,t){function r(e){return e.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:codegen._`Object.prototype.hasOwnProperty`})}function o(e,t,o){return codegen._`${r(e)}.call(${t}, ${o})`}function n(e,t,r,n){const i=codegen._`${t}${codegen.getProperty(r)} === undefined`;return n?codegen.or(i,codegen.not(o(e,t,r))):i}function i(e){return e?Object.keys(e).filter((e=>"__proto__"!==e)):[]}Object.defineProperty(t,"__esModule",{value:!0}),t.validateUnion=t.validateArray=t.usePattern=t.callValidateCode=t.schemaProperties=t.allSchemaProperties=t.noPropertyInData=t.propertyInData=t.isOwnProperty=t.hasPropFunc=t.reportMissingProp=t.checkMissingProp=t.checkReportMissingProp=void 0,t.checkReportMissingProp=function(e,t){const{gen:r,data:o,it:i}=e;r.if(n(r,o,t,i.opts.ownProperties),(()=>{e.setParams({missingProperty:codegen._`${t}`},!0),e.error()}))},t.checkMissingProp=function({gen:e,data:t,it:{opts:r}},o,i){return codegen.or(...o.map((o=>codegen.and(n(e,t,o,r.ownProperties),codegen._`${i} = ${o}`))))},t.reportMissingProp=function(e,t){e.setParams({missingProperty:t},!0),e.error()},t.hasPropFunc=r,t.isOwnProperty=o,t.propertyInData=function(e,t,r,n){const i=codegen._`${t}${codegen.getProperty(r)} !== undefined`;return n?codegen._`${i} && ${o(e,t,r)}`:i},t.noPropertyInData=n,t.allSchemaProperties=i,t.schemaProperties=function(e,t){return i(t).filter((r=>!util.alwaysValidSchema(e,t[r])))},t.callValidateCode=function({schemaCode:e,data:t,it:{gen:r,topSchemaRef:o,schemaPath:n,errorPath:i},it:s},a,u,l){const c=l?codegen._`${e}, ${t}, ${o}${n}`:t,p=[[names_1.default.instancePath,codegen.strConcat(names_1.default.instancePath,i)],[names_1.default.parentData,s.parentData],[names_1.default.parentDataProperty,s.parentDataProperty],[names_1.default.rootData,names_1.default.rootData]];s.opts.dynamicRef&&p.push([names_1.default.dynamicAnchors,names_1.default.dynamicAnchors]);const g=codegen._`${c}, ${r.object(...p)}`;return u!==codegen.nil?codegen._`${a}.call(${u}, ${g})`:codegen._`${a}(${g})`},t.usePattern=function({gen:e,it:{opts:t}},r){const o=t.unicodeRegExp?"u":"";return e.scopeValue("pattern",{key:r,ref:new RegExp(r,o),code:codegen._`new RegExp(${r}, ${o})`})},t.validateArray=function(e){const{gen:t,data:r,keyword:o,it:n}=e,i=t.name("valid");if(n.allErrors){const e=t.let("valid",!0);return s((()=>t.assign(e,!1))),e}return t.var(i,!0),s((()=>t.break())),i;function s(n){const s=t.const("len",codegen._`${r}.length`);t.forRange("i",0,s,(r=>{e.subschema({keyword:o,dataProp:r,dataPropType:util.Type.Num},i),t.if(codegen.not(i),n)}))}},t.validateUnion=function(e){const{gen:t,schema:r,keyword:o,it:n}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(r.some((e=>util.alwaysValidSchema(n,e)))&&!n.opts.unevaluated)return;const i=t.let("valid",!1),s=t.name("_valid");t.block((()=>r.forEach(((r,n)=>{const a=e.subschema({keyword:o,schemaProp:n,compositeRule:!0},s);t.assign(i,codegen._`${i} || ${s}`),e.mergeValidEvaluated(a,s)||t.if(codegen.not(i))})))),e.result(i,(()=>e.reset()),(()=>e.error(!0)))}})),keyword=createCommonjsModule((function(e,t){function r(e){const{gen:t,data:r,it:o}=e;t.if(o.parentData,(()=>t.assign(r,codegen._`${o.parentData}[${o.parentDataProperty}]`)))}function o(e,t,r){if(void 0===r)throw new Error(`keyword "${t}" failed to compile`);return e.scopeValue("keyword","function"==typeof r?{ref:r}:{ref:r,code:codegen.stringify(r)})}Object.defineProperty(t,"__esModule",{value:!0}),t.validateKeywordUsage=t.validSchemaType=t.funcKeywordCode=t.macroKeywordCode=void 0,t.macroKeywordCode=function(e,t){const{gen:r,keyword:n,schema:i,parentSchema:s,it:a}=e,u=t.macro.call(a.self,i,s,a),l=o(r,n,u);!1!==a.opts.validateSchema&&a.self.validateSchema(u,!0);const c=r.name("valid");e.subschema({schema:u,schemaPath:codegen.nil,errSchemaPath:`${a.errSchemaPath}/${n}`,topSchemaRef:l,compositeRule:!0},c),e.pass(c,(()=>e.error(!0)))},t.funcKeywordCode=function(e,t){var n;const{gen:i,keyword:s,schema:a,parentSchema:u,$data:l,it:c}=e;!function({schemaEnv:e},t){if(t.async&&!e.$async)throw new Error("async keyword in sync schema")}(c,t);const p=!l&&t.compile?t.compile.call(c.self,a,u,c):t.validate,g=o(i,s,p),d=i.let("valid");function f(r=(t.async?codegen._`await `:codegen.nil)){const o=c.opts.passContext?names_1.default.this:names_1.default.self,n=!("compile"in t&&!l||!1===t.schema);i.assign(d,codegen._`${r}${code$1.callValidateCode(e,g,o,n)}`,t.modifying)}function h(e){var r;i.if(codegen.not(null!==(r=t.valid)&&void 0!==r?r:d),e)}e.block$data(d,(function(){if(!1===t.errors)f(),t.modifying&&r(e),h((()=>e.error()));else{const o=t.async?function(){const e=i.let("ruleErrs",null);return i.try((()=>f(codegen._`await `)),(t=>i.assign(d,!1).if(codegen._`${t} instanceof ${c.ValidationError}`,(()=>i.assign(e,codegen._`${t}.errors`)),(()=>i.throw(t))))),e}():function(){const e=codegen._`${g}.errors`;return i.assign(e,null),f(codegen.nil),e}();t.modifying&&r(e),h((()=>function(e,t){const{gen:r}=e;r.if(codegen._`Array.isArray(${t})`,(()=>{r.assign(names_1.default.vErrors,codegen._`${names_1.default.vErrors} === null ? ${t} : ${names_1.default.vErrors}.concat(${t})`).assign(names_1.default.errors,codegen._`${names_1.default.vErrors}.length`),errors.extendErrors(e)}),(()=>e.error()))}(e,o)))}})),e.ok(null!==(n=t.valid)&&void 0!==n?n:d)},t.validSchemaType=function(e,t,r=!1){return!t.length||t.some((t=>"array"===t?Array.isArray(e):"object"===t?e&&"object"==typeof e&&!Array.isArray(e):typeof e==t||r&&void 0===e))},t.validateKeywordUsage=function({schema:e,opts:t,self:r,errSchemaPath:o},n,i){if(Array.isArray(n.keyword)?!n.keyword.includes(i):n.keyword!==i)throw new Error("ajv implementation error");const s=n.dependencies;if(null==s?void 0:s.some((t=>!Object.prototype.hasOwnProperty.call(e,t))))throw new Error(`parent schema must have dependencies of ${i}: ${s.join(",")}`);if(n.validateSchema&&!n.validateSchema(e[i])){const e=`keyword "${i}" value is invalid at path "${o}": `+r.errorsText(n.validateSchema.errors);if("log"!==t.validateSchema)throw new Error(e);r.logger.error(e)}}})),subschema=createCommonjsModule((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.extendSubschemaMode=t.extendSubschemaData=t.getSubschema=void 0,t.getSubschema=function(e,{keyword:t,schemaProp:r,schema:o,schemaPath:n,errSchemaPath:i,topSchemaRef:s}){if(void 0!==t&&void 0!==o)throw new Error('both "keyword" and "schema" passed, only one allowed');if(void 0!==t){const o=e.schema[t];return void 0===r?{schema:o,schemaPath:codegen._`${e.schemaPath}${codegen.getProperty(t)}`,errSchemaPath:`${e.errSchemaPath}/${t}`}:{schema:o[r],schemaPath:codegen._`${e.schemaPath}${codegen.getProperty(t)}${codegen.getProperty(r)}`,errSchemaPath:`${e.errSchemaPath}/${t}/${util.escapeFragment(r)}`}}if(void 0!==o){if(void 0===n||void 0===i||void 0===s)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:o,schemaPath:n,topSchemaRef:s,errSchemaPath:i}}throw new Error('either "keyword" or "schema" must be passed')},t.extendSubschemaData=function(e,t,{dataProp:r,dataPropType:o,data:n,dataTypes:i,propertyName:s}){if(void 0!==n&&void 0!==r)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:a}=t;if(void 0!==r){const{errorPath:n,dataPathArr:i,opts:s}=t;u(a.let("data",codegen._`${t.data}${codegen.getProperty(r)}`,!0)),e.errorPath=codegen.str`${n}${util.getErrorPath(r,o,s.jsPropertySyntax)}`,e.parentDataProperty=codegen._`${r}`,e.dataPathArr=[...i,e.parentDataProperty]}function u(r){e.data=r,e.dataLevel=t.dataLevel+1,e.dataTypes=[],t.definedProperties=new Set,e.parentData=t.data,e.dataNames=[...t.dataNames,r]}void 0!==n&&(u(n instanceof codegen.Name?n:a.let("data",n,!0)),void 0!==s&&(e.propertyName=s)),i&&(e.dataTypes=i)},t.extendSubschemaMode=function(e,{jtdDiscriminator:t,jtdMetadata:r,compositeRule:o,createErrors:n,allErrors:i}){void 0!==o&&(e.compositeRule=o),void 0!==n&&(e.createErrors=n),void 0!==i&&(e.allErrors=i),e.jtdDiscriminator=t,e.jtdMetadata=r}})),fastDeepEqual=function e(t,r){if(t===r)return!0;if(t&&r&&"object"==typeof t&&"object"==typeof r){if(t.constructor!==r.constructor)return!1;var o,n,i;if(Array.isArray(t)){if((o=t.length)!=r.length)return!1;for(n=o;0!=n--;)if(!e(t[n],r[n]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if((o=(i=Object.keys(t)).length)!==Object.keys(r).length)return!1;for(n=o;0!=n--;)if(!Object.prototype.hasOwnProperty.call(r,i[n]))return!1;for(n=o;0!=n--;){var s=i[n];if(!e(t[s],r[s]))return!1}return!0}return t!=t&&r!=r},jsonSchemaTraverse=createCommonjsModule((function(e){var t=e.exports=function(e,t,o){"function"==typeof t&&(o=t,t={}),r(t,"function"==typeof(o=t.cb||o)?o:o.pre||function(){},o.post||function(){},e,"",e)};function r(e,o,n,i,s,a,u,l,c,p){if(i&&"object"==typeof i&&!Array.isArray(i)){for(var g in o(i,s,a,u,l,c,p),i){var d=i[g];if(Array.isArray(d)){if(g in t.arrayKeywords)for(var f=0;f<d.length;f++)r(e,o,n,d[f],s+"/"+g+"/"+f,a,s,g,i,f)}else if(g in t.propsKeywords){if(d&&"object"==typeof d)for(var h in d)r(e,o,n,d[h],s+"/"+g+"/"+h.replace(/~/g,"~0").replace(/\//g,"~1"),a,s,g,i,h)}else(g in t.keywords||e.allKeys&&!(g in t.skipKeywords))&&r(e,o,n,d,s+"/"+g,a,s,g,i)}n(i,s,a,u,l,c,p)}}t.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},t.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},t.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},t.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0}})),uri_all=createCommonjsModule((function(e,t){!function(e){function t(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];if(t.length>1){t[0]=t[0].slice(0,-1);for(var o=t.length-1,n=1;n<o;++n)t[n]=t[n].slice(1,-1);return t[o]=t[o].slice(1),t.join("")}return t[0]}function r(e){return"(?:"+e+")"}function o(e){return void 0===e?"undefined":null===e?"null":Object.prototype.toString.call(e).split(" ").pop().split("]").shift().toLowerCase()}function n(e){return e.toUpperCase()}function i(e){var o="[A-Za-z]",n="[0-9]",i=t(n,"[A-Fa-f]"),s=r(r("%[EFef]"+i+"%"+i+i+"%"+i+i)+"|"+r("%[89A-Fa-f]"+i+"%"+i+i)+"|"+r("%"+i+i)),a="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",u=t("[\\:\\/\\?\\#\\[\\]\\@]",a),l=e?"[\\uE000-\\uF8FF]":"[]",c=t(o,n,"[\\-\\.\\_\\~]",e?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]");r(o+t(o,n,"[\\+\\-\\.]")+"*"),r(r(s+"|"+t(c,a,"[\\:]"))+"*");var p=r(r("25[0-5]")+"|"+r("2[0-4]"+n)+"|"+r("1"+n+n)+"|"+r("0?[1-9]"+n)+"|0?0?"+n),g=r(p+"\\."+p+"\\."+p+"\\."+p),d=r(i+"{1,4}"),f=r(r(d+"\\:"+d)+"|"+g),h=r(r(d+"\\:")+"{6}"+f),y=r("\\:\\:"+r(d+"\\:")+"{5}"+f),b=r(r(d)+"?\\:\\:"+r(d+"\\:")+"{4}"+f),m=r(r(r(d+"\\:")+"{0,1}"+d)+"?\\:\\:"+r(d+"\\:")+"{3}"+f),_=r(r(r(d+"\\:")+"{0,2}"+d)+"?\\:\\:"+r(d+"\\:")+"{2}"+f),v=r(r(r(d+"\\:")+"{0,3}"+d)+"?\\:\\:"+d+"\\:"+f),E=r(r(r(d+"\\:")+"{0,4}"+d)+"?\\:\\:"+f),S=r(r(r(d+"\\:")+"{0,5}"+d)+"?\\:\\:"+d),w=r(r(r(d+"\\:")+"{0,6}"+d)+"?\\:\\:"),T=r([h,y,b,m,_,v,E,S,w].join("|")),R=r(r(c+"|"+s)+"+");r("[vV]"+i+"+\\."+t(c,a,"[\\:]")+"+"),r(r(s+"|"+t(c,a))+"*");var A=r(s+"|"+t(c,a,"[\\:\\@]"));return r(r(s+"|"+t(c,a,"[\\@]"))+"+"),r(r(A+"|"+t("[\\/\\?]",l))+"*"),{NOT_SCHEME:new RegExp(t("[^]",o,n,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(t("[^\\%\\:]",c,a),"g"),NOT_HOST:new RegExp(t("[^\\%\\[\\]\\:]",c,a),"g"),NOT_PATH:new RegExp(t("[^\\%\\/\\:\\@]",c,a),"g"),NOT_PATH_NOSCHEME:new RegExp(t("[^\\%\\/\\@]",c,a),"g"),NOT_QUERY:new RegExp(t("[^\\%]",c,a,"[\\:\\@\\/\\?]",l),"g"),NOT_FRAGMENT:new RegExp(t("[^\\%]",c,a,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(t("[^]",c,a),"g"),UNRESERVED:new RegExp(c,"g"),OTHER_CHARS:new RegExp(t("[^\\%]",c,u),"g"),PCT_ENCODED:new RegExp(s,"g"),IPV4ADDRESS:new RegExp("^("+g+")$"),IPV6ADDRESS:new RegExp("^\\[?("+T+")"+r(r("\\%25|\\%(?!"+i+"{2})")+"("+R+")")+"?\\]?$")}}var s=i(!1),a=i(!0),u=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],o=!0,n=!1,i=void 0;try{for(var s,a=e[Symbol.iterator]();!(o=(s=a.next()).done)&&(r.push(s.value),!t||r.length!==t);o=!0);}catch(e){n=!0,i=e}finally{try{!o&&a.return&&a.return()}finally{if(n)throw i}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},l=2147483647,c=36,p=/^xn--/,g=/[^\0-\x7E]/,d=/[\x2E\u3002\uFF0E\uFF61]/g,f={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},h=Math.floor,y=String.fromCharCode;function b(e){throw new RangeError(f[e])}function m(e,t){var r=e.split("@"),o="";return r.length>1&&(o=r[0]+"@",e=r[1]),o+function(e,t){for(var r=[],o=e.length;o--;)r[o]=t(e[o]);return r}((e=e.replace(d,".")).split("."),t).join(".")}var _=function(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:c},v=function(e,t){return e+22+75*(e<26)-((0!=t)<<5)},E=function(e,t,r){var o=0;for(e=r?h(e/700):e>>1,e+=h(e/t);e>455;o+=c)e=h(e/35);return h(o+36*e/(e+38))},S=function(e){return m(e,(function(e){return g.test(e)?"xn--"+function(e){var t=[],r=(e=function(e){for(var t=[],r=0,o=e.length;r<o;){var n=e.charCodeAt(r++);if(n>=55296&&n<=56319&&r<o){var i=e.charCodeAt(r++);56320==(64512&i)?t.push(((1023&n)<<10)+(1023&i)+65536):(t.push(n),r--)}else t.push(n)}return t}(e)).length,o=128,n=0,i=72,s=!0,a=!1,u=void 0;try{for(var p,g=e[Symbol.iterator]();!(s=(p=g.next()).done);s=!0){var d=p.value;d<128&&t.push(y(d))}}catch(e){a=!0,u=e}finally{try{!s&&g.return&&g.return()}finally{if(a)throw u}}var f=t.length,m=f;for(f&&t.push("-");m<r;){var _=l,S=!0,w=!1,T=void 0;try{for(var R,A=e[Symbol.iterator]();!(S=(R=A.next()).done);S=!0){var D=R.value;D>=o&&D<_&&(_=D)}}catch(e){w=!0,T=e}finally{try{!S&&A.return&&A.return()}finally{if(w)throw T}}var O=m+1;_-o>h((l-n)/O)&&b("overflow"),n+=(_-o)*O,o=_;var P=!0,I=!1,C=void 0;try{for(var B,j=e[Symbol.iterator]();!(P=(B=j.next()).done);P=!0){var N=B.value;if(N<o&&++n>l&&b("overflow"),N==o){for(var F=n,M=c;;M+=c){var x=M<=i?1:M>=i+26?26:M-i;if(F<x)break;var L=F-x,k=c-x;t.push(y(v(x+L%k,0))),F=h(L/k)}t.push(y(v(F,0))),i=E(n,O,m==f),n=0,++m}}}catch(e){I=!0,C=e}finally{try{!P&&j.return&&j.return()}finally{if(I)throw C}}++n,++o}return t.join("")}(e):e}))},w=function(e){return m(e,(function(e){return p.test(e)?function(e){var t=[],r=e.length,o=0,n=128,i=72,s=e.lastIndexOf("-");s<0&&(s=0);for(var a=0;a<s;++a)e.charCodeAt(a)>=128&&b("not-basic"),t.push(e.charCodeAt(a));for(var u=s>0?s+1:0;u<r;){for(var p=o,g=1,d=c;;d+=c){u>=r&&b("invalid-input");var f=_(e.charCodeAt(u++));(f>=c||f>h((l-o)/g))&&b("overflow"),o+=f*g;var y=d<=i?1:d>=i+26?26:d-i;if(f<y)break;var m=c-y;g>h(l/m)&&b("overflow"),g*=m}var v=t.length+1;i=E(o-p,v,0==p),h(o/v)>l-n&&b("overflow"),n+=h(o/v),o%=v,t.splice(o++,0,n)}return String.fromCodePoint.apply(String,t)}(e.slice(4).toLowerCase()):e}))},T={};function R(e){var t=e.charCodeAt(0);return t<16?"%0"+t.toString(16).toUpperCase():t<128?"%"+t.toString(16).toUpperCase():t<2048?"%"+(t>>6|192).toString(16).toUpperCase()+"%"+(63&t|128).toString(16).toUpperCase():"%"+(t>>12|224).toString(16).toUpperCase()+"%"+(t>>6&63|128).toString(16).toUpperCase()+"%"+(63&t|128).toString(16).toUpperCase()}function A(e){for(var t="",r=0,o=e.length;r<o;){var n=parseInt(e.substr(r+1,2),16);if(n<128)t+=String.fromCharCode(n),r+=3;else if(n>=194&&n<224){if(o-r>=6){var i=parseInt(e.substr(r+4,2),16);t+=String.fromCharCode((31&n)<<6|63&i)}else t+=e.substr(r,6);r+=6}else if(n>=224){if(o-r>=9){var s=parseInt(e.substr(r+4,2),16),a=parseInt(e.substr(r+7,2),16);t+=String.fromCharCode((15&n)<<12|(63&s)<<6|63&a)}else t+=e.substr(r,9);r+=9}else t+=e.substr(r,3),r+=3}return t}function D(e,t){function r(e){var r=A(e);return r.match(t.UNRESERVED)?r:e}return e.scheme&&(e.scheme=String(e.scheme).replace(t.PCT_ENCODED,r).toLowerCase().replace(t.NOT_SCHEME,"")),void 0!==e.userinfo&&(e.userinfo=String(e.userinfo).replace(t.PCT_ENCODED,r).replace(t.NOT_USERINFO,R).replace(t.PCT_ENCODED,n)),void 0!==e.host&&(e.host=String(e.host).replace(t.PCT_ENCODED,r).toLowerCase().replace(t.NOT_HOST,R).replace(t.PCT_ENCODED,n)),void 0!==e.path&&(e.path=String(e.path).replace(t.PCT_ENCODED,r).replace(e.scheme?t.NOT_PATH:t.NOT_PATH_NOSCHEME,R).replace(t.PCT_ENCODED,n)),void 0!==e.query&&(e.query=String(e.query).replace(t.PCT_ENCODED,r).replace(t.NOT_QUERY,R).replace(t.PCT_ENCODED,n)),void 0!==e.fragment&&(e.fragment=String(e.fragment).replace(t.PCT_ENCODED,r).replace(t.NOT_FRAGMENT,R).replace(t.PCT_ENCODED,n)),e}function O(e){return e.replace(/^0*(.*)/,"$1")||"0"}function P(e,t){var r=e.match(t.IPV4ADDRESS)||[],o=u(r,2)[1];return o?o.split(".").map(O).join("."):e}function I(e,t){var r=e.match(t.IPV6ADDRESS)||[],o=u(r,3),n=o[1],i=o[2];if(n){for(var s=n.toLowerCase().split("::").reverse(),a=u(s,2),l=a[0],c=a[1],p=c?c.split(":").map(O):[],g=l.split(":").map(O),d=t.IPV4ADDRESS.test(g[g.length-1]),f=d?7:8,h=g.length-f,y=Array(f),b=0;b<f;++b)y[b]=p[b]||g[h+b]||"";d&&(y[f-1]=P(y[f-1],t));var m=y.reduce((function(e,t,r){if(!t||"0"===t){var o=e[e.length-1];o&&o.index+o.length===r?o.length++:e.push({index:r,length:1})}return e}),[]).sort((function(e,t){return t.length-e.length}))[0],_=void 0;if(m&&m.length>1){var v=y.slice(0,m.index),E=y.slice(m.index+m.length);_=v.join(":")+"::"+E.join(":")}else _=y.join(":");return i&&(_+="%"+i),_}return e}var C=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,B=void 0==="".match(/(){0}/)[1];function j(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r={},o=!1!==t.iri?a:s;"suffix"===t.reference&&(e=(t.scheme?t.scheme+":":"")+"//"+e);var n=e.match(C);if(n){B?(r.scheme=n[1],r.userinfo=n[3],r.host=n[4],r.port=parseInt(n[5],10),r.path=n[6]||"",r.query=n[7],r.fragment=n[8],isNaN(r.port)&&(r.port=n[5])):(r.scheme=n[1]||void 0,r.userinfo=-1!==e.indexOf("@")?n[3]:void 0,r.host=-1!==e.indexOf("//")?n[4]:void 0,r.port=parseInt(n[5],10),r.path=n[6]||"",r.query=-1!==e.indexOf("?")?n[7]:void 0,r.fragment=-1!==e.indexOf("#")?n[8]:void 0,isNaN(r.port)&&(r.port=e.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?n[4]:void 0)),r.host&&(r.host=I(P(r.host,o),o)),void 0!==r.scheme||void 0!==r.userinfo||void 0!==r.host||void 0!==r.port||r.path||void 0!==r.query?void 0===r.scheme?r.reference="relative":void 0===r.fragment?r.reference="absolute":r.reference="uri":r.reference="same-document",t.reference&&"suffix"!==t.reference&&t.reference!==r.reference&&(r.error=r.error||"URI is not a "+t.reference+" reference.");var i=T[(t.scheme||r.scheme||"").toLowerCase()];if(t.unicodeSupport||i&&i.unicodeSupport)D(r,o);else{if(r.host&&(t.domainHost||i&&i.domainHost))try{r.host=S(r.host.replace(o.PCT_ENCODED,A).toLowerCase())}catch(e){r.error=r.error||"Host's domain name can not be converted to ASCII via punycode: "+e}D(r,s)}i&&i.parse&&i.parse(r,t)}else r.error=r.error||"URI can not be parsed.";return r}function N(e,t){var r=!1!==t.iri?a:s,o=[];return void 0!==e.userinfo&&(o.push(e.userinfo),o.push("@")),void 0!==e.host&&o.push(I(P(String(e.host),r),r).replace(r.IPV6ADDRESS,(function(e,t,r){return"["+t+(r?"%25"+r:"")+"]"}))),"number"!=typeof e.port&&"string"!=typeof e.port||(o.push(":"),o.push(String(e.port))),o.length?o.join(""):void 0}var F=/^\.\.?\//,M=/^\/\.(\/|$)/,x=/^\/\.\.(\/|$)/,L=/^\/?(?:.|\n)*?(?=\/|$)/;function k(e){for(var t=[];e.length;)if(e.match(F))e=e.replace(F,"");else if(e.match(M))e=e.replace(M,"/");else if(e.match(x))e=e.replace(x,"/"),t.pop();else if("."===e||".."===e)e="";else{var r=e.match(L);if(!r)throw new Error("Unexpected dot segment condition");var o=r[0];e=e.slice(o.length),t.push(o)}return t.join("")}function U(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.iri?a:s,o=[],n=T[(t.scheme||e.scheme||"").toLowerCase()];if(n&&n.serialize&&n.serialize(e,t),e.host)if(r.IPV6ADDRESS.test(e.host));else if(t.domainHost||n&&n.domainHost)try{e.host=t.iri?w(e.host):S(e.host.replace(r.PCT_ENCODED,A).toLowerCase())}catch(r){e.error=e.error||"Host's domain name can not be converted to "+(t.iri?"Unicode":"ASCII")+" via punycode: "+r}D(e,r),"suffix"!==t.reference&&e.scheme&&(o.push(e.scheme),o.push(":"));var i=N(e,t);if(void 0!==i&&("suffix"!==t.reference&&o.push("//"),o.push(i),e.path&&"/"!==e.path.charAt(0)&&o.push("/")),void 0!==e.path){var u=e.path;t.absolutePath||n&&n.absolutePath||(u=k(u)),void 0===i&&(u=u.replace(/^\/\//,"/%2F")),o.push(u)}return void 0!==e.query&&(o.push("?"),o.push(e.query)),void 0!==e.fragment&&(o.push("#"),o.push(e.fragment)),o.join("")}function q(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o={};return arguments[3]||(e=j(U(e,r),r),t=j(U(t,r),r)),!(r=r||{}).tolerant&&t.scheme?(o.scheme=t.scheme,o.userinfo=t.userinfo,o.host=t.host,o.port=t.port,o.path=k(t.path||""),o.query=t.query):(void 0!==t.userinfo||void 0!==t.host||void 0!==t.port?(o.userinfo=t.userinfo,o.host=t.host,o.port=t.port,o.path=k(t.path||""),o.query=t.query):(t.path?("/"===t.path.charAt(0)?o.path=k(t.path):(void 0===e.userinfo&&void 0===e.host&&void 0===e.port||e.path?e.path?o.path=e.path.slice(0,e.path.lastIndexOf("/")+1)+t.path:o.path=t.path:o.path="/"+t.path,o.path=k(o.path)),o.query=t.query):(o.path=e.path,void 0!==t.query?o.query=t.query:o.query=e.query),o.userinfo=e.userinfo,o.host=e.host,o.port=e.port),o.scheme=e.scheme),o.fragment=t.fragment,o}function $(e,t){return e&&e.toString().replace(t&&t.iri?a.PCT_ENCODED:s.PCT_ENCODED,A)}var W={scheme:"http",domainHost:!0,parse:function(e,t){return e.host||(e.error=e.error||"HTTP URIs must have a host."),e},serialize:function(e,t){var r="https"===String(e.scheme).toLowerCase();return e.port!==(r?443:80)&&""!==e.port||(e.port=void 0),e.path||(e.path="/"),e}},G={scheme:"https",domainHost:W.domainHost,parse:W.parse,serialize:W.serialize};function H(e){return"boolean"==typeof e.secure?e.secure:"wss"===String(e.scheme).toLowerCase()}var V={scheme:"ws",domainHost:!0,parse:function(e,t){var r=e;return r.secure=H(r),r.resourceName=(r.path||"/")+(r.query?"?"+r.query:""),r.path=void 0,r.query=void 0,r},serialize:function(e,t){if(e.port!==(H(e)?443:80)&&""!==e.port||(e.port=void 0),"boolean"==typeof e.secure&&(e.scheme=e.secure?"wss":"ws",e.secure=void 0),e.resourceName){var r=e.resourceName.split("?"),o=u(r,2),n=o[0],i=o[1];e.path=n&&"/"!==n?n:void 0,e.query=i,e.resourceName=void 0}return e.fragment=void 0,e}},z={scheme:"wss",domainHost:V.domainHost,parse:V.parse,serialize:V.serialize},K={},Y="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",J="[0-9A-Fa-f]",X=r(r("%[EFef]"+J+"%"+J+J+"%"+J+J)+"|"+r("%[89A-Fa-f]"+J+"%"+J+J)+"|"+r("%"+J+J)),Q=t("[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",'[\\"\\\\]'),Z=new RegExp(Y,"g"),ee=new RegExp(X,"g"),te=new RegExp(t("[^]","[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]","[\\.]",'[\\"]',Q),"g"),re=new RegExp(t("[^]",Y,"[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]"),"g"),oe=re;function ne(e){var t=A(e);return t.match(Z)?t:e}var ie={scheme:"mailto",parse:function(e,t){var r=e,o=r.to=r.path?r.path.split(","):[];if(r.path=void 0,r.query){for(var n=!1,i={},s=r.query.split("&"),a=0,u=s.length;a<u;++a){var l=s[a].split("=");switch(l[0]){case"to":for(var c=l[1].split(","),p=0,g=c.length;p<g;++p)o.push(c[p]);break;case"subject":r.subject=$(l[1],t);break;case"body":r.body=$(l[1],t);break;default:n=!0,i[$(l[0],t)]=$(l[1],t)}}n&&(r.headers=i)}r.query=void 0;for(var d=0,f=o.length;d<f;++d){var h=o[d].split("@");if(h[0]=$(h[0]),t.unicodeSupport)h[1]=$(h[1],t).toLowerCase();else try{h[1]=S($(h[1],t).toLowerCase())}catch(e){r.error=r.error||"Email address's domain name can not be converted to ASCII via punycode: "+e}o[d]=h.join("@")}return r},serialize:function(e,t){var r=e,o=function(e){return null!=e?e instanceof Array?e:"number"!=typeof e.length||e.split||e.setInterval||e.call?[e]:Array.prototype.slice.call(e):[]}(e.to);if(o){for(var i=0,s=o.length;i<s;++i){var a=String(o[i]),u=a.lastIndexOf("@"),l=a.slice(0,u).replace(ee,ne).replace(ee,n).replace(te,R),c=a.slice(u+1);try{c=t.iri?w(c):S($(c,t).toLowerCase())}catch(e){r.error=r.error||"Email address's domain name can not be converted to "+(t.iri?"Unicode":"ASCII")+" via punycode: "+e}o[i]=l+"@"+c}r.path=o.join(",")}var p=e.headers=e.headers||{};e.subject&&(p.subject=e.subject),e.body&&(p.body=e.body);var g=[];for(var d in p)p[d]!==K[d]&&g.push(d.replace(ee,ne).replace(ee,n).replace(re,R)+"="+p[d].replace(ee,ne).replace(ee,n).replace(oe,R));return g.length&&(r.query=g.join("&")),r}},se=/^([^\:]+)\:(.*)/,ae={scheme:"urn",parse:function(e,t){var r=e.path&&e.path.match(se),o=e;if(r){var n=t.scheme||o.scheme||"urn",i=r[1].toLowerCase(),s=r[2],a=n+":"+(t.nid||i),u=T[a];o.nid=i,o.nss=s,o.path=void 0,u&&(o=u.parse(o,t))}else o.error=o.error||"URN can not be parsed.";return o},serialize:function(e,t){var r=t.scheme||e.scheme||"urn",o=e.nid,n=r+":"+(t.nid||o),i=T[n];i&&(e=i.serialize(e,t));var s=e,a=e.nss;return s.path=(o||t.nid)+":"+a,s}},ue=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,le={scheme:"urn:uuid",parse:function(e,t){var r=e;return r.uuid=r.nss,r.nss=void 0,t.tolerant||r.uuid&&r.uuid.match(ue)||(r.error=r.error||"UUID is not valid."),r},serialize:function(e,t){var r=e;return r.nss=(e.uuid||"").toLowerCase(),r}};T[W.scheme]=W,T[G.scheme]=G,T[V.scheme]=V,T[z.scheme]=z,T[ie.scheme]=ie,T[ae.scheme]=ae,T[le.scheme]=le,e.SCHEMES=T,e.pctEncChar=R,e.pctDecChars=A,e.parse=j,e.removeDotSegments=k,e.serialize=U,e.resolveComponents=q,e.resolve=function(e,t,r){var o=function(e,t){var r={scheme:"null"};if(t)for(var o in t)r[o]=t[o];return r}(0,r);return U(q(j(e,o),j(t,o),o,!0),o)},e.normalize=function(e,t){return"string"==typeof e?e=U(j(e,t),t):"object"===o(e)&&(e=j(U(e,t),t)),e},e.equal=function(e,t,r){return"string"==typeof e?e=U(j(e,r),r):"object"===o(e)&&(e=U(e,r)),"string"==typeof t?t=U(j(t,r),r):"object"===o(t)&&(t=U(t,r)),e===t},e.escapeComponent=function(e,t){return e&&e.toString().replace(t&&t.iri?a.ESCAPE:s.ESCAPE,R)},e.unescapeComponent=$,Object.defineProperty(e,"__esModule",{value:!0})}(t)})),resolve=createCommonjsModule((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.getSchemaRefs=t.resolveUrl=t.normalizeId=t._getFullPath=t.getFullPath=t.inlineRef=void 0;const r=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);t.inlineRef=function(e,t=!0){return"boolean"==typeof e||(!0===t?!n(e):!!t&&i(e)<=t)};const o=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function n(e){for(const t in e){if(o.has(t))return!0;const r=e[t];if(Array.isArray(r)&&r.some(n))return!0;if("object"==typeof r&&n(r))return!0}return!1}function i(e){let t=0;for(const o in e){if("$ref"===o)return 1/0;if(t++,!r.has(o)&&("object"==typeof e[o]&&util.eachItem(e[o],(e=>t+=i(e))),t===1/0))return 1/0}return t}function s(e="",t){return!1!==t&&(e=l(e)),a(uri_all.parse(e))}function a(e){return uri_all.serialize(e).split("#")[0]+"#"}t.getFullPath=s,t._getFullPath=a;const u=/#\/?$/;function l(e){return e?e.replace(u,""):""}t.normalizeId=l,t.resolveUrl=function(e,t){return t=l(t),uri_all.resolve(e,t)};const c=/^[a-z_][-a-z0-9._]*$/i;t.getSchemaRefs=function(e){if("boolean"==typeof e)return{};const{schemaId:t}=this.opts,r=l(e[t]),o={"":r},n=s(r,!1),i={},a=new Set;return jsonSchemaTraverse(e,{allKeys:!0},((e,r,s,g)=>{if(void 0===g)return;const d=n+r;let f=o[g];function h(t){if(t=l(f?uri_all.resolve(f,t):t),a.has(t))throw p(t);a.add(t);let r=this.refs[t];return"string"==typeof r&&(r=this.refs[r]),"object"==typeof r?u(e,r.schema,t):t!==l(d)&&("#"===t[0]?(u(e,i[t],t),i[t]=e):this.refs[t]=d),t}function y(e){if("string"==typeof e){if(!c.test(e))throw new Error(`invalid anchor "${e}"`);h.call(this,`#${e}`)}}"string"==typeof e[t]&&(f=h.call(this,e[t])),y.call(this,e.$anchor),y.call(this,e.$dynamicAnchor),o[r]=f})),i;function u(e,t,r){if(void 0!==t&&!fastDeepEqual(e,t))throw p(r)}function p(e){return new Error(`reference "${e}" resolves to more than one schema`)}}})),validate$1=createCommonjsModule((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.getData=t.KeywordCxt=t.validateFunctionCode=void 0;const r=dataType;function o({gen:e,validateName:t,schema:r,schemaEnv:o,opts:i},s){i.code.es5?e.func(t,codegen._`${names_1.default.data}, ${names_1.default.valCxt}`,o.$async,(()=>{e.code(codegen._`"use strict"; ${n(r,i)}`),function(e,t){e.if(names_1.default.valCxt,(()=>{e.var(names_1.default.instancePath,codegen._`${names_1.default.valCxt}.${names_1.default.instancePath}`),e.var(names_1.default.parentData,codegen._`${names_1.default.valCxt}.${names_1.default.parentData}`),e.var(names_1.default.parentDataProperty,codegen._`${names_1.default.valCxt}.${names_1.default.parentDataProperty}`),e.var(names_1.default.rootData,codegen._`${names_1.default.valCxt}.${names_1.default.rootData}`),t.dynamicRef&&e.var(names_1.default.dynamicAnchors,codegen._`${names_1.default.valCxt}.${names_1.default.dynamicAnchors}`)}),(()=>{e.var(names_1.default.instancePath,codegen._`""`),e.var(names_1.default.parentData,codegen._`undefined`),e.var(names_1.default.parentDataProperty,codegen._`undefined`),e.var(names_1.default.rootData,names_1.default.data),t.dynamicRef&&e.var(names_1.default.dynamicAnchors,codegen._`{}`)}))}(e,i),e.code(s)})):e.func(t,codegen._`${names_1.default.data}, ${function(e){return codegen._`{${names_1.default.instancePath}="", ${names_1.default.parentData}, ${names_1.default.parentDataProperty}, ${names_1.default.rootData}=${names_1.default.data}${e.dynamicRef?codegen._`, ${names_1.default.dynamicAnchors}={}`:codegen.nil}}={}`}(i)}`,o.$async,(()=>e.code(n(r,i)).code(s)))}function n(e,t){const r="object"==typeof e&&e[t.schemaId];return r&&(t.code.source||t.code.process)?codegen._`/*# sourceURL=${r} */`:codegen.nil}function i({schema:e,self:t}){if("boolean"==typeof e)return!e;for(const r in e)if(t.RULES.all[r])return!0;return!1}function s(e){return"boolean"!=typeof e.schema}function a(e){util.checkUnknownRules(e),function(e){const{schema:t,errSchemaPath:r,opts:o,self:n}=e;t.$ref&&o.ignoreKeywordsWithRef&&util.schemaHasRulesButRef(t,n.RULES)&&n.logger.warn(`$ref: keywords ignored in schema at path "${r}"`)}(e)}function u(e,t){if(e.opts.jtd)return c(e,[],!1,t);const r=dataType.getSchemaTypes(e.schema);c(e,r,!dataType.coerceAndCheckDataType(e,r),t)}function l({gen:e,schemaEnv:t,schema:r,errSchemaPath:o,opts:n}){const i=r.$comment;if(!0===n.$comment)e.code(codegen._`${names_1.default.self}.logger.log(${i})`);else if("function"==typeof n.$comment){const r=codegen.str`${o}/$comment`,n=e.scopeValue("root",{ref:t.root});e.code(codegen._`${names_1.default.self}.opts.$comment(${i}, ${r}, ${n}.schema)`)}}function c(e,t,o,n){const{gen:i,schema:s,data:a,allErrors:u,opts:l,self:c}=e,{RULES:h}=c;function b(c){applicability.shouldUseGroup(s,c)&&(c.type?(i.if(r.checkDataType(c.type,a,l.strictNumbers)),p(e,c),1===t.length&&t[0]===c.type&&o&&(i.else(),r.reportTypeError(e)),i.endIf()):p(e,c),u||i.if(codegen._`${names_1.default.errors} === ${n||0}`))}!s.$ref||!l.ignoreKeywordsWithRef&&util.schemaHasRulesButRef(s,h)?(l.jtd||function(e,t){!e.schemaEnv.meta&&e.opts.strictTypes&&(function(e,t){t.length&&(e.dataTypes.length?(t.forEach((t=>{d(e.dataTypes,t)||f(e,`type "${t}" not allowed by context "${e.dataTypes.join(",")}"`)})),e.dataTypes=e.dataTypes.filter((e=>d(t,e)))):e.dataTypes=t)}(e,t),e.opts.allowUnionTypes||function(e,t){t.length>1&&(2!==t.length||!t.includes("null"))&&f(e,"use allowUnionTypes to allow union type keyword")}(e,t),function(e,t){const r=e.self.RULES.all;for(const o in r){const n=r[o];if("object"==typeof n&&applicability.shouldUseRule(e.schema,n)){const{type:r}=n.definition;r.length&&!r.some((e=>g(t,e)))&&f(e,`missing type "${r.join(",")}" for keyword "${o}"`)}}}(e,e.dataTypes))}(e,t),i.block((()=>{for(const e of h.rules)b(e);b(h.post)}))):i.block((()=>y(e,"$ref",h.all.$ref.definition)))}function p(e,t){const{gen:r,schema:o,opts:{useDefaults:n}}=e;n&&defaults$1.assignDefaults(e,t.type),r.block((()=>{for(const r of t.rules)applicability.shouldUseRule(o,r)&&y(e,r.keyword,r.definition,t.type)}))}function g(e,t){return e.includes(t)||"number"===t&&e.includes("integer")}function d(e,t){return e.includes(t)||"integer"===t&&e.includes("number")}function f(e,t){t+=` at "${e.schemaEnv.baseId+e.errSchemaPath}" (strictTypes)`,util.checkStrictMode(e,t,e.opts.strictTypes)}t.validateFunctionCode=function(e){s(e)&&(a(e),i(e))?function(e){const{schema:t,opts:r,gen:n}=e;o(e,(()=>{r.$comment&&t.$comment&&l(e),function(e){const{schema:t,opts:r}=e;void 0!==t.default&&r.useDefaults&&r.strictSchema&&util.checkStrictMode(e,"default is ignored in the schema root")}(e),n.let(names_1.default.vErrors,null),n.let(names_1.default.errors,0),r.unevaluated&&function(e){const{gen:t,validateName:r}=e;e.evaluated=t.const("evaluated",codegen._`${r}.evaluated`),t.if(codegen._`${e.evaluated}.dynamicProps`,(()=>t.assign(codegen._`${e.evaluated}.props`,codegen._`undefined`))),t.if(codegen._`${e.evaluated}.dynamicItems`,(()=>t.assign(codegen._`${e.evaluated}.items`,codegen._`undefined`)))}(e),u(e),function(e){const{gen:t,schemaEnv:r,validateName:o,ValidationError:n,opts:i}=e;r.$async?t.if(codegen._`${names_1.default.errors} === 0`,(()=>t.return(names_1.default.data)),(()=>t.throw(codegen._`new ${n}(${names_1.default.vErrors})`))):(t.assign(codegen._`${o}.errors`,names_1.default.vErrors),i.unevaluated&&function({gen:e,evaluated:t,props:r,items:o}){r instanceof codegen.Name&&e.assign(codegen._`${t}.props`,r),o instanceof codegen.Name&&e.assign(codegen._`${t}.items`,o)}(e),t.return(codegen._`${names_1.default.errors} === 0`))}(e)}))}(e):o(e,(()=>boolSchema.topBoolOrEmptySchema(e)))};class h{constructor(e,t,r){if(keyword.validateKeywordUsage(e,t,r),this.gen=e.gen,this.allErrors=e.allErrors,this.keyword=r,this.data=e.data,this.schema=e.schema[r],this.$data=t.$data&&e.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=util.schemaRefOrVal(e,this.schema,r,this.$data),this.schemaType=t.schemaType,this.parentSchema=e.schema,this.params={},this.it=e,this.def=t,this.$data)this.schemaCode=e.gen.const("vSchema",_(this.$data,e));else if(this.schemaCode=this.schemaValue,!keyword.validSchemaType(this.schema,t.schemaType,t.allowUndefined))throw new Error(`${r} value must be ${JSON.stringify(t.schemaType)}`);("code"in t?t.trackErrors:!1!==t.errors)&&(this.errsCount=e.gen.const("_errs",names_1.default.errors))}result(e,t,r){this.failResult(codegen.not(e),t,r)}failResult(e,t,r){this.gen.if(e),r?r():this.error(),t?(this.gen.else(),t(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(e,t){this.failResult(codegen.not(e),void 0,t)}fail(e){if(void 0===e)return this.error(),void(this.allErrors||this.gen.if(!1));this.gen.if(e),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(e){if(!this.$data)return this.fail(e);const{schemaCode:t}=this;this.fail(codegen._`${t} !== undefined && (${codegen.or(this.invalid$data(),e)})`)}error(e,t,r){if(t)return this.setParams(t),this._error(e,r),void this.setParams({});this._error(e,r)}_error(e,t){(e?errors.reportExtraError:errors.reportError)(this,this.def.error,t)}$dataError(){errors.reportError(this,this.def.$dataError||errors.keyword$DataError)}reset(){if(void 0===this.errsCount)throw new Error('add "trackErrors" to keyword definition');errors.resetErrorsCount(this.gen,this.errsCount)}ok(e){this.allErrors||this.gen.if(e)}setParams(e,t){t?Object.assign(this.params,e):this.params=e}block$data(e,t,r=codegen.nil){this.gen.block((()=>{this.check$data(e,r),t()}))}check$data(e=codegen.nil,t=codegen.nil){if(!this.$data)return;const{gen:r,schemaCode:o,schemaType:n,def:i}=this;r.if(codegen.or(codegen._`${o} === undefined`,t)),e!==codegen.nil&&r.assign(e,!0),(n.length||i.validateSchema)&&(r.elseIf(this.invalid$data()),this.$dataError(),e!==codegen.nil&&r.assign(e,!1)),r.else()}invalid$data(){const{gen:e,schemaCode:t,schemaType:o,def:n,it:i}=this;return codegen.or(function(){if(o.length){if(!(t instanceof codegen.Name))throw new Error("ajv implementation error");const e=Array.isArray(o)?o:[o];return codegen._`${r.checkDataTypes(e,t,i.opts.strictNumbers,r.DataType.Wrong)}`}return codegen.nil}(),function(){if(n.validateSchema){const r=e.scopeValue("validate$data",{ref:n.validateSchema});return codegen._`!${r}(${t})`}return codegen.nil}())}subschema(e,t){const r=subschema.getSubschema(this.it,e);subschema.extendSubschemaData(r,this.it,e),subschema.extendSubschemaMode(r,e);const o={...this.it,...r,items:void 0,props:void 0};return function(e,t){s(e)&&(a(e),i(e))?function(e,t){const{schema:r,gen:o,opts:n}=e;n.$comment&&r.$comment&&l(e),function(e){const t=e.schema[e.opts.schemaId];t&&(e.baseId=resolve.resolveUrl(e.baseId,t))}(e),function(e){if(e.schema.$async&&!e.schemaEnv.$async)throw new Error("async schema in sync schema")}(e);const i=o.const("_errs",names_1.default.errors);u(e,i),o.var(t,codegen._`${i} === ${names_1.default.errors}`)}(e,t):boolSchema.boolOrEmptySchema(e,t)}(o,t),o}mergeEvaluated(e,t){const{it:r,gen:o}=this;r.opts.unevaluated&&(!0!==r.props&&void 0!==e.props&&(r.props=util.mergeEvaluated.props(o,e.props,r.props,t)),!0!==r.items&&void 0!==e.items&&(r.items=util.mergeEvaluated.items(o,e.items,r.items,t)))}mergeValidEvaluated(e,t){const{it:r,gen:o}=this;if(r.opts.unevaluated&&(!0!==r.props||!0!==r.items))return o.if(t,(()=>this.mergeEvaluated(e,codegen.Name))),!0}}function y(e,t,r,o){const n=new h(e,r,t);"code"in r?r.code(n,o):n.$data&&r.validate?keyword.funcKeywordCode(n,r):"macro"in r?keyword.macroKeywordCode(n,r):(r.compile||r.validate)&&keyword.funcKeywordCode(n,r)}t.KeywordCxt=h;const b=/^\/(?:[^~]|~0|~1)*$/,m=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function _(e,{dataLevel:t,dataNames:r,dataPathArr:o}){let n,i;if(""===e)return names_1.default.rootData;if("/"===e[0]){if(!b.test(e))throw new Error(`Invalid JSON-pointer: ${e}`);n=e,i=names_1.default.rootData}else{const s=m.exec(e);if(!s)throw new Error(`Invalid JSON-pointer: ${e}`);const a=+s[1];if(n=s[2],"#"===n){if(a>=t)throw new Error(u("property/index",a));return o[t-a]}if(a>t)throw new Error(u("data",a));if(i=r[t-a],!n)return i}let s=i;const a=n.split("/");for(const e of a)e&&(i=codegen._`${i}${codegen.getProperty(util.unescapeJsonPointer(e))}`,s=codegen._`${s} && ${i}`);return s;function u(e,r){return`Cannot access ${e} ${r} levels up, current level is ${t}`}}t.getData=_}));class ValidationError extends Error{constructor(e){super("validation failed"),this.errors=e,this.ajv=this.validation=!0}}var _default$1=ValidationError,validation_error=Object.defineProperty({default:_default$1},"__esModule",{value:!0});class MissingRefError extends Error{constructor(e,t,r){super(r||`can't resolve reference ${t} from id ${e}`),this.missingRef=resolve.resolveUrl(e,t),this.missingSchema=resolve.normalizeId(resolve.getFullPath(this.missingRef))}}var _default$2=MissingRefError,ref_error=Object.defineProperty({default:_default$2},"__esModule",{value:!0}),compile=createCommonjsModule((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.resolveSchema=t.getCompilingSchema=t.resolveRef=t.compileSchema=t.SchemaEnv=void 0;class r{constructor(e){var t;let r;this.refs={},this.dynamicAnchors={},"object"==typeof e.schema&&(r=e.schema),this.schema=e.schema,this.schemaId=e.schemaId,this.root=e.root||this,this.baseId=null!==(t=e.baseId)&&void 0!==t?t:resolve.normalizeId(null==r?void 0:r[e.schemaId||"$id"]),this.schemaPath=e.schemaPath,this.localRefs=e.localRefs,this.meta=e.meta,this.$async=null==r?void 0:r.$async,this.refs={}}}function o(e){const t=i.call(this,e);if(t)return t;const r=resolve.getFullPath(e.root.baseId),{es5:o,lines:n}=this.opts.code,{ownProperties:s}=this.opts,a=new codegen.CodeGen(this.scope,{es5:o,lines:n,ownProperties:s});let u;e.$async&&(u=a.scopeValue("Error",{ref:validation_error.default,code:codegen._`require("ajv/dist/runtime/validation_error").default`}));const l=a.scopeName("validate");e.validateName=l;const c={gen:a,allErrors:this.opts.allErrors,data:names_1.default.data,parentData:names_1.default.parentData,parentDataProperty:names_1.default.parentDataProperty,dataNames:[names_1.default.data],dataPathArr:[codegen.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:a.scopeValue("schema",!0===this.opts.code.source?{ref:e.schema,code:codegen.stringify(e.schema)}:{ref:e.schema}),validateName:l,ValidationError:u,schema:e.schema,schemaEnv:e,rootId:r,baseId:e.baseId||r,schemaPath:codegen.nil,errSchemaPath:e.schemaPath||(this.opts.jtd?"":"#"),errorPath:codegen._`""`,opts:this.opts,self:this};let p;try{this._compilations.add(e),validate$1.validateFunctionCode(c),a.optimize(this.opts.code.optimize);const t=a.toString();p=`${a.scopeRefs(names_1.default.scope)}return ${t}`,this.opts.code.process&&(p=this.opts.code.process(p,e));const r=new Function(`${names_1.default.self}`,`${names_1.default.scope}`,p)(this,this.scope.get());if(this.scope.value(l,{ref:r}),r.errors=null,r.schema=e.schema,r.schemaEnv=e,e.$async&&(r.$async=!0),!0===this.opts.code.source&&(r.source={validateName:l,validateCode:t,scopeValues:a._values}),this.opts.unevaluated){const{props:e,items:t}=c;r.evaluated={props:e instanceof codegen.Name?void 0:e,items:t instanceof codegen.Name?void 0:t,dynamicProps:e instanceof codegen.Name,dynamicItems:t instanceof codegen.Name},r.source&&(r.source.evaluated=codegen.stringify(r.evaluated))}return e.validate=r,e}catch(t){throw delete e.validate,delete e.validateName,p&&this.logger.error("Error compiling schema, function code:",p),t}finally{this._compilations.delete(e)}}function n(e){return resolve.inlineRef(e.schema,this.opts.inlineRefs)?e.schema:e.validate?e:o.call(this,e)}function i(e){for(const o of this._compilations)if(r=e,(t=o).schema===r.schema&&t.root===r.root&&t.baseId===r.baseId)return o;var t,r}function s(e,t){let r;for(;"string"==typeof(r=this.refs[t]);)t=r;return r||this.schemas[t]||a.call(this,e,t)}function a(e,t){const n=uri_all.parse(t),i=resolve._getFullPath(n);let s=resolve.getFullPath(e.baseId);if(Object.keys(e.schema).length>0&&i===s)return l.call(this,n,e);const u=resolve.normalizeId(i),c=this.refs[u]||this.schemas[u];if("string"==typeof c){const t=a.call(this,e,c);if("object"!=typeof(null==t?void 0:t.schema))return;return l.call(this,n,t)}if("object"==typeof(null==c?void 0:c.schema)){if(c.validate||o.call(this,c),u===resolve.normalizeId(t)){const{schema:t}=c,{schemaId:o}=this.opts,n=t[o];return n&&(s=resolve.resolveUrl(s,n)),new r({schema:t,schemaId:o,root:e,baseId:s})}return l.call(this,n,c)}}t.SchemaEnv=r,t.compileSchema=o,t.resolveRef=function(e,t,o){var i;o=resolve.resolveUrl(t,o);const a=e.refs[o];if(a)return a;let u=s.call(this,e,o);if(void 0===u){const n=null===(i=e.localRefs)||void 0===i?void 0:i[o],{schemaId:s}=this.opts;n&&(u=new r({schema:n,schemaId:s,root:e,baseId:t}))}return void 0!==u?e.refs[o]=n.call(this,u):void 0},t.getCompilingSchema=i,t.resolveSchema=a;const u=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function l(e,{baseId:t,schema:o,root:n}){var i;if("/"!==(null===(i=e.fragment)||void 0===i?void 0:i[0]))return;for(const r of e.fragment.slice(1).split("/")){if("boolean"==typeof o)return;if(void 0===(o=o[util.unescapeFragment(r)]))return;const e="object"==typeof o&&o[this.opts.schemaId];!u.has(r)&&e&&(t=resolve.resolveUrl(t,e))}let s;if("boolean"!=typeof o&&o.$ref&&!util.schemaHasRulesButRef(o,this.RULES)){const e=resolve.resolveUrl(t,o.$ref);s=a.call(this,n,e)}const{schemaId:l}=this.opts;return s=s||new r({schema:o,schemaId:l,root:n,baseId:t}),s.schema!==s.root.schema?s:void 0}})),$id="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",description="Meta-schema for $data reference (JSON AnySchema extension proposal)",type="object",required=["$data"],properties={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties=!1,$dataRefSchema={$id,description,type,required,properties,additionalProperties},core$1=createCommonjsModule((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0,Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return validate$1.KeywordCxt}}),Object.defineProperty(t,"_",{enumerable:!0,get:function(){return codegen._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return codegen.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return codegen.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return codegen.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return codegen.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return codegen.CodeGen}});const r=codegen,o=["removeAdditional","useDefaults","coerceTypes"],n=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),i={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},s={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'};function a(e){var t,r,o,n,i,s,a,u,l,c,p,g,d,f,h,y,b,m,_,v,E,S;const w=e.strict,T=null===(t=e.code)||void 0===t?void 0:t.optimize,R=!0===T||void 0===T?1:T||0;return{strictSchema:null===(o=null!==(r=e.strictSchema)&&void 0!==r?r:w)||void 0===o||o,strictNumbers:null===(i=null!==(n=e.strictNumbers)&&void 0!==n?n:w)||void 0===i||i,strictTypes:null!==(a=null!==(s=e.strictTypes)&&void 0!==s?s:w)&&void 0!==a?a:"log",strictTuples:null!==(l=null!==(u=e.strictTuples)&&void 0!==u?u:w)&&void 0!==l?l:"log",strictRequired:null!==(p=null!==(c=e.strictRequired)&&void 0!==c?c:w)&&void 0!==p&&p,code:e.code?{...e.code,optimize:R}:{optimize:R},loopRequired:null!==(g=e.loopRequired)&&void 0!==g?g:200,loopEnum:null!==(d=e.loopEnum)&&void 0!==d?d:200,meta:null===(f=e.meta)||void 0===f||f,messages:null===(h=e.messages)||void 0===h||h,inlineRefs:null===(y=e.inlineRefs)||void 0===y||y,schemaId:null!==(b=e.schemaId)&&void 0!==b?b:"$id",addUsedSchema:null===(m=e.addUsedSchema)||void 0===m||m,validateSchema:null===(_=e.validateSchema)||void 0===_||_,validateFormats:null===(v=e.validateFormats)||void 0===v||v,unicodeRegExp:null===(E=e.unicodeRegExp)||void 0===E||E,int32range:null===(S=e.int32range)||void 0===S||S}}class u{constructor(e={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,e=this.opts={...e,...a(e)};const{es5:t,lines:o}=this.opts.code;this.scope=new r.ValueScope({scope:{},prefixes:n,es5:t,lines:o}),this.logger=function(e){if(!1===e)return h;if(void 0===e)return console;if(e.log&&e.warn&&e.error)return e;throw new Error("logger must implement log, warn and error methods")}(e.logger);const u=e.validateFormats;e.validateFormats=!1,this.RULES=rules.getRules(),l.call(this,i,e,"NOT SUPPORTED"),l.call(this,s,e,"DEPRECATED","warn"),this._metaOpts=f.call(this),e.formats&&g.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),e.keywords&&d.call(this,e.keywords),"object"==typeof e.meta&&this.addMetaSchema(e.meta),p.call(this),e.validateFormats=u}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:e,meta:t,schemaId:r}=this.opts;let o=$dataRefSchema;"id"===r&&(o={...$dataRefSchema},o.id=o.$id,delete o.$id),t&&e&&this.addMetaSchema(o,o[r],!1)}defaultMeta(){const{meta:e,schemaId:t}=this.opts;return this.opts.defaultMeta="object"==typeof e?e[t]||e:void 0}validate(e,t){let r;if("string"==typeof e){if(r=this.getSchema(e),!r)throw new Error(`no schema with key or ref "${e}"`)}else r=this.compile(e);const o=r(t);return"$async"in r||(this.errors=r.errors),o}compile(e,t){const r=this._addSchema(e,t);return r.validate||this._compileSchemaEnv(r)}compileAsync(e,t){if("function"!=typeof this.opts.loadSchema)throw new Error("options.loadSchema should be a function");const{loadSchema:r}=this.opts;return o.call(this,e,t);async function o(e,t){await n.call(this,e.$schema);const r=this._addSchema(e,t);return r.validate||i.call(this,r)}async function n(e){e&&!this.getSchema(e)&&await o.call(this,{$ref:e},!0)}async function i(e){try{return this._compileSchemaEnv(e)}catch(t){if(!(t instanceof ref_error.default))throw t;return s.call(this,t),await a.call(this,t.missingSchema),i.call(this,e)}}function s({missingSchema:e,missingRef:t}){if(this.refs[e])throw new Error(`AnySchema ${e} is loaded but ${t} cannot be resolved`)}async function a(e){const r=await u.call(this,e);this.refs[e]||await n.call(this,r.$schema),this.refs[e]||this.addSchema(r,e,t)}async function u(e){const t=this._loading[e];if(t)return t;try{return await(this._loading[e]=r(e))}finally{delete this._loading[e]}}}addSchema(e,t,r,o=this.opts.validateSchema){if(Array.isArray(e)){for(const t of e)this.addSchema(t,void 0,r,o);return this}let n;if("object"==typeof e){const{schemaId:t}=this.opts;if(n=e[t],void 0!==n&&"string"!=typeof n)throw new Error(`schema ${t} must be string`)}return t=resolve.normalizeId(t||n),this._checkUnique(t),this.schemas[t]=this._addSchema(e,r,t,o,!0),this}addMetaSchema(e,t,r=this.opts.validateSchema){return this.addSchema(e,t,!0,r),this}validateSchema(e,t){if("boolean"==typeof e)return!0;let r;if(r=e.$schema,void 0!==r&&"string"!=typeof r)throw new Error("$schema must be a string");if(r=r||this.opts.defaultMeta||this.defaultMeta(),!r)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const o=this.validate(r,e);if(!o&&t){const e="schema is invalid: "+this.errorsText();if("log"!==this.opts.validateSchema)throw new Error(e);this.logger.error(e)}return o}getSchema(e){let t;for(;"string"==typeof(t=c.call(this,e));)e=t;if(void 0===t){const{schemaId:r}=this.opts,o=new compile.SchemaEnv({schema:{},schemaId:r});if(t=compile.resolveSchema.call(this,o,e),!t)return;this.refs[e]=t}return t.validate||this._compileSchemaEnv(t)}removeSchema(e){if(e instanceof RegExp)return this._removeAllSchemas(this.schemas,e),this._removeAllSchemas(this.refs,e),this;switch(typeof e){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const t=c.call(this,e);return"object"==typeof t&&this._cache.delete(t.schema),delete this.schemas[e],delete this.refs[e],this}case"object":{const t=e;this._cache.delete(t);let r=e[this.opts.schemaId];return r&&(r=resolve.normalizeId(r),delete this.schemas[r],delete this.refs[r]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(e){for(const t of e)this.addKeyword(t);return this}addKeyword(e,t){let r;if("string"==typeof e)r=e,"object"==typeof t&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),t.keyword=r);else{if("object"!=typeof e||void 0!==t)throw new Error("invalid addKeywords parameters");if(r=(t=e).keyword,Array.isArray(r)&&!r.length)throw new Error("addKeywords: keyword must be string or non-empty array")}if(b.call(this,r,t),!t)return util.eachItem(r,(e=>m.call(this,e))),this;v.call(this,t);const o={...t,type:dataType.getJSONTypes(t.type),schemaType:dataType.getJSONTypes(t.schemaType)};return util.eachItem(r,0===o.type.length?e=>m.call(this,e,o):e=>o.type.forEach((t=>m.call(this,e,o,t)))),this}getKeyword(e){const t=this.RULES.all[e];return"object"==typeof t?t.definition:!!t}removeKeyword(e){const{RULES:t}=this;delete t.keywords[e],delete t.all[e];for(const r of t.rules){const t=r.rules.findIndex((t=>t.keyword===e));t>=0&&r.rules.splice(t,1)}return this}addFormat(e,t){return"string"==typeof t&&(t=new RegExp(t)),this.formats[e]=t,this}errorsText(e=this.errors,{separator:t=", ",dataVar:r="data"}={}){return e&&0!==e.length?e.map((e=>`${r}${e.instancePath} ${e.message}`)).reduce(((e,r)=>e+t+r)):"No errors"}$dataMetaSchema(e,t){const r=this.RULES.all;e=JSON.parse(JSON.stringify(e));for(const o of t){const t=o.split("/").slice(1);let n=e;for(const e of t)n=n[e];for(const e in r){const t=r[e];if("object"!=typeof t)continue;const{$data:o}=t.definition,i=n[e];o&&i&&(n[e]=S(i))}}return e}_removeAllSchemas(e,t){for(const r in e){const o=e[r];t&&!t.test(r)||("string"==typeof o?delete e[r]:o&&!o.meta&&(this._cache.delete(o.schema),delete e[r]))}}_addSchema(e,t,r,o=this.opts.validateSchema,n=this.opts.addUsedSchema){let i;const{schemaId:s}=this.opts;if("object"==typeof e)i=e[s];else{if(this.opts.jtd)throw new Error("schema must be object");if("boolean"!=typeof e)throw new Error("schema must be object or boolean")}let a=this._cache.get(e);if(void 0!==a)return a;const u=resolve.getSchemaRefs.call(this,e);return r=resolve.normalizeId(i||r),a=new compile.SchemaEnv({schema:e,schemaId:s,meta:t,baseId:r,localRefs:u}),this._cache.set(a.schema,a),n&&!r.startsWith("#")&&(r&&this._checkUnique(r),this.refs[r]=a),o&&this.validateSchema(e,!0),a}_checkUnique(e){if(this.schemas[e]||this.refs[e])throw new Error(`schema with key or id "${e}" already exists`)}_compileSchemaEnv(e){if(e.meta?this._compileMetaSchema(e):compile.compileSchema.call(this,e),!e.validate)throw new Error("ajv implementation error");return e.validate}_compileMetaSchema(e){const t=this.opts;this.opts=this._metaOpts;try{compile.compileSchema.call(this,e)}finally{this.opts=t}}}function l(e,t,r,o="error"){for(const n in e){const i=n;i in t&&this.logger[o](`${r}: option ${n}. ${e[i]}`)}}function c(e){return e=resolve.normalizeId(e),this.schemas[e]||this.refs[e]}function p(){const e=this.opts.schemas;if(e)if(Array.isArray(e))this.addSchema(e);else for(const t in e)this.addSchema(e[t],t)}function g(){for(const e in this.opts.formats){const t=this.opts.formats[e];t&&this.addFormat(e,t)}}function d(e){if(Array.isArray(e))this.addVocabulary(e);else{this.logger.warn("keywords option as map is deprecated, pass array");for(const t in e){const r=e[t];r.keyword||(r.keyword=t),this.addKeyword(r)}}}function f(){const e={...this.opts};for(const t of o)delete e[t];return e}t.default=u,u.ValidationError=validation_error.default,u.MissingRefError=ref_error.default;const h={log(){},warn(){},error(){}},y=/^[a-z_$][a-z0-9_$:-]*$/i;function b(e,t){const{RULES:r}=this;if(util.eachItem(e,(e=>{if(r.keywords[e])throw new Error(`Keyword ${e} is already defined`);if(!y.test(e))throw new Error(`Keyword ${e} has invalid name`)})),t&&t.$data&&!("code"in t)&&!("validate"in t))throw new Error('$data keyword must have "code" or "validate" function')}function m(e,t,r){var o;const n=null==t?void 0:t.post;if(r&&n)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:i}=this;let s=n?i.post:i.rules.find((({type:e})=>e===r));if(s||(s={type:r,rules:[]},i.rules.push(s)),i.keywords[e]=!0,!t)return;const a={keyword:e,definition:{...t,type:dataType.getJSONTypes(t.type),schemaType:dataType.getJSONTypes(t.schemaType)}};t.before?_.call(this,s,a,t.before):s.rules.push(a),i.all[e]=a,null===(o=t.implements)||void 0===o||o.forEach((e=>this.addKeyword(e)))}function _(e,t,r){const o=e.rules.findIndex((e=>e.keyword===r));o>=0?e.rules.splice(o,0,t):(e.rules.push(t),this.logger.warn(`rule ${r} is not defined`))}function v(e){let{metaSchema:t}=e;void 0!==t&&(e.$data&&this.opts.$data&&(t=S(t)),e.validateSchema=this.compile(t,!0))}const E={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function S(e){return{anyOf:[e,E]}}}));const def={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};var _default$3=def,id=Object.defineProperty({default:_default$3},"__esModule",{value:!0}),ref=createCommonjsModule((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.callRef=t.getValidate=void 0;const r={keyword:"$ref",schemaType:"string",code(e){const{gen:t,schema:r,it:i}=e,{baseId:s,schemaEnv:a,validateName:u,opts:l,self:c}=i,{root:p}=a;if(("#"===r||"#/"===r)&&s===p.baseId)return function(){if(a===p)return n(e,u,a,a.$async);const r=t.scopeValue("root",{ref:p});return n(e,codegen._`${r}.validate`,p,p.$async)}();const g=compile.resolveRef.call(c,p,s,r);if(void 0===g)throw new ref_error.default(s,r);return g instanceof compile.SchemaEnv?function(t){const r=o(e,t);n(e,r,t,t.$async)}(g):function(o){const n=t.scopeValue("schema",!0===l.code.source?{ref:o,code:codegen.stringify(o)}:{ref:o}),i=t.name("valid"),s=e.subschema({schema:o,dataTypes:[],schemaPath:codegen.nil,topSchemaRef:n,errSchemaPath:r},i);e.mergeEvaluated(s),e.ok(i)}(g)}};function o(e,t){const{gen:r}=e;return t.validate?r.scopeValue("validate",{ref:t.validate}):codegen._`${r.scopeValue("wrapper",{ref:t})}.validate`}function n(e,t,r,o){const{gen:n,it:i}=e,{allErrors:s,schemaEnv:a,opts:u}=i,l=u.passContext?names_1.default.this:codegen.nil;function c(e){const t=codegen._`${e}.errors`;n.assign(names_1.default.vErrors,codegen._`${names_1.default.vErrors} === null ? ${t} : ${names_1.default.vErrors}.concat(${t})`),n.assign(names_1.default.errors,codegen._`${names_1.default.vErrors}.length`)}function p(e){var t;if(!i.opts.unevaluated)return;const o=null===(t=null==r?void 0:r.validate)||void 0===t?void 0:t.evaluated;if(!0!==i.props)if(o&&!o.dynamicProps)void 0!==o.props&&(i.props=util.mergeEvaluated.props(n,o.props,i.props));else{const t=n.var("props",codegen._`${e}.evaluated.props`);i.props=util.mergeEvaluated.props(n,t,i.props,codegen.Name)}if(!0!==i.items)if(o&&!o.dynamicItems)void 0!==o.items&&(i.items=util.mergeEvaluated.items(n,o.items,i.items));else{const t=n.var("items",codegen._`${e}.evaluated.items`);i.items=util.mergeEvaluated.items(n,t,i.items,codegen.Name)}}o?function(){if(!a.$async)throw new Error("async schema referenced by sync schema");const r=n.let("valid");n.try((()=>{n.code(codegen._`await ${code$1.callValidateCode(e,t,l)}`),p(t),s||n.assign(r,!0)}),(e=>{n.if(codegen._`!(${e} instanceof ${i.ValidationError})`,(()=>n.throw(e))),c(e),s||n.assign(r,!1)})),e.ok(r)}():e.result(code$1.callValidateCode(e,t,l),(()=>p(t)),(()=>c(t)))}t.getValidate=o,t.callRef=n,t.default=r}));const core$2=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",id.default,ref.default];var _default$4=core$2,core_1=Object.defineProperty({default:_default$4},"__esModule",{value:!0});const ops=codegen.operators,KWDs={maximum:{okStr:"<=",ok:ops.LTE,fail:ops.GT},minimum:{okStr:">=",ok:ops.GTE,fail:ops.LT},exclusiveMaximum:{okStr:"<",ok:ops.LT,fail:ops.GTE},exclusiveMinimum:{okStr:">",ok:ops.GT,fail:ops.LTE}},error={message:({keyword:e,schemaCode:t})=>codegen.str`must be ${KWDs[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>codegen._`{comparison: ${KWDs[e].okStr}, limit: ${t}}`},def$1={keyword:Object.keys(KWDs),type:"number",schemaType:"number",$data:!0,error,code(e){const{keyword:t,data:r,schemaCode:o}=e;e.fail$data(codegen._`${r} ${KWDs[t].fail} ${o} || isNaN(${r})`)}};var _default$5=def$1,limitNumber=Object.defineProperty({default:_default$5},"__esModule",{value:!0});const error$1={message:({schemaCode:e})=>codegen.str`must be multiple of ${e}`,params:({schemaCode:e})=>codegen._`{multipleOf: ${e}}`},def$2={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:error$1,code(e){const{gen:t,data:r,schemaCode:o,it:n}=e,i=n.opts.multipleOfPrecision,s=t.let("res"),a=i?codegen._`Math.abs(Math.round(${s}) - ${s}) > 1e-${i}`:codegen._`${s} !== parseInt(${s})`;e.fail$data(codegen._`(${o} === 0 || (${s} = ${r}/${o}, ${a}))`)}};var _default$6=def$2,multipleOf=Object.defineProperty({default:_default$6},"__esModule",{value:!0});function ucs2length(e){const t=e.length;let r,o=0,n=0;for(;n<t;)o++,r=e.charCodeAt(n++),r>=55296&&r<=56319&&n<t&&(r=e.charCodeAt(n),56320==(64512&r)&&n++);return o}var _default$7=ucs2length;ucs2length.code='require("ajv/dist/runtime/ucs2length").default';var ucs2length_1=Object.defineProperty({default:_default$7},"__esModule",{value:!0});const error$2={message({keyword:e,schemaCode:t}){const r="maxLength"===e?"more":"fewer";return codegen.str`must NOT have ${r} than ${t} characters`},params:({schemaCode:e})=>codegen._`{limit: ${e}}`},def$3={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:error$2,code(e){const{keyword:t,data:r,schemaCode:o,it:n}=e,i="maxLength"===t?codegen.operators.GT:codegen.operators.LT,s=!1===n.opts.unicode?codegen._`${r}.length`:codegen._`${util.useFunc(e.gen,ucs2length_1.default)}(${r})`;e.fail$data(codegen._`${s} ${i} ${o}`)}};var _default$8=def$3,limitLength=Object.defineProperty({default:_default$8},"__esModule",{value:!0});const error$3={message:({schemaCode:e})=>codegen.str`must match pattern "${e}"`,params:({schemaCode:e})=>codegen._`{pattern: ${e}}`},def$4={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:error$3,code(e){const{data:t,$data:r,schema:o,schemaCode:n,it:i}=e,s=i.opts.unicodeRegExp?"u":"",a=r?codegen._`(new RegExp(${n}, ${s}))`:code$1.usePattern(e,o);e.fail$data(codegen._`!${a}.test(${t})`)}};var _default$9=def$4,pattern=Object.defineProperty({default:_default$9},"__esModule",{value:!0});const error$4={message({keyword:e,schemaCode:t}){const r="maxProperties"===e?"more":"fewer";return codegen.str`must NOT have ${r} than ${t} items`},params:({schemaCode:e})=>codegen._`{limit: ${e}}`},def$5={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:error$4,code(e){const{keyword:t,data:r,schemaCode:o}=e,n="maxProperties"===t?codegen.operators.GT:codegen.operators.LT;e.fail$data(codegen._`Object.keys(${r}).length ${n} ${o}`)}};var _default$a=def$5,limitProperties=Object.defineProperty({default:_default$a},"__esModule",{value:!0});const error$5={message:({params:{missingProperty:e}})=>codegen.str`must have required property '${e}'`,params:({params:{missingProperty:e}})=>codegen._`{missingProperty: ${e}}`},def$6={keyword:"required",type:"object",schemaType:"array",$data:!0,error:error$5,code(e){const{gen:t,schema:r,schemaCode:o,data:n,$data:i,it:s}=e,{opts:a}=s;if(!i&&0===r.length)return;const u=r.length>=a.loopRequired;if(s.allErrors?function(){if(u||i)e.block$data(codegen.nil,l);else for(const t of r)code$1.checkReportMissingProp(e,t)}():function(){const s=t.let("missing");if(u||i){const r=t.let("valid",!0);e.block$data(r,(()=>function(r,i){e.setParams({missingProperty:r}),t.forOf(r,o,(()=>{t.assign(i,code$1.propertyInData(t,n,r,a.ownProperties)),t.if(codegen.not(i),(()=>{e.error(),t.break()}))}),codegen.nil)}(s,r))),e.ok(r)}else t.if(code$1.checkMissingProp(e,r,s)),code$1.reportMissingProp(e,s),t.else()}(),a.strictRequired){const t=e.parentSchema.properties,{definedProperties:o}=e.it;for(const e of r)if(void 0===(null==t?void 0:t[e])&&!o.has(e)){const t=`required property "${e}" is not defined at "${s.schemaEnv.baseId+s.errSchemaPath}" (strictRequired)`;util.checkStrictMode(s,t,s.opts.strictRequired)}}function l(){t.forOf("prop",o,(r=>{e.setParams({missingProperty:r}),t.if(code$1.noPropertyInData(t,n,r,a.ownProperties),(()=>e.error()))}))}}};var _default$b=def$6,required$1=Object.defineProperty({default:_default$b},"__esModule",{value:!0});const error$6={message({keyword:e,schemaCode:t}){const r="maxItems"===e?"more":"fewer";return codegen.str`must NOT have ${r} than ${t} items`},params:({schemaCode:e})=>codegen._`{limit: ${e}}`},def$7={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:error$6,code(e){const{keyword:t,data:r,schemaCode:o}=e,n="maxItems"===t?codegen.operators.GT:codegen.operators.LT;e.fail$data(codegen._`${r}.length ${n} ${o}`)}};var _default$c=def$7,limitItems=Object.defineProperty({default:_default$c},"__esModule",{value:!0});fastDeepEqual.code='require("ajv/dist/runtime/equal").default';var _default$d=fastDeepEqual,equal_1=Object.defineProperty({default:_default$d},"__esModule",{value:!0});const error$7={message:({params:{i:e,j:t}})=>codegen.str`must NOT have duplicate items (items ## ${t} and ${e} are identical)`,params:({params:{i:e,j:t}})=>codegen._`{i: ${e}, j: ${t}}`},def$8={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:error$7,code(e){const{gen:t,data:r,$data:o,schema:n,parentSchema:i,schemaCode:s,it:a}=e;if(!o&&!n)return;const u=t.let("valid"),l=i.items?dataType.getSchemaTypes(i.items):[];function c(o,n){const i=t.name("item"),s=dataType.checkDataTypes(l,i,a.opts.strictNumbers,dataType.DataType.Wrong),c=t.const("indices",codegen._`{}`);t.for(codegen._`;${o}--;`,(()=>{t.let(i,codegen._`${r}[${o}]`),t.if(s,codegen._`continue`),l.length>1&&t.if(codegen._`typeof ${i} == "string"`,codegen._`${i} += "_"`),t.if(codegen._`typeof ${c}[${i}] == "number"`,(()=>{t.assign(n,codegen._`${c}[${i}]`),e.error(),t.assign(u,!1).break()})).code(codegen._`${c}[${i}] = ${o}`)}))}function p(o,n){const i=util.useFunc(t,equal_1.default),s=t.name("outer");t.label(s).for(codegen._`;${o}--;`,(()=>t.for(codegen._`${n} = ${o}; ${n}--;`,(()=>t.if(codegen._`${i}(${r}[${o}], ${r}[${n}])`,(()=>{e.error(),t.assign(u,!1).break(s)}))))))}e.block$data(u,(function(){const o=t.let("i",codegen._`${r}.length`),n=t.let("j");e.setParams({i:o,j:n}),t.assign(u,!0),t.if(codegen._`${o} > 1`,(()=>(l.length>0&&!l.some((e=>"object"===e||"array"===e))?c:p)(o,n)))}),codegen._`${s} === false`),e.ok(u)}};var _default$e=def$8,uniqueItems=Object.defineProperty({default:_default$e},"__esModule",{value:!0});const error$8={message:"must be equal to constant",params:({schemaCode:e})=>codegen._`{allowedValue: ${e}}`},def$9={keyword:"const",$data:!0,error:error$8,code(e){const{gen:t,data:r,$data:o,schemaCode:n,schema:i}=e;o||i&&"object"==typeof i?e.fail$data(codegen._`!${util.useFunc(t,equal_1.default)}(${r}, ${n})`):e.fail(codegen._`${i} !== ${r}`)}};var _default$f=def$9,_const=Object.defineProperty({default:_default$f},"__esModule",{value:!0});const error$9={message:"must be equal to one of the allowed values",params:({schemaCode:e})=>codegen._`{allowedValues: ${e}}`},def$a={keyword:"enum",schemaType:"array",$data:!0,error:error$9,code(e){const{gen:t,data:r,$data:o,schema:n,schemaCode:i,it:s}=e;if(!o&&0===n.length)throw new Error("enum must have non-empty array");const a=n.length>=s.opts.loopEnum,u=util.useFunc(t,equal_1.default);let l;if(a||o)l=t.let("valid"),e.block$data(l,(function(){t.assign(l,!1),t.forOf("v",i,(e=>t.if(codegen._`${u}(${r}, ${e})`,(()=>t.assign(l,!0).break()))))}));else{if(!Array.isArray(n))throw new Error("ajv implementation error");const e=t.const("vSchema",i);l=codegen.or(...n.map(((t,o)=>function(e,t){const o=n[t];return"object"==typeof o&&null!==o?codegen._`${u}(${r}, ${e}[${t}])`:codegen._`${r} === ${o}`}(e,o))))}e.pass(l)}};var _default$g=def$a,_enum=Object.defineProperty({default:_default$g},"__esModule",{value:!0});const validation=[limitNumber.default,multipleOf.default,limitLength.default,pattern.default,limitProperties.default,required$1.default,limitItems.default,uniqueItems.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},_const.default,_enum.default];var _default$h=validation,validation_1=Object.defineProperty({default:_default$h},"__esModule",{value:!0}),additionalItems=createCommonjsModule((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.validateAdditionalItems=void 0;const r={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:{message:({params:{len:e}})=>codegen.str`must NOT have more than ${e} items`,params:({params:{len:e}})=>codegen._`{limit: ${e}}`},code(e){const{parentSchema:t,it:r}=e,{items:n}=t;Array.isArray(n)?o(e,n):util.checkStrictMode(r,'"additionalItems" is ignored when "items" is not an array of schemas')}};function o(e,t){const{gen:r,schema:o,data:n,keyword:i,it:s}=e;s.items=!0;const a=r.const("len",codegen._`${n}.length`);if(!1===o)e.setParams({len:t.length}),e.pass(codegen._`${a} <= ${t.length}`);else if("object"==typeof o&&!util.alwaysValidSchema(s,o)){const o=r.var("valid",codegen._`${a} <= ${t.length}`);r.if(codegen.not(o),(()=>function(o){r.forRange("i",t.length,a,(t=>{e.subschema({keyword:i,dataProp:t,dataPropType:util.Type.Num},o),s.allErrors||r.if(codegen.not(o),(()=>r.break()))}))}(o))),e.ok(o)}}t.validateAdditionalItems=o,t.default=r})),items=createCommonjsModule((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.validateTuple=void 0;const r={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(e){const{schema:t,it:r}=e;if(Array.isArray(t))return o(e,"additionalItems",t);r.items=!0,util.alwaysValidSchema(r,t)||e.ok(code$1.validateArray(e))}};function o(e,t,r=e.schema){const{gen:o,parentSchema:n,data:i,keyword:s,it:a}=e;!function(e){const{opts:o,errSchemaPath:n}=a,i=r.length,u=i===e.minItems&&(i===e.maxItems||!1===e[t]);if(o.strictTuples&&!u){const e=`"${s}" is ${i}-tuple, but minItems or maxItems/${t} are not specified or different at path "${n}"`;util.checkStrictMode(a,e,o.strictTuples)}}(n),a.opts.unevaluated&&r.length&&!0!==a.items&&(a.items=util.mergeEvaluated.items(o,r.length,a.items));const u=o.name("valid"),l=o.const("len",codegen._`${i}.length`);r.forEach(((t,r)=>{util.alwaysValidSchema(a,t)||(o.if(codegen._`${l} > ${r}`,(()=>e.subschema({keyword:s,schemaProp:r,dataProp:r},u))),e.ok(u))}))}t.validateTuple=o,t.default=r}));const def$b={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:e=>items.validateTuple(e,"items")};var _default$i=def$b,prefixItems=Object.defineProperty({default:_default$i},"__esModule",{value:!0});const error$a={message:({params:{len:e}})=>codegen.str`must NOT have more than ${e} items`,params:({params:{len:e}})=>codegen._`{limit: ${e}}`},def$c={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:error$a,code(e){const{schema:t,parentSchema:r,it:o}=e,{prefixItems:n}=r;o.items=!0,util.alwaysValidSchema(o,t)||(n?additionalItems.validateAdditionalItems(e,n):e.ok(code$1.validateArray(e)))}};var _default$j=def$c,items2020=Object.defineProperty({default:_default$j},"__esModule",{value:!0});const error$b={message:({params:{min:e,max:t}})=>void 0===t?codegen.str`must contain at least ${e} valid item(s)`:codegen.str`must contain at least ${e} and no more than ${t} valid item(s)`,params:({params:{min:e,max:t}})=>void 0===t?codegen._`{minContains: ${e}}`:codegen._`{minContains: ${e}, maxContains: ${t}}`},def$d={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:error$b,code(e){const{gen:t,schema:r,parentSchema:o,data:n,it:i}=e;let s,a;const{minContains:u,maxContains:l}=o;i.opts.next?(s=void 0===u?1:u,a=l):s=1;const c=t.const("len",codegen._`${n}.length`);if(e.setParams({min:s,max:a}),void 0===a&&0===s)return void util.checkStrictMode(i,'"minContains" == 0 without "maxContains": "contains" keyword ignored');if(void 0!==a&&s>a)return util.checkStrictMode(i,'"minContains" > "maxContains" is always invalid'),void e.fail();if(util.alwaysValidSchema(i,r)){let t=codegen._`${c} >= ${s}`;return void 0!==a&&(t=codegen._`${t} && ${c} <= ${a}`),void e.pass(t)}i.items=!0;const p=t.name("valid");if(void 0===a&&1===s)g(p,(()=>t.if(p,(()=>t.break()))));else{t.let(p,!1);const e=t.name("_valid"),r=t.let("count",0);g(e,(()=>t.if(e,(()=>function(e){t.code(codegen._`${e}++`),void 0===a?t.if(codegen._`${e} >= ${s}`,(()=>t.assign(p,!0).break())):(t.if(codegen._`${e} > ${a}`,(()=>t.assign(p,!1).break())),1===s?t.assign(p,!0):t.if(codegen._`${e} >= ${s}`,(()=>t.assign(p,!0))))}(r)))))}function g(r,o){t.forRange("i",0,c,(t=>{e.subschema({keyword:"contains",dataProp:t,dataPropType:util.Type.Num,compositeRule:!0},r),o()}))}e.result(p,(()=>e.reset()))}};var _default$k=def$d,contains=Object.defineProperty({default:_default$k},"__esModule",{value:!0}),dependencies=createCommonjsModule((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.validateSchemaDeps=t.validatePropertyDeps=t.error=void 0,t.error={message:({params:{property:e,depsCount:t,deps:r}})=>{const o=1===t?"property":"properties";return codegen.str`must have ${o} ${r} when property ${e} is present`},params:({params:{property:e,depsCount:t,deps:r,missingProperty:o}})=>codegen._`{property: ${e},
    missingProperty: ${o},
    depsCount: ${t},
    deps: ${r}}`};const r={keyword:"dependencies",type:"object",schemaType:"object",error:t.error,code(e){const[t,r]=function({schema:e}){const t={},r={};for(const o in e)"__proto__"!==o&&((Array.isArray(e[o])?t:r)[o]=e[o]);return[t,r]}(e);o(e,t),n(e,r)}};function o(e,t=e.schema){const{gen:r,data:o,it:n}=e;if(0===Object.keys(t).length)return;const i=r.let("missing");for(const s in t){const a=t[s];if(0===a.length)continue;const u=code$1.propertyInData(r,o,s,n.opts.ownProperties);e.setParams({property:s,depsCount:a.length,deps:a.join(", ")}),n.allErrors?r.if(u,(()=>{for(const t of a)code$1.checkReportMissingProp(e,t)})):(r.if(codegen._`${u} && (${code$1.checkMissingProp(e,a,i)})`),code$1.reportMissingProp(e,i),r.else())}}function n(e,t=e.schema){const{gen:r,data:o,keyword:n,it:i}=e,s=r.name("valid");for(const a in t)util.alwaysValidSchema(i,t[a])||(r.if(code$1.propertyInData(r,o,a,i.opts.ownProperties),(()=>{const t=e.subschema({keyword:n,schemaProp:a},s);e.mergeValidEvaluated(t,s)}),(()=>r.var(s,!0))),e.ok(s))}t.validatePropertyDeps=o,t.validateSchemaDeps=n,t.default=r}));const error$c={message:"property name must be valid",params:({params:e})=>codegen._`{propertyName: ${e.propertyName}}`},def$e={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:error$c,code(e){const{gen:t,schema:r,data:o,it:n}=e;if(util.alwaysValidSchema(n,r))return;const i=t.name("valid");t.forIn("key",o,(r=>{e.setParams({propertyName:r}),e.subschema({keyword:"propertyNames",data:r,dataTypes:["string"],propertyName:r,compositeRule:!0},i),t.if(codegen.not(i),(()=>{e.error(!0),n.allErrors||t.break()}))})),e.ok(i)}};var _default$l=def$e,propertyNames=Object.defineProperty({default:_default$l},"__esModule",{value:!0});const error$d={message:"must NOT have additional properties",params:({params:e})=>codegen._`{additionalProperty: ${e.additionalProperty}}`},def$f={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:error$d,code(e){const{gen:t,schema:r,parentSchema:o,data:n,errsCount:i,it:s}=e;if(!i)throw new Error("ajv implementation error");const{allErrors:a,opts:u}=s;if(s.props=!0,"all"!==u.removeAdditional&&util.alwaysValidSchema(s,r))return;const l=code$1.allSchemaProperties(o.properties),c=code$1.allSchemaProperties(o.patternProperties);function p(e){t.code(codegen._`delete ${n}[${e}]`)}function g(o){if("all"===u.removeAdditional||u.removeAdditional&&!1===r)p(o);else{if(!1===r)return e.setParams({additionalProperty:o}),e.error(),void(a||t.break());if("object"==typeof r&&!util.alwaysValidSchema(s,r)){const r=t.name("valid");"failing"===u.removeAdditional?(d(o,r,!1),t.if(codegen.not(r),(()=>{e.reset(),p(o)}))):(d(o,r),a||t.if(codegen.not(r),(()=>t.break())))}}}function d(t,r,o){const n={keyword:"additionalProperties",dataProp:t,dataPropType:util.Type.Str};!1===o&&Object.assign(n,{compositeRule:!0,createErrors:!1,allErrors:!1}),e.subschema(n,r)}t.forIn("key",n,(r=>{l.length||c.length?t.if(function(r){let n;if(l.length>8){const e=util.schemaRefOrVal(s,o.properties,"properties");n=code$1.isOwnProperty(t,e,r)}else n=l.length?codegen.or(...l.map((e=>codegen._`${r} === ${e}`))):codegen.nil;return c.length&&(n=codegen.or(n,...c.map((t=>codegen._`${code$1.usePattern(e,t)}.test(${r})`)))),codegen.not(n)}(r),(()=>g(r))):g(r)})),e.ok(codegen._`${i} === ${names_1.default.errors}`)}};var _default$m=def$f,additionalProperties$1=Object.defineProperty({default:_default$m},"__esModule",{value:!0});const def$g={keyword:"properties",type:"object",schemaType:"object",code(e){const{gen:t,schema:r,parentSchema:o,data:n,it:i}=e;"all"===i.opts.removeAdditional&&void 0===o.additionalProperties&&additionalProperties$1.default.code(new validate$1.KeywordCxt(i,additionalProperties$1.default,"additionalProperties"));const s=code$1.allSchemaProperties(r);for(const e of s)i.definedProperties.add(e);i.opts.unevaluated&&s.length&&!0!==i.props&&(i.props=util.mergeEvaluated.props(t,util.toHash(s),i.props));const a=s.filter((e=>!util.alwaysValidSchema(i,r[e])));if(0===a.length)return;const u=t.name("valid");for(const r of a)l(r)?c(r):(t.if(code$1.propertyInData(t,n,r,i.opts.ownProperties)),c(r),i.allErrors||t.else().var(u,!0),t.endIf()),e.it.definedProperties.add(r),e.ok(u);function l(e){return i.opts.useDefaults&&!i.compositeRule&&void 0!==r[e].default}function c(t){e.subschema({keyword:"properties",schemaProp:t,dataProp:t},u)}}};var _default$n=def$g,properties$1=Object.defineProperty({default:_default$n},"__esModule",{value:!0});const util_2=util,def$h={keyword:"patternProperties",type:"object",schemaType:"object",code(e){const{gen:t,schema:r,data:o,parentSchema:n,it:i}=e,{opts:s}=i,a=code$1.allSchemaProperties(r),u=a.filter((e=>util.alwaysValidSchema(i,r[e])));if(0===a.length||u.length===a.length&&(!i.opts.unevaluated||!0===i.props))return;const l=s.strictSchema&&!s.allowMatchingProperties&&n.properties,c=t.name("valid");!0===i.props||i.props instanceof codegen.Name||(i.props=util_2.evaluatedPropsToName(t,i.props));const{props:p}=i;function g(e){for(const t in l)new RegExp(e).test(t)&&util.checkStrictMode(i,`property ${t} matches pattern ${e} (use allowMatchingProperties)`)}function d(r){t.forIn("key",o,(o=>{t.if(codegen._`${code$1.usePattern(e,r)}.test(${o})`,(()=>{const n=u.includes(r);n||e.subschema({keyword:"patternProperties",schemaProp:r,dataProp:o,dataPropType:util_2.Type.Str},c),i.opts.unevaluated&&!0!==p?t.assign(codegen._`${p}[${o}]`,!0):n||i.allErrors||t.if(codegen.not(c),(()=>t.break()))}))}))}!function(){for(const e of a)l&&g(e),i.allErrors?d(e):(t.var(c,!0),d(e),t.if(c))}()}};var _default$o=def$h,patternProperties=Object.defineProperty({default:_default$o},"__esModule",{value:!0});const def$i={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(e){const{gen:t,schema:r,it:o}=e;if(util.alwaysValidSchema(o,r))return void e.fail();const n=t.name("valid");e.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},n),e.failResult(n,(()=>e.reset()),(()=>e.error()))},error:{message:"must NOT be valid"}};var _default$p=def$i,not=Object.defineProperty({default:_default$p},"__esModule",{value:!0});const def$j={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:code$1.validateUnion,error:{message:"must match a schema in anyOf"}};var _default$q=def$j,anyOf=Object.defineProperty({default:_default$q},"__esModule",{value:!0});const error$e={message:"must match exactly one schema in oneOf",params:({params:e})=>codegen._`{passingSchemas: ${e.passing}}`},def$k={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:error$e,code(e){const{gen:t,schema:r,parentSchema:o,it:n}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(n.opts.discriminator&&o.discriminator)return;const i=r,s=t.let("valid",!1),a=t.let("passing",null),u=t.name("_valid");e.setParams({passing:a}),t.block((function(){i.forEach(((r,o)=>{let i;util.alwaysValidSchema(n,r)?t.var(u,!0):i=e.subschema({keyword:"oneOf",schemaProp:o,compositeRule:!0},u),o>0&&t.if(codegen._`${u} && ${s}`).assign(s,!1).assign(a,codegen._`[${a}, ${o}]`).else(),t.if(u,(()=>{t.assign(s,!0),t.assign(a,o),i&&e.mergeEvaluated(i,codegen.Name)}))}))})),e.result(s,(()=>e.reset()),(()=>e.error(!0)))}};var _default$r=def$k,oneOf=Object.defineProperty({default:_default$r},"__esModule",{value:!0});const def$l={keyword:"allOf",schemaType:"array",code(e){const{gen:t,schema:r,it:o}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");const n=t.name("valid");r.forEach(((t,r)=>{if(util.alwaysValidSchema(o,t))return;const i=e.subschema({keyword:"allOf",schemaProp:r},n);e.ok(n),e.mergeEvaluated(i)}))}};var _default$s=def$l,allOf=Object.defineProperty({default:_default$s},"__esModule",{value:!0});const error$f={message:({params:e})=>codegen.str`must match "${e.ifClause}" schema`,params:({params:e})=>codegen._`{failingKeyword: ${e.ifClause}}`},def$m={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:error$f,code(e){const{gen:t,parentSchema:r,it:o}=e;void 0===r.then&&void 0===r.else&&util.checkStrictMode(o,'"if" without "then" and "else" is ignored');const n=hasSchema(o,"then"),i=hasSchema(o,"else");if(!n&&!i)return;const s=t.let("valid",!0),a=t.name("_valid");if(function(){const t=e.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},a);e.mergeEvaluated(t)}(),e.reset(),n&&i){const r=t.let("ifClause");e.setParams({ifClause:r}),t.if(a,u("then",r),u("else",r))}else n?t.if(a,u("then")):t.if(codegen.not(a),u("else"));function u(r,o){return()=>{const n=e.subschema({keyword:r},a);t.assign(s,a),e.mergeValidEvaluated(n,s),o?t.assign(o,codegen._`${r}`):e.setParams({ifClause:r})}}e.pass(s,(()=>e.error(!0)))}};function hasSchema(e,t){const r=e.schema[t];return void 0!==r&&!util.alwaysValidSchema(e,r)}var _default$t=def$m,_if=Object.defineProperty({default:_default$t},"__esModule",{value:!0});const def$n={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:e,parentSchema:t,it:r}){void 0===t.if&&util.checkStrictMode(r,`"${e}" without "if" is ignored`)}};var _default$u=def$n,thenElse=Object.defineProperty({default:_default$u},"__esModule",{value:!0});function getApplicator(e=!1){const t=[not.default,anyOf.default,oneOf.default,allOf.default,_if.default,thenElse.default,propertyNames.default,additionalProperties$1.default,dependencies.default,properties$1.default,patternProperties.default];return e?t.push(prefixItems.default,items2020.default):t.push(additionalItems.default,items.default),t.push(contains.default),t}var _default$v=getApplicator,applicator=Object.defineProperty({default:_default$v},"__esModule",{value:!0});const error$g={message:({schemaCode:e})=>codegen.str`must match format "${e}"`,params:({schemaCode:e})=>codegen._`{format: ${e}}`},def$o={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:error$g,code(e,t){const{gen:r,data:o,$data:n,schema:i,schemaCode:s,it:a}=e,{opts:u,errSchemaPath:l,schemaEnv:c,self:p}=a;u.validateFormats&&(n?function(){const n=r.scopeValue("formats",{ref:p.formats,code:u.code.formats}),i=r.const("fDef",codegen._`${n}[${s}]`),a=r.let("fType"),l=r.let("format");r.if(codegen._`typeof ${i} == "object" && !(${i} instanceof RegExp)`,(()=>r.assign(a,codegen._`${i}.type || "string"`).assign(l,codegen._`${i}.validate`)),(()=>r.assign(a,codegen._`"string"`).assign(l,i))),e.fail$data(codegen.or(!1===u.strictSchema?codegen.nil:codegen._`${s} && !${l}`,function(){const e=c.$async?codegen._`(${i}.async ? await ${l}(${o}) : ${l}(${o}))`:codegen._`${l}(${o})`,r=codegen._`(typeof ${l} == "function" ? ${e} : ${l}.test(${o}))`;return codegen._`${l} && ${l} !== true && ${a} === ${t} && !${r}`}()))}():function(){const n=p.formats[i];if(!n)return void function(){if(!1!==u.strictSchema)throw new Error(e());function e(){return`unknown format "${i}" ignored in schema at path "${l}"`}p.logger.warn(e())}();if(!0===n)return;const[s,a,g]=function(e){const t=e instanceof RegExp?codegen.regexpCode(e):u.code.formats?codegen._`${u.code.formats}${codegen.getProperty(i)}`:void 0,o=r.scopeValue("formats",{key:i,ref:e,code:t});return"object"!=typeof e||e instanceof RegExp?["string",e,o]:[e.type||"string",e.validate,codegen._`${o}.validate`]}(n);s===t&&e.pass(function(){if("object"==typeof n&&!(n instanceof RegExp)&&n.async){if(!c.$async)throw new Error("async format in sync schema");return codegen._`await ${g}(${o})`}return"function"==typeof a?codegen._`${g}(${o})`:codegen._`${g}.test(${o})`}())}())}};var _default$w=def$o,format=Object.defineProperty({default:_default$w},"__esModule",{value:!0});const format$1=[format.default];var _default$x=format$1,format_2=Object.defineProperty({default:_default$x},"__esModule",{value:!0}),metadata=createCommonjsModule((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.contentVocabulary=t.metadataVocabulary=void 0,t.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],t.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]}));const draft7Vocabularies=[core_1.default,validation_1.default,applicator.default(),format_2.default,metadata.metadataVocabulary,metadata.contentVocabulary];var _default$y=draft7Vocabularies,draft7=Object.defineProperty({default:_default$y},"__esModule",{value:!0}),types=createCommonjsModule((function(e,t){var r;Object.defineProperty(t,"__esModule",{value:!0}),t.DiscrError=void 0,(r=t.DiscrError||(t.DiscrError={})).Tag="tag",r.Mapping="mapping"}));const error$h={message:({params:{discrError:e,tagName:t}})=>e===types.DiscrError.Tag?`tag "${t}" must be string`:`value of tag "${t}" must be in oneOf`,params:({params:{discrError:e,tag:t,tagName:r}})=>codegen._`{error: ${e}, tag: ${r}, tagValue: ${t}}`},def$p={keyword:"discriminator",type:"object",schemaType:"object",error:error$h,code(e){const{gen:t,data:r,schema:o,parentSchema:n,it:i}=e,{oneOf:s}=n;if(!i.opts.discriminator)throw new Error("discriminator: requires discriminator option");const a=o.propertyName;if("string"!=typeof a)throw new Error("discriminator: requires propertyName");if(o.mapping)throw new Error("discriminator: mapping is not supported");if(!s)throw new Error("discriminator: requires oneOf keyword");const u=t.let("valid",!1),l=t.const("tag",codegen._`${r}${codegen.getProperty(a)}`);function c(r){const o=t.name("valid"),n=e.subschema({keyword:"oneOf",schemaProp:r},o);return e.mergeEvaluated(n,codegen.Name),o}t.if(codegen._`typeof ${l} == "string"`,(()=>function(){const r=function(){var e;const t={},r=i(n);let o=!0;for(let t=0;t<s.length;t++){const n=s[t],l=null===(e=n.properties)||void 0===e?void 0:e[a];if("object"!=typeof l)throw new Error(`discriminator: oneOf schemas must have "properties/${a}"`);o=o&&(r||i(n)),u(l,t)}if(!o)throw new Error(`discriminator: "${a}" must be required`);return t;function i({required:e}){return Array.isArray(e)&&e.includes(a)}function u(e,t){if(e.const)l(e.const,t);else{if(!e.enum)throw new Error(`discriminator: "properties/${a}" must have "const" or "enum"`);for(const r of e.enum)l(r,t)}}function l(e,r){if("string"!=typeof e||e in t)throw new Error(`discriminator: "${a}" values must be unique strings`);t[e]=r}}();t.if(!1);for(const e in r)t.elseIf(codegen._`${l} === ${e}`),t.assign(u,c(r[e]));t.else(),e.error(!1,{discrError:types.DiscrError.Mapping,tag:l,tagName:a}),t.endIf()}()),(()=>e.error(!1,{discrError:types.DiscrError.Tag,tag:l,tagName:a}))),e.ok(u)}};var _default$z=def$p,discriminator=Object.defineProperty({default:_default$z},"__esModule",{value:!0}),$schema="http://json-schema.org/draft-07/schema#",$id$1="http://json-schema.org/draft-07/schema#",title="Core schema meta-schema",definitions={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type$1=["object","boolean"],properties$2={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},draft7MetaSchema={$schema,$id:$id$1,title,definitions,type:type$1,properties:properties$2,default:!0},ajv=createCommonjsModule((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;const r=["/properties"],o="http://json-schema.org/draft-07/schema";class n extends core$1.default{_addVocabularies(){super._addVocabularies(),draft7.default.forEach((e=>this.addVocabulary(e))),this.opts.discriminator&&this.addKeyword(discriminator.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const e=this.opts.$data?this.$dataMetaSchema(draft7MetaSchema,r):draft7MetaSchema;this.addMetaSchema(e,o,!1),this.refs["http://json-schema.org/schema"]=o}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(o)?o:void 0)}}e.exports=t=n,Object.defineProperty(t,"__esModule",{value:!0}),t.default=n,Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return validate$1.KeywordCxt}}),Object.defineProperty(t,"_",{enumerable:!0,get:function(){return codegen._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return codegen.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return codegen.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return codegen.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return codegen.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return codegen.CodeGen}})})),Ajv=getDefaultExportFromCjs(ajv),formats=createCommonjsModule((function(e,t){function r(e,t){return{validate:e,compare:t}}Object.defineProperty(t,"__esModule",{value:!0}),t.formatNames=t.fastFormats=t.fullFormats=void 0,t.fullFormats={date:r(i,s),time:r(u,l),"date-time":r((function(e){const t=e.split(c);return 2===t.length&&i(t[0])&&u(t[1],!0)}),p),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:function(e){return g.test(e)&&d.test(e)},"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:function(e){if(y.test(e))return!1;try{return new RegExp(e),!0}catch(e){return!1}},uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:function(e){return f.lastIndex=0,f.test(e)},int32:{type:"number",validate:function(e){return Number.isInteger(e)&&e<=2147483647&&e>=-2147483648}},int64:{type:"number",validate:function(e){return Number.isInteger(e)}},float:{type:"number",validate:h},double:{type:"number",validate:h},password:!0,binary:!0},t.fastFormats={...t.fullFormats,date:r(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,s),time:r(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,l),"date-time":r(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,p),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i},t.formatNames=Object.keys(t.fullFormats);const o=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,n=[0,31,28,31,30,31,30,31,31,30,31,30,31];function i(e){const t=o.exec(e);if(!t)return!1;const r=+t[1],i=+t[2],s=+t[3];return i>=1&&i<=12&&s>=1&&s<=(2===i&&function(e){return e%4==0&&(e%100!=0||e%400==0)}(r)?29:n[i])}function s(e,t){if(e&&t)return e>t?1:e<t?-1:0}const a=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i;function u(e,t){const r=a.exec(e);if(!r)return!1;const o=+r[1],n=+r[2],i=+r[3],s=r[5];return(o<=23&&n<=59&&i<=59||23===o&&59===n&&60===i)&&(!t||""!==s)}function l(e,t){if(!e||!t)return;const r=a.exec(e),o=a.exec(t);return r&&o?(e=r[1]+r[2]+r[3]+(r[4]||""))>(t=o[1]+o[2]+o[3]+(o[4]||""))?1:e<t?-1:0:void 0}const c=/t|\s/i;function p(e,t){if(!e||!t)return;const[r,o]=e.split(c),[n,i]=t.split(c),a=s(r,n);return void 0!==a?a||l(o,i):void 0}const g=/\/|:/,d=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,f=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm;function h(){return!0}const y=/[^\\]\\Z/})),limit=createCommonjsModule((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.formatLimitDefinition=void 0;const r=codegen.operators,o={formatMaximum:{okStr:"<=",ok:r.LTE,fail:r.GT},formatMinimum:{okStr:">=",ok:r.GTE,fail:r.LT},formatExclusiveMaximum:{okStr:"<",ok:r.LT,fail:r.GTE},formatExclusiveMinimum:{okStr:">",ok:r.GT,fail:r.LTE}},n={message:({keyword:e,schemaCode:t})=>codegen.str`should be ${o[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>codegen._`{comparison: ${o[e].okStr}, limit: ${t}}`};t.formatLimitDefinition={keyword:Object.keys(o),type:"string",schemaType:"string",$data:!0,error:n,code(e){const{gen:t,data:r,schemaCode:n,keyword:i,it:s}=e,{opts:a,self:u}=s;if(!a.validateFormats)return;const l=new ajv.KeywordCxt(s,u.RULES.all.format.definition,"format");function c(e){return codegen._`${e}.compare(${r}, ${n}) ${o[i].fail} 0`}l.$data?function(){const r=t.scopeValue("formats",{ref:u.formats,code:a.code.formats}),o=t.const("fmt",codegen._`${r}[${l.schemaCode}]`);e.fail$data(codegen.or(codegen._`typeof ${o} != "object"`,codegen._`${o} instanceof RegExp`,codegen._`typeof ${o}.compare != "function"`,c(o)))}():function(){const r=l.schema,o=u.formats[r];if(!o||!0===o)return;if("object"!=typeof o||o instanceof RegExp||"function"!=typeof o.compare)throw new Error(`"${i}": format "${r}" does not define "compare" function`);const n=t.scopeValue("formats",{key:r,ref:o,code:a.code.formats?codegen._`${a.code.formats}${codegen.getProperty(r)}`:void 0});e.fail$data(c(n))}()},dependencies:["format"]},t.default=e=>(e.addKeyword(t.formatLimitDefinition),e)})),dist=createCommonjsModule((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});const r=new codegen.Name("fullFormats"),o=new codegen.Name("fastFormats"),n=(e,t={keywords:!0})=>{if(Array.isArray(t))return i(e,t,formats.fullFormats,r),e;const[n,s]="fast"===t.mode?[formats.fastFormats,o]:[formats.fullFormats,r];return i(e,t.formats||formats.formatNames,n,s),t.keywords&&limit.default(e),e};function i(e,t,r,o){var n,i;null!==(n=(i=e.opts.code).formats)&&void 0!==n||(i.formats=codegen._`require("ajv-formats/dist/formats").${o}`);for(const o of t)e.addFormat(o,r[o])}n.get=(e,t="full")=>{const r=("fast"===t?formats.fastFormats:formats.fullFormats)[e];if(!r)throw new Error(`Unknown format "${e}"`);return r},e.exports=t=n,Object.defineProperty(t,"__esModule",{value:!0}),t.default=n})),addFormats=getDefaultExportFromCjs(dist);const SchemasTableName="_schemas",defaultSchema={properties:{_id:{type:"string"}}};function createSchemaMiddleware(e){return Object.assign(Object.assign({},e),{table(t){const r=e.table(t);return t.startsWith("_")?r:Object.assign(Object.assign({},r),{mutate(o){var n;return __awaiter(this,void 0,void 0,(function*(){const i=yield e.table(SchemasTableName).get({key:t,trans:o.trans}),s=null!==(n=null==i?void 0:i.schema)&&void 0!==n?n:defaultSchema,a=addFormats(new Ajv({useDefaults:!0})).compile(s);try{switch(o.type){case"add":case"put":const e=Dexie.deepClone(o.values);e.forEach((e=>{if(!1===a(e)&&a.errors)throw new Ajv.ValidationError(a.errors)})),o=Object.assign(Object.assign({},o),{values:e})}}catch(e){throw e}return r.mutate(o)}))}})}})}const schemaMiddleware={stack:"dbcore",name:"SchemaMiddleware",create:createSchemaMiddleware};function schemaAddon(e){e.use(schemaMiddleware);const t=initOverrideCreateTransaction(e,SchemasTableName);e._createTransaction=Dexie.override(e._createTransaction,t);const r=initOverrideParseStoreSpec({[SchemasTableName]:"&name"});e.Version.prototype._parseStoresSpec=Dexie.override(e.Version.prototype._parseStoresSpec,r),e.Table.prototype.setSchema=function(e=defaultSchema){return __awaiter(this,void 0,void 0,(function*(){yield this.db.table(SchemasTableName).put({name:this.name,schema:e})}))},e.Table.prototype.getSchema=function(){return __awaiter(this,void 0,void 0,(function*(){const e=yield this.db.table(SchemasTableName).get({name:this.name}),t=null==e?void 0:e.schema;return void 0===t||0===Object.keys(t).length&&t.constructor===Object?defaultSchema:t}))}}function createUlidMiddleware(e){return Object.assign(Object.assign({},e),{table(t){const r=e.table(t);return t.startsWith("_")?r:Object.assign(Object.assign({},r),{mutate(e){return __awaiter(this,void 0,void 0,(function*(){switch(e.type){case"add":case"put":const{primaryKey:t}=r.schema;"_id"===t.keyPath&&t.autoIncrement&&e.values.forEach((e=>e._id=e._id||ulid()))}return yield r.mutate(e)}))}})}})}const ulidMiddleware={stack:"dbcore",name:"UlidMiddleware",create:createUlidMiddleware};let indexedDB,IDBKeyRange;if(indexeddbshim_min instanceof Function){const e=indexeddbshim_min({},{checkOrigin:!1});indexedDB=e.indexedDB,IDBKeyRange=e.IDBKeyRange}function NewDexie(e){const t={addons:[...Dexie.addons,changesAddon,schemaAddon]};indexedDB&&(t.indexedDB=indexedDB),IDBKeyRange&&(t.IDBKeyRange=IDBKeyRange);const r=new Dexie(e,t);return r.use(ulidMiddleware),r.on("versionchange",(()=>(r.close(),r.open().then((()=>{console.log("Database reloaded with updated version")})).catch((e=>{throw console.log("Failed to reload database with updated version"),e})),!1))),r}function nameFromKeyPath$1(e){return"string"==typeof e?e:e?"["+[].join.call(e,"+")+"]":""}function createIndexString({path:e,unique:t,multi:r,auto:o},n=!1){return(t&&!n?"&":"")+(r?"*":"")+(o?"++":"")+nameFromKeyPath$1(e)}class Database{constructor(e,...t){this.collectionMap=new Map,this.pendingSchemas=[],this.dexie=NewDexie(e),this.remote=new Remote(this.dexie),t.forEach((e=>this.pendingSchemas.push(e)))}get id(){return this.remote.id}open(e=1){return __awaiter(this,void 0,void 0,(function*(){if(!this.dexie.isOpen()){let t=[];if(this.pendingSchemas.length){const e=this.pendingSchemas.map((e=>{var t;const r=[{path:"_id",uuid:!1,auto:!0},...null!==(t=e.indexes)&&void 0!==t?t:[]].map((e=>createIndexString(e))).join(",");return[e.name,r]}));t=Object.fromEntries(e)}this.dexie.version(e).stores(t),yield this.dexie.open();for(const e of this.pendingSchemas)if(!this.collectionMap.has(e.name)){const t=this.dexie.table(e.name);yield t.setSchema(e.schema),this.collectionMap.set(e.name,new Collection(t))}this.pendingSchemas=[]}return this}))}close(){return this.dexie.close()}delete(){return this.dexie.delete()}get verno(){return this.dexie.verno}collectionConfig(e){return this.pendingSchemas.push(e),this}collection(e){let t=this.collectionMap.get(e);if(void 0!==t)return t;const r=this.dexie.table(e);return t=new Collection(r),this.collectionMap.set(e,t),t}collections(){const e=this.dexie.tables.filter((e=>!e.name.startsWith("_")));for(const t of e)this.collectionMap.has(t.name)||this.collectionMap.set(t.name,new Collection(t));return this.collectionMap}}}}]);